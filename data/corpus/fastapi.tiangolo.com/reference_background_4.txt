Title: Background Tasks in FastAPI
URL: https://fastapi.tiangolo.com/reference/background/
Summary: This section covers the `BackgroundTasks` feature in FastAPI, detailing its purpose and functionality. It includes references to the key components such as example usage, function parameters (func, args, kwargs), asynchronous behavior (is_async), task management (tasks), and the method to add a task (add_task).
---

Table of contents 
  * [ BackgroundTasks  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks)
    * [ Example  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks--example)
    * [ func  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.func)
    * [ args  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.args)
    * [ kwargs  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.kwargs)
    * [ is_async  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.is_async)
    * [ tasks  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.tasks)
    * [ add_task  ](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.add_task)


  1. [ FastAPI  ](https://fastapi.tiangolo.com/)
  2. [ Reference  ](https://fastapi.tiangolo.com/reference/)


# Background Tasks - `BackgroundTasks`[¶](https://fastapi.tiangolo.com/reference/background/#background-tasks-backgroundtasks "Permanent link")
You can declare a parameter in a _path operation function_ or dependency function with the type `BackgroundTasks`, and then you can use it to schedule the execution of background tasks after the response is sent.
You can import it directly from `fastapi`:
```
fromfastapiimport BackgroundTasks

```

##  fastapi.BackgroundTasks [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks "Permanent link")
```
BackgroundTasks(tasks=None)

```

Bases: `BackgroundTasks`
A collection of background tasks that will be called after a response has been sent to the client.
Read more about it in the [FastAPI docs for Background Tasks](https://fastapi.tiangolo.com/tutorial/background-tasks/).
#### Example[¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks--example "Permanent link")
```
fromfastapiimport BackgroundTasks, FastAPI
app = FastAPI()
defwrite_notification(email: str, message=""):
  with open("log.txt", mode="w") as email_file:
    content = f"notification for {email}: {message}"
    email_file.write(content)
@app.post("/send-notification/{email}")
async defsend_notification(email: str, background_tasks: BackgroundTasks):
  background_tasks.add_task(write_notification, email, message="some notification")
  return {"message": "Notification sent in the background"}

```

PARAMETER | DESCRIPTION  
---|---  
`tasks` |  **TYPE:** `Sequence[BackgroundTask] | None` **DEFAULT:** `None`  
Source code in `starlette/background.py`
```
32
33
```
| ```
def__init__(self, tasks: typing.Sequence[BackgroundTask] | None = None):
  self.tasks = list(tasks) if tasks else []

```
  
---|---  
###  func `instance-attribute` [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.func "Permanent link")
```
func = func

```

###  args `instance-attribute` [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.args "Permanent link")
```
args = args

```

###  kwargs `instance-attribute` [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.kwargs "Permanent link")
```
kwargs = kwargs

```

###  is_async `instance-attribute` [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.is_async "Permanent link")
```
is_async = is_async_callable(func)

```

###  tasks `instance-attribute` [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.tasks "Permanent link")
```
tasks = list(tasks) if tasks else []

```

###  add_task [¶](https://fastapi.tiangolo.com/reference/background/#fastapi.BackgroundTasks.add_task "Permanent link")
```
add_task(func, *args, **kwargs)

```

Add a function to be called in the background after the response is sent.
Read more about it in the [FastAPI docs for Background Tasks](https://fastapi.tiangolo.com/tutorial/background-tasks/).
PARAMETER | DESCRIPTION  
---|---  
`func` |  The function to call after the response is sent. It can be a regular `def` function or an `async def` function. **TYPE:** `Callable[P, Any]`  
`*args` |  **TYPE:** `args` **DEFAULT:** `()`  
`**kwargs` |  **TYPE:** `kwargs` **DEFAULT:** `{}`  
Source code in `fastapi/background.py`
```
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
```
| ```
defadd_task(
  self,
  func: Annotated[
    Callable[P, Any],
    Doc(
"""
      The function to call after the response is sent.
      It can be a regular `def` function or an `async def` function.
      """
    ),
  ],
  *args: P.args,
  **kwargs: P.kwargs,
) -> None:
"""
  Add a function to be called in the background after the response is sent.
  Read more about it in the
  [FastAPI docs for Background Tasks](https://fastapi.tiangolo.com/tutorial/background-tasks/).
  """
  return super().add_task(func, *args, **kwargs)