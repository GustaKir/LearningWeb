Title: Asynchronous Testing with AsyncClient in FastAPI
URL: https://fastapi.tiangolo.com/advanced/async-tests/
Summary: This document discusses using the `AsyncClient` for asynchronous requests in FastAPI testing, highlighting that lifespan events are not triggered by `AsyncClient`. It advises on using `LifespanManager` for triggering these events and mentions the capability of calling other asynchronous functions within test cases.
---

```

...that we used to make our requests with the `TestClient`.
Tip
Note that we're using async/await with the new `AsyncClient` - the request is asynchronous.
Warning
If your application relies on lifespan events, the `AsyncClient` won't trigger these events. To ensure they are triggered, use `LifespanManager` from [florimondmanca/asgi-lifespan](https://github.com/florimondmanca/asgi-lifespan#usage).
## Other Asynchronous Function Calls[Â¶](https://fastapi.tiangolo.com/advanced/async-tests/#other-asynchronous-function-calls "Permanent link")
As the testing function is now asynchronous, you can now also call (and `await`) other `async` functions apart from sending requests to your FastAPI application in your tests, exactly as you would call them anywhere else in your code.
Tip
If you encounter a `RuntimeError: Task attached to a different loop` when integrating asynchronous function calls in your tests (e.g. when using [MongoDB's MotorClient](https://stackoverflow.com/questions/41584243/runtimeerror-task-attached-to-a-different-loop)), remember to instantiate objects that need an event loop only within async functions, e.g. an `'@app.on_event("startup")` callback.
Was this page helpful? 
Thanks for your feedback! 
Thanks for your feedback! 
Back to top  [ Previous  Testing Dependencies with Overrides  ](https://fastapi.tiangolo.com/advanced/testing-dependencies/) [ Next  Settings and Environment Variables  ](https://fastapi.tiangolo.com/advanced/settings/)
The FastAPI trademark is owned by [@tiangolo](https://tiangolo.com) and is registered in the US and across other regions 
Made with [ Material for MkDocs ](https://squidfunk.github.io/mkdocs-material/)
[ ](https://github.com/fastapi/fastapi "github.com") [ ](https://discord.gg/VQjSZaeJmf "discord.gg") [ ](https://twitter.com/fastapi "twitter.com") [ ](https://www.linkedin.com/in/tiangolo "www.linkedin.com") [ ](https://dev.to/tiangolo "dev.to") [ ](https://medium.com/@tiangolo "medium.com") [ ](https://tiangolo.com "tiangolo.com")