Title: FastAPI Release Notes 0.61.0
URL: https://fastapi.tiangolo.com/release-notes/
Summary: This release introduces new features, including support for injecting `HTTPConnection` and handling WebSocket disconnections. Key breaking changes include requiring Pydantic version greater than `1.0.0` and the removal of deprecated parameters, enhancing maintainability and enabling new functionalities.
---

## 0.61.0[¶](https://fastapi.tiangolo.com/release-notes/#0610 "Permanent link")
### Features[¶](https://fastapi.tiangolo.com/release-notes/#features_40 "Permanent link")
  * Add support for injecting `HTTPConnection` (as `Request` and `WebSocket`). Useful for sharing app state in dependencies. PR [#1827](https://github.com/tiangolo/fastapi/pull/1827) by [@nsidnev](https://github.com/nsidnev).
  * Export `WebSocketDisconnect` and add example handling WebSocket disconnections to docs. PR [#1822](https://github.com/tiangolo/fastapi/pull/1822) by [@rkbeatss](https://github.com/rkbeatss).


### Breaking Changes[¶](https://fastapi.tiangolo.com/release-notes/#breaking-changes_7 "Permanent link")
  * Require Pydantic > `1.0.0`.
    * Remove support for deprecated Pydantic `0.32.2`. This improves maintainability and allows new features.
    * In `FastAPI` and `APIRouter`:
      * Remove _path operation decorators_ related/deprecated parameter `response_model_skip_defaults` (use `response_model_exclude_unset` instead).
      * Change _path operation decorators_ parameter default for `response_model_exclude` from `set()` to `None` (as is in Pydantic).
    * In `encoders.jsonable_encoder`:
      * Remove deprecated `skip_defaults`, use instead `exclude_unset`.
      * Set default of `exclude` from `set()` to `None` (as is in Pydantic).
    * PR [#1862](https://github.com/tiangolo/fastapi/pull/1862).
  * In `encoders.jsonable_encoder` remove parameter `sqlalchemy_safe`.
    * It was an early hack to allow returning SQLAlchemy models, but it was never documented, and the recommended way is using Pydantic's `orm_mode` as described in the tutorial: [SQL (Relational) Databases](https://fastapi.tiangolo.com/tutorial/sql-databases/).
    * PR [#1864](https://github.com/tiangolo/fastapi/pull/1864).


### Docs[¶](https://fastapi.tiangolo.com/release-notes/#docs_67 "Permanent link")
  * Add link to the course by TestDriven.io: [Test-Driven Development with FastAPI and Docker](https://testdriven.io/courses/tdd-fastapi/). PR [#1860](https://github.com/tiangolo/fastapi/pull/1860).
  * Fix empty log message in docs example about handling errors. PR [#1815](https://github.com/tiangolo/fastapi/pull/1815) by [@manlix](https://github.com/manlix).
  * Reword text to reduce ambiguity while not being gender-specific. PR [#1824](https://github.com/tiangolo/fastapi/pull/1824) by [@Mause](https://github.com/Mause).


### Internal[¶](https://fastapi.tiangolo.com/release-notes/#internal_85 "Permanent link")
  * Add Flake8 linting. Original PR [#1774](https://github.com/tiangolo/fastapi/pull/1774) by [@MashhadiNima](https://github.com/MashhadiNima).
  * Disable Gitter bot, as it's currently broken, and Gitter's response doesn't show the problem. PR [#1853](https://github.com/tiangolo/fastapi/pull/1853).