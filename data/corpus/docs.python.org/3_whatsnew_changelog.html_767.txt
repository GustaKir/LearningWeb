Title: Test Enhancements in Python Codebase
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details various improvements and additions to tests in Python, including new tests for the calendar module CLI, updates to test_codecs, and changes to utilize unittest for test discovery across multiple test files, ensuring enhanced reliability and accuracy of the codebase.
---

### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id797 "Link to this heading")
  * [bpo-18982](https://bugs.python.org/issue?@action=redirect&bpo=18982): Add tests for CLI of the calendar module.
  * [bpo-19548](https://bugs.python.org/issue?@action=redirect&bpo=19548): Added some additional checks to test_codecs to ensure that statements in the updated documentation remain accurate. Patch by Martin Panter.
  * [bpo-22838](https://bugs.python.org/issue?@action=redirect&bpo=22838): All test_re tests now work with unittest test discovery.
  * [bpo-22173](https://bugs.python.org/issue?@action=redirect&bpo=22173): Update lib2to3 tests to use unittest test discovery.
  * [bpo-16000](https://bugs.python.org/issue?@action=redirect&bpo=16000): Convert test_curses to use unittest.
  * [bpo-21456](https://bugs.python.org/issue?@action=redirect&bpo=21456): Skip two tests in test_urllib2net.py if _ssl module not present. Patch by Remi Pointel.
  * [bpo-20746](https://bugs.python.org/issue?@action=redirect&bpo=20746): Fix test_pdb to run in refleak mode (-R). Patch by Xavier de Gaye.
  * [bpo-22060](https://bugs.python.org/issue?@action=redirect&bpo=22060): test_ctypes has been somewhat cleaned up and simplified; it now uses unittest test discovery to find its tests.
  * [bpo-22104](https://bugs.python.org/issue?@action=redirect&bpo=22104): regrtest.py no longer holds a reference to the suite of tests loaded from test modules that don’t define test_main().
  * [bpo-22111](https://bugs.python.org/issue?@action=redirect&bpo=22111): Assorted cleanups in test_imaplib. Patch by Milan Oberkirch.
  * [bpo-22002](https://bugs.python.org/issue?@action=redirect&bpo=22002): Added `load_package_tests` function to test.support and used it to implement/augment test discovery in test_asyncio, test_email, test_importlib, test_json, and test_tools.
  * [bpo-21976](https://bugs.python.org/issue?@action=redirect&bpo=21976): Fix test_ssl to accept LibreSSL version strings. Thanks to William Orr.
  * [bpo-21918](https://bugs.python.org/issue?@action=redirect&bpo=21918): Converted test_tools from a module to a package containing separate test files for each tested script.
  * [bpo-9554](https://bugs.python.org/issue?@action=redirect&bpo=9554): Use modern unittest features in test_argparse. Initial patch by Denver Coneybeare and Radu Voicilas.
  * [bpo-20155](https://bugs.python.org/issue?@action=redirect&bpo=20155): Changed HTTP method names in failing tests in test_httpservers so that packet filtering software (specifically Windows Base Filtering Engine) does not interfere with the transaction semantics expected by the tests.
  * [bpo-19493](https://bugs.python.org/issue?@action=redirect&bpo=19493): Refactored the ctypes test package to skip tests explicitly rather than silently.
  * [bpo-18492](https://bugs.python.org/issue?@action=redirect&bpo=18492): All resources are now allowed when tests are not run by regrtest.py.
  * [bpo-21634](https://bugs.python.org/issue?@action=redirect&bpo=21634): Fix pystone micro-benchmark: use floor division instead of true division to benchmark integers instead of floating-point numbers. Set pystone version to 1.2. Patch written by Lennart Regebro.
  * [bpo-21605](https://bugs.python.org/issue?@action=redirect&bpo=21605): Added tests for Tkinter images.
  * [bpo-21493](https://bugs.python.org/issue?@action=redirect&bpo=21493): Added test for ntpath.expanduser(). Original patch by Claudiu Popa.
  * [bpo-19925](https://bugs.python.org/issue?@action=redirect&bpo=19925): Added tests for the spwd module. Original patch by Vajrasky Kok.
  * [bpo-21522](https://bugs.python.org/issue?@action=redirect&bpo=21522): Added Tkinter tests for Listbox.itemconfigure(), PanedWindow.paneconfigure(), and Menu.entryconfigure().
  * [bpo-17756](https://bugs.python.org/issue?@action=redirect&bpo=17756): Fix test_code test when run from the installed location.
  * [bpo-17752](https://bugs.python.org/issue?@action=redirect&bpo=17752): Fix distutils tests when run from the installed location.
  * [bpo-18604](https://bugs.python.org/issue?@action=redirect&bpo=18604): Consolidated checks for GUI availability. All platforms now at least check whether Tk can be instantiated when the GUI resource is requested.
  * [bpo-21275](https://bugs.python.org/issue?@action=redirect&bpo=21275): Fix a socket test on KFreeBSD.
  * [bpo-21223](https://bugs.python.org/issue?@action=redirect&bpo=21223): Pass test_site/test_startup_imports when some of the extensions are built as builtins.
  * [bpo-20635](https://bugs.python.org/issue?@action=redirect&bpo=20635): Added tests for Tk geometry managers.
  * Add test case for freeze.
  * [bpo-20743](https://bugs.python.org/issue?@action=redirect&bpo=20743): Fix a reference leak in test_tcl.
  * [bpo-21097](https://bugs.python.org/issue?@action=redirect&bpo=21097): Move test_namespace_pkgs into test_importlib.
  * [bpo-21503](https://bugs.python.org/issue?@action=redirect&bpo=21503): Use test