Title: Python 3 Changelog – Recent Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section highlights several Python updates and fixes, including support for `sys.last_exc` in `idlelib`, performance improvements for `ast.get_source_segment()`, and a bug fix in `pdb` regarding module-level source code display.
---

This could happen when, for example, your OpenSSL does not include SHA3 support and you want to compute `hmac.digest(b'K', b'M', 'sha3_256')`.
  * [gh-102778](https://github.com/python/cpython/issues/102778): Support `sys.last_exc` in [`idlelib`](https://docs.python.org/3/library/idle.html#module-idlelib "idlelib: Implementation package for the IDLE shell/editor.").
  * [gh-103285](https://github.com/python/cpython/issues/103285): Improve performance of [`ast.get_source_segment()`](https://docs.python.org/3/library/ast.html#ast.get_source_segment "ast.get_source_segment").
  * [gh-103225](https://github.com/python/cpython/issues/103225): Fix a bug in [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") when displaying line numbers of module-level source code.
  * [gh-103092](https://github.com/python/cpython/issues/103092): Adapt the [`msvcrt`](https://docs.python.org/3/library/msvcrt.html#module-msvcrt "msvcrt: Miscellaneous useful routines from the MS VC++ runtime. \(Windows\)") extension module to [**PEP 687**](https://peps.python.org/pep-0687/).
  * [gh-103092](https://github.com/python/cpython/issues/103092): Adapt the [`winsound`](https://docs.python.org/3/library/winsound.html#module-winsound "winsound: Access to the sound-playing machinery for Windows. \(Windows\)") extension module to [**PEP 687**](https://peps.python.org/pep-0687/).
  * [gh-93910](https://github.com/python/cpython/issues/93910): Remove deprecation of enum `member.member` access.
  * [gh-102978](https://github.com/python/cpython/issues/102978): Fixes [`unittest.mock.patch()`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch "unittest.mock.patch") not enforcing function signatures for methods decorated with `@classmethod` or `@staticmethod` when patch is called with `autospec=True`.
  * [gh-103092](https://github.com/python/cpython/issues/103092): Isolate `_socket` (apply [**PEP 687**](https://peps.python.org/pep-0687/)). Patch by Erlend E. Aasland.
  * [gh-100479](https://github.com/python/cpython/issues/100479): Add [`pathlib.PurePath.with_segments()`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.with_segments "pathlib.PurePath.with_segments"), which creates a path object from arguments. This method is called whenever a derivative path is created, such as from [`pathlib.PurePath.parent`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parent "pathlib.PurePath.parent"). Subclasses may override this method to share information between path objects.
  * [gh-103220](https://github.com/python/cpython/issues/103220): Fix issue where [`os.path.join()`](https://docs.python.org/3/library/os.path.html#os.path.join "os.path.join") added a slash when joining onto an incomplete UNC drive with a trailing slash on Windows.
  * [gh-103204](https://github.com/python/cpython/issues/103204): Fixes [`http.server`](https://docs.python.org/3/library/http.server.html#module-http.server "http.server: HTTP server and request handlers.") accepting HTTP requests with HTTP version numbers preceded by ‘+’, or ‘-’, or with digit-separating ‘_’ characters. The length of the version numbers is also constrained.
  * [gh-75586](https://github.com/python/cpython/issues/75586): Fix various Windows-specific issues with `shutil.which`.
  * [gh-103193](https://github.com/python/cpython/issues/103193): Improve performance of [`inspect.getattr_static()`](https://docs.python.org/3/library/inspect.html#inspect.getattr_static "inspect.getattr_static"). Patch by Alex Waygood.
  * [gh-103176](https://github.com/python/cpython/issues/103176): [`sys._current_exceptions()`](https://docs.python.org/3/library/sys.html#sys._current_exceptions "sys._current_exceptions") now returns a mapping from thread-id to an exception instance, rather than to a `(typ, exc, tb)` tuple.
  * [gh-103143](https://github.com/python/cpython/issues/103143): Polish the help messages and docstrings of [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.").
  * [gh-103015](https://github.com/python/cpython/issues/103015): Add _entrypoint_ keyword-only parameter to [`sqlite3.Connection.load_extension()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.load_extension "sqlite3.Connection.load_extension"), for overriding the SQLite extension entry point. Patch by Erlend E.