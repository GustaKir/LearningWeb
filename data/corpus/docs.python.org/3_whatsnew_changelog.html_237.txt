Title: Python 3.x Change Log Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: Recent changes include an exception raised by `shlex.split()` when passing `None`, the removal of trailing spaces in `pydoc` output, a fix for a memory leak in `pickle.Pickler`, and the deprecation of certain features in `sqlite3`.
---

Patch by Victor Stinner.
  * [gh-94352](https://github.com/python/cpython/issues/94352): [`shlex.split()`](https://docs.python.org/3/library/shlex.html#shlex.split "shlex.split"): Passing `None` for _s_ argument now raises an exception, rather than reading [`sys.stdin`](https://docs.python.org/3/library/sys.html#sys.stdin "sys.stdin"). The feature was deprecated in Python 3.9. Patch by Victor Stinner.
  * [gh-94318](https://github.com/python/cpython/issues/94318): Strip trailing spaces in [`pydoc`](https://docs.python.org/3/library/pydoc.html#module-pydoc "pydoc: Documentation generator and online help system.") text output.
  * [gh-89988](https://github.com/python/cpython/issues/89988): Fix memory leak in [`pickle.Pickler`](https://docs.python.org/3/library/pickle.html#pickle.Pickler "pickle.Pickler") when looking up `dispatch_table`. Patch by Kumar Aditya.
  * [gh-90016](https://github.com/python/cpython/issues/90016): Deprecate [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") [default adapters and converters](https://docs.python.org/3/library/sqlite3.html#sqlite3-default-converters). Patch by Erlend E. Aasland.
  * [gh-94254](https://github.com/python/cpython/issues/94254): Fixed types of [`struct`](https://docs.python.org/3/library/struct.html#module-struct "struct: Interpret bytes as packed binary data.") module to be immutable. Patch by Kumar Aditya.
  * [gh-93259](https://github.com/python/cpython/issues/93259): Now raise `ValueError` when `None` or an empty string are passed to `Distribution.from_name` (and other callers).
  * [gh-74696](https://github.com/python/cpython/issues/74696): [`shutil.make_archive()`](https://docs.python.org/3/library/shutil.html#shutil.make_archive "shutil.make_archive") now passes the _root_dir_ argument to custom archivers which support it.
  * [gh-94216](https://github.com/python/cpython/issues/94216): The [`dis`](https://docs.python.org/3/library/dis.html#module-dis "dis: Disassembler for Python bytecode.") module now has the opcodes for pseudo instructions (those which are used by the compiler during code generation but then removed or replaced by real opcodes before the final bytecode is emitted).
  * [gh-93096](https://github.com/python/cpython/issues/93096): Removed undocumented `python -m codecs`. Use `python -m unittest test.test_codecs.EncodedFileTest` instead.
  * [gh-94207](https://github.com/python/cpython/issues/94207): Made `_struct.Struct` GC-tracked in order to fix a reference leak in the `_struct` module.
  * [gh-93096](https://github.com/python/cpython/issues/93096): Removed undocumented `-t` argument of `python -m base64`. Use `python -m unittest test.test_base64.LegacyBase64TestCase.test_encodebytes` instead.
  * [gh-94226](https://github.com/python/cpython/issues/94226): Remove the `locale.format()` function, deprecated in Python 3.7: use [`locale.format_string()`](https://docs.python.org/3/library/locale.html#locale.format_string "locale.format_string") instead. Patch by Victor Stinner.
  * [gh-94199](https://github.com/python/cpython/issues/94199): Remove the `ssl.match_hostname()` function. The `ssl.match_hostname()` was deprecated in Python 3.7. OpenSSL performs hostname matching since Python 3.7, Python no longer uses the `ssl.match_hostname()` function. Patch by Victor Stinner.
  * [gh-94214](https://github.com/python/cpython/issues/94214): Document the `context` object used in the `venv.EnvBuilder` class, and add the new environmentâ€™s library path to it.
  * [gh-94199](https://github.com/python/cpython/issues/94199): Remove the `ssl.wrap_socket()` function, deprecated in Python 3.7: instead, create a [`ssl.SSLContext`](https://docs.python.org/3/library/ssl.html#ssl.SSLContext "ssl.SSLContext") object and call its [`ssl.SSLContext.wrap_socket`](https://docs.python.org/3/library/ssl.html#ssl.SSLContext.wrap_socket "ssl.SSLContext.wrap_socket") method. Any package that still uses `ssl.wrap_socket()` is broken and insecure. The function neither sends a SNI TLS extension nor validates server hostname. Code is subject to [**CWE 295**](https://cwe.mitre.org/data/definitions/295.html) Improper Certificate Validation. Patch by Victor Stinner.
  * [gh-94199](https://github.com/python/cpython/issues/94199): Remove the `ssl.RAND_pseudo_bytes()` function, deprecated in Python 3.6: use [`os.urandom()`](https://docs.python.org/3/library/os.html#os.urandom "os.urandom") or [`ssl.RAND_bytes()`](https://docs.python.org/3/library/ssl.html#ssl.RAND_bytes "ssl.RAND_bytes") instead. Patch by Victor Stinner.
  * [gh-94199](https://github.com/python/cpython/issues/94199): [`hashlib`](https://docs.python.org/3/library/hashlib.html#module-hashlib "hashlib: Secure hash and message digest algorithms."): Remove the pure Python implementation of [`hashlib.pbkdf2_hmac()`](https://docs.python.org/3/library/hashlib.html#hashlib.pbkdf2_hmac "hashlib.pbkdf2_hmac"), deprecated in Python 3.10.