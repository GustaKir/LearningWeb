Title: Debugging Enhancements in Python 3.13
URL: https://docs.python.org/3/whatsnew/3.13.html
Summary: Python 3.13 introduces several debugging enhancements: the `breakpoint()` and `set_trace()` functions now activate the debugger immediately instead of waiting for the next line of code, which avoids context break issues when placed at the end of a context. Additionally, `sys.path[0]` will no longer be overridden by the script's directory when `sys.flags.safe_path` is set.
---

### pdb[¶](https://docs.python.org/3/whatsnew/3.13.html#pdb "Link to this heading")
  * [`breakpoint()`](https://docs.python.org/3/library/functions.html#breakpoint "breakpoint") and [`set_trace()`](https://docs.python.org/3/library/pdb.html#pdb.set_trace "pdb.set_trace") now enter the debugger immediately rather than on the next line of code to be executed. This change prevents the debugger from breaking outside of the context when `breakpoint()` is positioned at the end of the context. (Contributed by Tian Gao in [gh-118579](https://github.com/python/cpython/issues/118579).)
  * `sys.path[0]` is no longer replaced by the directory of the script being debugged when [`sys.flags.safe_path`](https://docs.python.org/3/library/sys.html#sys.flags.safe_path "sys.flags.safe_path") is set. (Contributed by Tian Gao and Christian Walther in [gh-111762](https://github.com/python/cpython/issues/111762).)
  * [`zipapp`](https://docs.python.org/3/library/zipapp.html#module-zipapp "zipapp: Manage executable Python zip archives") is now supported as a debugging target. (Contributed by Tian Gao in [gh-118501](https://github.com/python/cpython/issues/118501).)
  * Add ability to move between chained exceptions during post-mortem debugging in [`pm()`](https://docs.python.org/3/library/pdb.html#pdb.pm "pdb.pm") using the new [`exceptions [exc_number]`](https://docs.python.org/3/library/pdb.html#pdbcommand-exceptions) command for Pdb. (Contributed by Matthias Bussonnier in [gh-106676](https://github.com/python/cpython/issues/106676).)
  * Expressions and statements whose prefix is a pdb command are now correctly identified and executed. (Contributed by Tian Gao in [gh-108464](https://github.com/python/cpython/issues/108464).)


### queue[¶](https://docs.python.org/3/whatsnew/3.13.html#queue "Link to this heading")
  * Add [`Queue.shutdown`](https://docs.python.org/3/library/queue.html#queue.Queue.shutdown "queue.Queue.shutdown") and [`ShutDown`](https://docs.python.org/3/library/queue.html#queue.ShutDown "queue.ShutDown") to manage queue termination. (Contributed by Laurie Opperman and Yves Duprat in [gh-104750](https://github.com/python/cpython/issues/104750).)


### random[¶](https://docs.python.org/3/whatsnew/3.13.html#random "Link to this heading")
  * Add a [command-line interface](https://docs.python.org/3/library/random.html#random-cli). (Contributed by Hugo van Kemenade in [gh-118131](https://github.com/python/cpython/issues/118131).)


### re[¶](https://docs.python.org/3/whatsnew/3.13.html#re "Link to this heading")
  * Rename `re.error` to [`PatternError`](https://docs.python.org/3/library/re.html#re.PatternError "re.PatternError") for improved clarity. `re.error` is kept for backward compatibility.


### shutil[¶](https://docs.python.org/3/whatsnew/3.13.html#shutil "Link to this heading")
  * Support the _dir_fd_ and _follow_symlinks_ keyword arguments in [`chown()`](https://docs.python.org/3/library/shutil.html#shutil.chown "shutil.chown"). (Contributed by Berker Peksag and Tahia K in [gh-62308](https://github.com/python/cpython/issues/62308))


### site[¶](https://docs.python.org/3/whatsnew/3.13.html#site "Link to this heading")
  * `.pth` files are now decoded using UTF-8 first, and then with the [locale encoding](https://docs.python.org/3/glossary.html#term-locale-encoding) if UTF-8 decoding fails. (Contributed by Inada Naoki in [gh-117802](https://github.com/python/cpython/issues/117802).)


### sqlite3[¶](https://docs.python.org/3/whatsnew/3.13.html#sqlite3 "Link to this heading")
  * A [`ResourceWarning`](https://docs.python.org/3/library/exceptions.html#ResourceWarning "ResourceWarning") is now emitted if a [`Connection`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection "sqlite3.Connection") object is not [`closed`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.close "sqlite3.Connection.close") explicitly. (Contributed by Erlend E. Aasland in [gh-105539](https://github.com/python/cpython/issues/105539).)
  * Add the _filter_ keyword-only parameter to [`Connection.iterdump()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.iterdump "sqlite3.Connection.iterdump") for filtering database objects to dump. (Contributed by Mariusz Felisiak in [gh-91602](https://github.com/python/cpython/issues/91602).)