Title: Python Testing and Security Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines various updates to Python tests, including conditional skipping of certain tests based on TLS library support, improvements for iOS testbed runners, and enhancements for terminal colorization tests. Additionally, new unit tests for pyrepl have been added.
---

### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id2 "Link to this heading")
  * [gh-131050](https://github.com/python/cpython/issues/131050): `test_ssl.test_dh_params` is skipped if the underlying TLS library does not support finite-field ephemeral Diffie-Hellman.
  * [gh-129200](https://github.com/python/cpython/issues/129200): Multiple iOS testbed runners can now be started at the same time without introducing an ambiguity over simulator ownership.
  * [gh-130292](https://github.com/python/cpython/issues/130292): The iOS testbed will now run successfully on a machine that has not previously run Xcode tests (such as CI configurations).
  * [gh-130293](https://github.com/python/cpython/issues/130293): The tests of terminal colorization are no longer sensitive to the value of the `TERM` variable in the testing environment.
  * [gh-126332](https://github.com/python/cpython/issues/126332): Add unit tests for pyrepl.


### Security[¶](https://docs.python.org/3/whatsnew/changelog.html#security "Link to this heading")
  * [gh-131809](https://github.com/python/cpython/issues/131809): Update bundled libexpat to 2.7.1
  * [gh-131261](https://github.com/python/cpython/issues/131261): Upgrade to libexpat 2.7.0
  * [gh-127371](https://github.com/python/cpython/issues/127371): Avoid unbounded buffering for `tempfile.SpooledTemporaryFile.writelines()`. Previously, disk spillover was only checked after the lines iterator had been exhausted. This is now done after each line is written.
  * [gh-121284](https://github.com/python/cpython/issues/121284): Fix bug in the folding of rfc2047 encoded-words when flattening an email message using a modern email policy. Previously when an encoded-word was too long for a line, it would be decoded, split across lines, and re-encoded. But commas and other special characters in the original text could be left unencoded and unquoted. This could theoretically be used to spoof header lines using a carefully constructed encoded-word if the resulting rendered email was transmitted or re-parsed.