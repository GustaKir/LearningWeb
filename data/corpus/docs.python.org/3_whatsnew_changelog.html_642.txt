Title: Python Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details various bug fixes and enhancements in Python, including updates to SSL handling, FTP commands, multiprocessing queues, unittest mock behaviors, and changes to ttk.OptionMenu radiobuttons.
---

02](https://bugs.python.org/issue?@action=redirect&bpo=30502): Fix handling of long oids in ssl. Based on patch by Christian Heimes.
  * [bpo-30119](https://bugs.python.org/issue?@action=redirect&bpo=30119): ftplib.FTP.putline() now throws ValueError on commands that contains CR or LF. Patch by Donghee Na.
  * [bpo-30595](https://bugs.python.org/issue?@action=redirect&bpo=30595): multiprocessing.Queue.get() with a timeout now polls its reader in non-blocking mode if it succeeded to acquire the lock but the acquire took longer than the timeout.
  * [bpo-29403](https://bugs.python.org/issue?@action=redirect&bpo=29403): Fix `unittest.mock`’s autospec to not fail on method-bound builtin functions. Patch by Aaron Gallagher.
  * [bpo-30961](https://bugs.python.org/issue?@action=redirect&bpo=30961): Fix decrementing a borrowed reference in tracemalloc.
  * [bpo-25684](https://bugs.python.org/issue?@action=redirect&bpo=25684): Change `ttk.OptionMenu` radiobuttons to be unique across instances of `OptionMenu`.
  * [bpo-30886](https://bugs.python.org/issue?@action=redirect&bpo=30886): Fix multiprocessing.Queue.join_thread(): it now waits until the thread completes, even if the thread was started by the same process which created the queue.
  * [bpo-29854](https://bugs.python.org/issue?@action=redirect&bpo=29854): Fix segfault in readline when using readline’s history-size option. Patch by Nir Soffer.
  * [bpo-30319](https://bugs.python.org/issue?@action=redirect&bpo=30319): socket.close() now ignores ECONNRESET error.
  * [bpo-30828](https://bugs.python.org/issue?@action=redirect&bpo=30828): Fix out of bounds write in `asyncio.CFuture.remove_done_callback()`.
  * [bpo-30807](https://bugs.python.org/issue?@action=redirect&bpo=30807): signal.setitimer() may disable the timer when passed a tiny value. Tiny values (such as 1e-6) are valid non-zero values for setitimer(), which is specified as taking microsecond-resolution intervals. However, on some platform, our conversion routine could convert 1e-6 into a zero interval, therefore disabling the timer instead of (re-)scheduling it.
  * [bpo-30441](https://bugs.python.org/issue?@action=redirect&bpo=30441): Fix bug when modifying os.environ while iterating over it
  * [bpo-30532](https://bugs.python.org/issue?@action=redirect&bpo=30532): Fix email header value parser dropping folding white space in certain cases.
  * [bpo-30879](https://bugs.python.org/issue?@action=redirect&bpo=30879): os.listdir() and os.scandir() now emit bytes names when called with bytes-like argument.
  * [bpo-30746](https://bugs.python.org/issue?@action=redirect&bpo=30746): Prohibited the ‘=’ character in environment variable names in `os.putenv()` and `os.spawn*()`.
  * [bpo-29755](https://bugs.python.org/issue?@action=redirect&bpo=29755): Fixed the lgettext() family of functions in the gettext module. They now always return bytes.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id608 "Link to this heading")
  * [bpo-31294](https://bugs.python.org/issue?@action=redirect&bpo=31294): Fix incomplete code snippet in the ZeroMQSocketListener and ZeroMQSocketHandler examples and adapt them to Python 3.
  * [bpo-21649](https://bugs.python.org/issue?@action=redirect&bpo=21649): Add RFC 7525 and Mozilla server side TLS links to SSL documentation.
  * [bpo-30803](https://bugs.python.org/issue?@action=redirect&bpo=30803): Clarify doc on truth value testing. Original patch by Peter Thomassen.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id609 "Link to this heading")
  * [bpo-31320](https://bugs.python.org/issue?@action=redirect&bpo=31320): Silence traceback in test_ssl
  * [bpo-25674](https://bugs.python.org/issue?@action=redirect&bpo=25674): Remove sha256.tbs-internet.com ssl test
  * [bpo-30715](https://bugs.python.org/issue?@action=redirect&bpo=30715): Address ALPN callback changes for OpenSSL 1.1.0f. The latest version behaves like OpenSSL 1.0.2 and no longer aborts handshake.
  * [bpo-30822](https://bugs.python.org/issue?@action=redirect&bpo=30822): regrtest: Exclude tzdata from regrtest –all. When running the test suite using –use=all / -u all, exclude tzdata since it makes test_datetime too slow (15-20 min on some buildbots) which then times out on some buildbots. Fix also regrtest command line parser to allow passing -u extralargefile to run test_zipfile64.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id610 "Link to this heading")
  * [bpo-30854](https://bugs.python.org/issue?@action=redirect&bpo=30854): Fix compile error when compiling –without-threads. Patch by Masayuki Yamamoto.