Title: Python 3.7 Release Notes
URL: https://docs.python.org/3/whatsnew/3.7.html
Summary: Python 3.7 introduces a change in the SyntaxError for generator expressions which now requires them to be enclosed in parentheses without commas on either side. Additionally, the '-m' switch now adds the initial working directory to 'sys.path' instead of an empty string, requiring updates to programs dependent on the previous behavior.
---

```

Python 3.7 now correctly raises a [`SyntaxError`](https://docs.python.org/3/library/exceptions.html#SyntaxError "SyntaxError"), as a generator expression always needs to be directly inside a set of parentheses and cannot have a comma on either side, and the duplication of the parentheses can be omitted only on calls. (Contributed by Serhiy Storchaka in [bpo-32012](https://bugs.python.org/issue?@action=redirect&bpo=32012) and [bpo-32023](https://bugs.python.org/issue?@action=redirect&bpo=32023).)
  * When using the [`-m`](https://docs.python.org/3/using/cmdline.html#cmdoption-m) switch, the initial working directory is now added to [`sys.path`](https://docs.python.org/3/library/sys.html#sys.path "sys.path"), rather than an empty string (which dynamically denoted the current working directory at the time of each import). Any programs that are checking for the empty string, or otherwise relying on the previous behaviour, will need to be updated accordingly (e.g. by also checking for `os.getcwd()` or `os.path.dirname(__main__.__file__)`, depending on why the code was checking for the empty string in the first place).


### Changes in the Python API[Â¶](https://docs.python.org/3/whatsnew/3.7.html#changes-in-the-python-api "Link to this heading")
  * `socketserver.ThreadingMixIn.server_close()` now waits until all non-daemon threads complete. Set the new [`socketserver.ThreadingMixIn.block_on_close`](https://docs.python.org/3/library/socketserver.html#socketserver.ThreadingMixIn.block_on_close "socketserver.ThreadingMixIn.block_on_close") class attribute to `False` to get the pre-3.7 behaviour. (Contributed by Victor Stinner in [bpo-31233](https://bugs.python.org/issue?@action=redirect&bpo=31233) and [bpo-33540](https://bugs.python.org/issue?@action=redirect&bpo=33540).)
  * `socketserver.ForkingMixIn.server_close()` now waits until all child processes complete. Set the new `socketserver.ForkingMixIn.block_on_close` class attribute to `False` to get the pre-3.7 behaviour. (Contributed by Victor Stinner in [bpo-31151](https://bugs.python.org/issue?@action=redirect&bpo=31151) and [bpo-33540](https://bugs.python.org/issue?@action=redirect&bpo=33540).)
  * The [`locale.localeconv()`](https://docs.python.org/3/library/locale.html#locale.localeconv "locale.localeconv") function now temporarily sets the `LC_CTYPE` locale to the value of `LC_NUMERIC` in some cases. (Contributed by Victor Stinner in [bpo-31900](https://bugs.python.org/issue?@action=redirect&bpo=31900).)
  * [`pkgutil.walk_packages()`](https://docs.python.org/3/library/pkgutil.html#pkgutil.walk_packages "pkgutil.walk_packages") now raises a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") if _path_ is a string. Previously an empty list was returned. (Contributed by Sanyam Khurana in [bpo-24744](https://bugs.python.org/issue?@action=redirect&bpo=24744).)
  * A format string argument for [`string.Formatter.format()`](https://docs.python.org/3/library/string.html#string.Formatter.format "string.Formatter.format") is now [positional-only](https://docs.python.org/3/glossary.html#positional-only-parameter). Passing it as a keyword argument was deprecated in Python 3.5. (Contributed by Serhiy Storchaka in [bpo-29193](https://bugs.python.org/issue?@action=redirect&bpo=29193).)
  * Attributes [`key`](https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel.key "http.cookies.Morsel.key"), [`value`](https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel.value "http.cookies.Morsel.value") and [`coded_value`](https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel.coded_value "http.cookies.Morsel.coded_value") of class [`http.cookies.Morsel`](https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel "http.cookies.Morsel") are now read-only. Assigning to them was deprecated in Python 3.5. Use the [`set()`](https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel.set "http.cookies.Morsel.set") method for setting them. (Contributed by Serhiy Storchaka in [bpo-29192](https://bugs.python.org/issue?@action=redirect&bpo=29192).)
  * The _mode_ argument of [`os.makedirs()`](https://docs.python.org/3/library/os.html#os.makedirs "os.makedirs") no longer affects the file permission bits of newly created intermediate-level directories. To set their file permission bits you can set the umask before invoking `makedirs()`. (Contributed by Serhiy Storchaka in [bpo-19930](https://bugs.python.org/issue?@action=redirect&bpo=19930).)
  * The [`struct.Struct.format`](https://docs.python.org/3/library/struct.html#struct.Struct.format "struct.Struct.format") type is now [`str`](https://docs.python.org/3/library/stdtypes.html#str "str") instead of [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes"). (Contributed by Victor Stinner in [bpo-21071](https://bugs.python.org/issue?@action=redirect&bpo=21071).)
  * `cgi.parse_multipart()` now accepts the _enco