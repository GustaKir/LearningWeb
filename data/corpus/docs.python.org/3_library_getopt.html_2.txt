Title: Using getopt for Command-Line Option Parsing in Python
URL: https://docs.python.org/3/library/getopt.html
Summary: This code snippet demonstrates how to use the `getopt` module to parse command-line options in a Python script. It handles options for help, output, and verbosity, and defines error handling for unrecognized options. Alternatively, it suggests that the `optparse` module could achieve similar functionality with improved help and error messages.
---

```
importgetopt,sys
defmain():
  try:
    opts, args = getopt.getopt(sys.argv[1:], "ho:v", ["help", "output="])
  except getopt.GetoptError as err:
    # print help information and exit:
    print(err) # will print something like "option -a not recognized"
    usage()
    sys.exit(2)
  output = None
  verbose = False
  for o, a in opts:
    if o == "-v":
      verbose = True
    elif o in ("-h", "--help"):
      usage()
      sys.exit()
    elif o in ("-o", "--output"):
      output = a
    else:
      assert False, "unhandled option"
  process(args, output=output, verbose=verbose)
if __name__ == "__main__":
  main()

```

Note that an equivalent command line interface could be produced with less code and more informative help and error messages by using the [`optparse`](https://docs.python.org/3/library/optparse.html#module-optparse "optparse: Command-line option parsing library.") module:
```
importoptparse
if __name__ == '__main__':
  parser = optparse.OptionParser()
  parser.add_option('-o', '--output')
  parser.add_option('-v', dest='verbose', action='store_true')
  opts, args = parser.parse_args()
  process(args, output=opts.output, verbose=opts.verbose)

```

A roughly equivalent command line interface for this case can also be produced by using the [`argparse`](https://docs.python.org/3/library/argparse.html#module-argparse "argparse: Command-line option and argument parsing library.") module:
```
importargparse
if __name__ == '__main__':
  parser = argparse.ArgumentParser()
  parser.add_argument('-o', '--output')
  parser.add_argument('-v', dest='verbose', action='store_true')
  parser.add_argument('rest', nargs='*')
  args = parser.parse_args()
  process(args.rest, output=args.output, verbose=args.verbose)

```

See [Choosing an argument parsing library](https://docs.python.org/3/library/optparse.html#choosing-an-argument-parser) for details on how the `argparse` version of this code differs in behaviour from the `optparse` (and `getopt`) version.
See also 

Module [`optparse`](https://docs.python.org/3/library/optparse.html#module-optparse "optparse: Command-line option parsing library.")
    
Declarative command line option parsing. 

Module [`argparse`](https://docs.python.org/3/library/argparse.html#module-argparse "argparse: Command-line option and argument parsing library.")
    
More opinionated command line option and argument parsing library.
#### Previous topic
[Superseded Modules](https://docs.python.org/3/library/superseded.html "previous chapter")
#### Next topic
[Removed Modules](https://docs.python.org/3/library/removed.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/getopt.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/removed.html "Removed Modules") |
  * [previous](https://docs.python.org/3/library/superseded.html "Superseded Modules") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Superseded Modules](https://docs.python.org/3/library/superseded.html) »
  * [`getopt` — C-style parser for command line options](https://docs.python.org/3/library/getopt.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3.