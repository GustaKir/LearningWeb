Title: Changes to Shim Frames and Interpreter Extensions
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This chunk discusses the detection of shim frames in Python's interpreter, particularly for extensions using PEP 523. It highlights changes to the semantics of several opcodes, which now clear the frame. Additionally, it mentions specific GitHub issues addressing MAC address detection in the uuid module and improvements in code object performance.
---

These shim frames can be detected by checking `frame->owner == FRAME_OWNED_BY_CSTACK`.
Extensions implementing their own interpreters using PEP 523 need to be aware of this shim frame and the changes to the semantics of [`RETURN_VALUE`](https://docs.python.org/3/library/dis.html#opcode-RETURN_VALUE), [`YIELD_VALUE`](https://docs.python.org/3/library/dis.html#opcode-YIELD_VALUE), and [`RETURN_GENERATOR`](https://docs.python.org/3/library/dis.html#opcode-RETURN_GENERATOR), which now clear the frame.
  * [gh-98415](https://github.com/python/cpython/issues/98415): Fix detection of MAC addresses for [`uuid`](https://docs.python.org/3/library/uuid.html#module-uuid "uuid: UUID objects \(universally unique identifiers\) according to RFC 4122") on certain OSs. Patch by Chaim Sanders
  * [gh-98686](https://github.com/python/cpython/issues/98686): Quicken all code objects, and specialize adaptive bytecode instructions more aggressively.
  * [gh-92119](https://github.com/python/cpython/issues/92119): Print exception class name instead of its string representation when raising errors from [`ctypes`](https://docs.python.org/3/library/ctypes.html#module-ctypes "ctypes: A foreign function library for Python.") calls.
  * [gh-91058](https://github.com/python/cpython/issues/91058): [`ImportError`](https://docs.python.org/3/library/exceptions.html#ImportError "ImportError") raised from failed `from <module> import <name>` now include suggestions for the value of `<name>` based on the available names in `<module>`. Patch by Pablo Galindo
  * [gh-96793](https://github.com/python/cpython/issues/96793): The [`FOR_ITER`](https://docs.python.org/3/library/dis.html#opcode-FOR_ITER) now leaves the iterator on the stack on termination of the loop. This is to assist specialization of loops for generators.
  * [gh-90716](https://github.com/python/cpython/issues/90716): Add _pylong.py module. It includes asymptotically faster algorithms that can be used for operations on integers with many digits. It is used by longobject.c to speed up some operations.
  * [gh-95389](https://github.com/python/cpython/issues/95389): Expose [`ETH_P_ALL`](https://docs.python.org/3/library/socket.html#socket.ETH_P_ALL "socket.ETH_P_ALL") and some of the [ETHERTYPE_* constants](https://docs.python.org/3/library/socket.html#socket-ethernet-types) in [`socket`](https://docs.python.org/3/library/socket.html#module-socket "socket: Low-level networking interface."). Patch by Noam Cohen.
  * [gh-93696](https://github.com/python/cpython/issues/93696): Allow [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") to locate source for frozen modules in the standard library.