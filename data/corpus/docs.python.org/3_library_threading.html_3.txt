Title: Threading Trace and Profile Functions
URL: https://docs.python.org/3/library/threading.html
Summary: This section describes the `settrace_all_threads` function which sets a trace function for all threads in the threading module, and the `gettrace` function that retrieves the currently set trace function. Both functions were added in Python 3.12 and 3.10, respectively.
---

threading.settrace_all_threads(_func_)[¶](https://docs.python.org/3/library/threading.html#threading.settrace_all_threads "Link to this definition")
    
Set a trace function for all threads started from the [`threading`](https://docs.python.org/3/library/threading.html#module-threading "threading: Thread-based parallelism.") module and all Python threads that are currently executing.
The _func_ will be passed to [`sys.settrace()`](https://docs.python.org/3/library/sys.html#sys.settrace "sys.settrace") for each thread, before its [`run()`](https://docs.python.org/3/library/threading.html#threading.Thread.run "threading.Thread.run") method is called.
Added in version 3.12. 

threading.gettrace()[¶](https://docs.python.org/3/library/threading.html#threading.gettrace "Link to this definition")
    
Get the trace function as set by [`settrace()`](https://docs.python.org/3/library/threading.html#threading.settrace "threading.settrace").
Added in version 3.10. 

threading.setprofile(_func_)[¶](https://docs.python.org/3/library/threading.html#threading.setprofile "Link to this definition")
    
Set a profile function for all threads started from the [`threading`](https://docs.python.org/3/library/threading.html#module-threading "threading: Thread-based parallelism.") module. The _func_ will be passed to [`sys.setprofile()`](https://docs.python.org/3/library/sys.html#sys.setprofile "sys.setprofile") for each thread, before its [`run()`](https://docs.python.org/3/library/threading.html#threading.Thread.run "threading.Thread.run") method is called. 

threading.setprofile_all_threads(_func_)[¶](https://docs.python.org/3/library/threading.html#threading.setprofile_all_threads "Link to this definition")
    
Set a profile function for all threads started from the [`threading`](https://docs.python.org/3/library/threading.html#module-threading "threading: Thread-based parallelism.") module and all Python threads that are currently executing.
The _func_ will be passed to [`sys.setprofile()`](https://docs.python.org/3/library/sys.html#sys.setprofile "sys.setprofile") for each thread, before its [`run()`](https://docs.python.org/3/library/threading.html#threading.Thread.run "threading.Thread.run") method is called.
Added in version 3.12. 

threading.getprofile()[¶](https://docs.python.org/3/library/threading.html#threading.getprofile "Link to this definition")
    
Get the profiler function as set by [`setprofile()`](https://docs.python.org/3/library/threading.html#threading.setprofile "threading.setprofile").
Added in version 3.10. 

threading.stack_size([_size_])[¶](https://docs.python.org/3/library/threading.html#threading.stack_size "Link to this definition")
    
Return the thread stack size used when creating new threads. The optional _size_ argument specifies the stack size to be used for subsequently created threads, and must be 0 (use platform or configured default) or a positive integer value of at least 32,768 (32 KiB). If _size_ is not specified, 0 is used. If changing the thread stack size is unsupported, a [`RuntimeError`](https://docs.python.org/3/library/exceptions.html#RuntimeError "RuntimeError") is raised. If the specified stack size is invalid, a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") is raised and the stack size is unmodified. 32 KiB is currently the minimum supported stack size value to guarantee sufficient stack space for the interpreter itself. Note that some platforms may have particular restrictions on values for the stack size, such as requiring a minimum stack size > 32 KiB or requiring allocation in multiples of the system memory page size - platform documentation should be referred to for more information (4 KiB pages are common; using multiples of 4096 for the stack size is the suggested approach in the absence of more specific information).
[Availability](https://docs.python.org/3/library/intro.html#availability): Windows, pthreads.
Unix platforms with POSIX threads support.
This module also defines the following constant: