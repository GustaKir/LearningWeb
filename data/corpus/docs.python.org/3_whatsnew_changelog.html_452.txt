Title: Python Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This chunk details several bug fixes and enhancements in Python, including breaking cycles in exceptions associated with certain modules, handling of namespace packages in doctest, support for forward references in dataclasses, recursive XInclude processing in ElementTree, and the addition of whitespace options for JSON formatting.
---

Patch by hongweipeng.
  * [bpo-36820](https://bugs.python.org/issue?@action=redirect&bpo=36820): Break cycle generated when saving an exception in socket.py, codeop.py and dyld.py as they keep alive not only the exception but user objects through the `__traceback__` attribute. Patch by Mario Corchero.
  * [bpo-36406](https://bugs.python.org/issue?@action=redirect&bpo=36406): Handle namespace packages in [`doctest`](https://docs.python.org/3/library/doctest.html#module-doctest "doctest: Test pieces of code within docstrings."). Patch by Karthikeyan Singaravelan.
  * [bpo-34776](https://bugs.python.org/issue?@action=redirect&bpo=34776): Fix dataclasses to support forward references in type annotations
  * [bpo-20928](https://bugs.python.org/issue?@action=redirect&bpo=20928): ElementTree supports recursive XInclude processing. Patch by Stefan Behnel.
  * [bpo-29636](https://bugs.python.org/issue?@action=redirect&bpo=29636): Add whitespace options for formatting JSON with the `json.tool` CLI. The following mutually exclusive options are now supported: `--indent` for setting the indent level in spaces; `--tab` for indenting with tabs; `--no-indent` for suppressing newlines; and `--compact` for suppressing all whitespace. The default behavior remains the same as `--indent=4`.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id417 "Link to this heading")
  * [bpo-38928](https://bugs.python.org/issue?@action=redirect&bpo=38928): Correct when venv’s `upgrade_dependencies()` and `--upgrade-deps` are added.
  * [bpo-38899](https://bugs.python.org/issue?@action=redirect&bpo=38899): Update documentation to state that to activate virtual environments under fish one should use `source`, not `.` as documented at <https://fishshell.com/docs/current/cmds/source.html>.
  * [bpo-22377](https://bugs.python.org/issue?@action=redirect&bpo=22377): Improves documentation of the values that [`datetime.datetime.strptime()`](https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime "datetime.datetime.strptime") accepts for `%Z`. Patch by Karl Dubost.