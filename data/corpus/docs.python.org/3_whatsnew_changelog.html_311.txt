Title: Library Updates in Python 3
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines several bug fixes and updates in the Python library, including improvements to multi-value typing with `Literal`, the conversion of `sqlite3` to a multi-phase initialization as per PEP 489, enhancements to `typing.Signature` string representation, and further adjustments to the `sqlite3` module.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id270 "Link to this heading")
  * [bpo-45679](https://bugs.python.org/issue?@action=redirect&bpo=45679): Fix caching of multi-value [`typing.Literal`](https://docs.python.org/3/library/typing.html#typing.Literal "typing.Literal"). `Literal[True, 2]` is no longer equal to `Literal[1, 2]`.
  * [bpo-42064](https://bugs.python.org/issue?@action=redirect&bpo=42064): Convert [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") to multi-phase initialisation (PEP 489). Patches by Erlend E. Aasland.
  * [bpo-45438](https://bugs.python.org/issue?@action=redirect&bpo=45438): Fix typing.Signature string representation for generic builtin types.
  * [bpo-45613](https://bugs.python.org/issue?@action=redirect&bpo=45613): [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") now sets [`sqlite3.threadsafety`](https://docs.python.org/3/library/sqlite3.html#sqlite3.threadsafety "sqlite3.threadsafety") based on the default threading mode the underlying SQLite library has been compiled with. Patch by Erlend E. Aasland.
  * [bpo-45574](https://bugs.python.org/issue?@action=redirect&bpo=45574): Fix warning about `print_escape` being unused.
  * [bpo-45581](https://bugs.python.org/issue?@action=redirect&bpo=45581): [`sqlite3.connect()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.connect "sqlite3.connect") now correctly raises [`MemoryError`](https://docs.python.org/3/library/exceptions.html#MemoryError "MemoryError") if the underlying SQLite API signals memory error. Patch by Erlend E. Aasland.
  * [bpo-45557](https://bugs.python.org/issue?@action=redirect&bpo=45557): [`pprint.pprint()`](https://docs.python.org/3/library/pprint.html#pprint.pprint "pprint.pprint") now handles _underscore_numbers_ correctly. Previously it was always setting it to `False`.
  * [bpo-44019](https://bugs.python.org/issue?@action=redirect&bpo=44019): Add [`operator.call()`](https://docs.python.org/3/library/operator.html#operator.call "operator.call") to `operator.__all__`. Patch by Kreusada.
  * [bpo-42174](https://bugs.python.org/issue?@action=redirect&bpo=42174): [`shutil.get_terminal_size()`](https://docs.python.org/3/library/shutil.html#shutil.get_terminal_size "shutil.get_terminal_size") now falls back to sane values if the column or line count are 0.
  * [bpo-35673](https://bugs.python.org/issue?@action=redirect&bpo=35673): Improve the introspectability of the `__loader__` attribute for namespace packages. [`importlib.machinery.NamespaceLoader`](https://docs.python.org/3/library/importlib.html#importlib.machinery.NamespaceLoader "importlib.machinery.NamespaceLoader") is now public, and implements the [`importlib.abc.InspectLoader`](https://docs.python.org/3/library/importlib.html#importlib.abc.InspectLoader "importlib.abc.InspectLoader") interface. `_NamespaceLoader` is kept for backward compatibility.
  * [bpo-45515](https://bugs.python.org/issue?@action=redirect&bpo=45515): Add references to [`zoneinfo`](https://docs.python.org/3/library/zoneinfo.html#module-zoneinfo "zoneinfo: IANA time zone support") in the [`datetime`](https://docs.python.org/3/library/datetime.html#module-datetime "datetime: Basic date and time types.") documentation, mostly replacing outdated references to `dateutil.tz`. Change by Paul Ganssle.
  * [bpo-45475](https://bugs.python.org/issue?@action=redirect&bpo=45475): Reverted optimization of iterating [`gzip.GzipFile`](https://docs.python.org/3/library/gzip.html#gzip.GzipFile "gzip.GzipFile"), [`bz2.BZ2File`](https://docs.python.org/3/library/bz2.html#bz2.BZ2File "bz2.BZ2File"), and [`lzma.LZMAFile`](https://docs.python.org/3/library/lzma.html#lzma.LZMAFile "lzma.LZMAFile") (see [bpo-43787](https://bugs.python.org/issue?@action=redirect&bpo=43787)) because it caused regression when user iterate them without having reference of them. Patch by Inada Naoki.
  * [bpo-45489](https://bugs.python.org/issue?@action=redirect&bpo=45489): Update [`ForwardRef`](https://docs.python.org/3/library/typing.html#typing.ForwardRef "typing.ForwardRef") to support `|` operator. Patch by Donghee Na.
  * [bpo-42222](https://bugs.python.org/issue?@action=redirect&bpo=42222): Removed deprecated support for float arguments in _randrange()_.
  * [bpo-45428](https://bugs.python.org/issue?@action=redirect&bpo=45428): Fix a regression in py_compile when reading filenames from standard input.
  * [bpo-45467](https://bugs.python.org/issue?@action=redirect&bpo=45467): Fix incremental decoder and stream reader in the “raw-unicode-escape” codec. Previously they failed if the escape sequence was split.
  * [bpo-45461](https://bugs.python.org/issue?@action=redirect&bpo=45461): Fix incremental decoder and stream reader in the “unicode-escape” codec. Previously they failed if the escape sequence was split.
  * [bpo-45239](https:/