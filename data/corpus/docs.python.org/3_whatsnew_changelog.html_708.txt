Title: Enhancements and Bug Fixes in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This update introduces several improvements including consistent results for REST API requests, a stable cache file for lib2to3 grammar loading, and various bug fixes affecting the ctypes, email, and ssl modules. Notable changes include avoiding zero-length memcpy calls, refining email header line breaks, addressing attachment mutations, and resolving issues in X.509 certificate parsing.
---

This makes the results of REST API requests more consistent and predictable especially when proxy servers are involved.
  * lib2to3.pgen3.driver.load_grammar() now creates a stable cache file between runs given the same Grammar.txt input regardless of the hash randomization setting.
  * [bpo-27570](https://bugs.python.org/issue?@action=redirect&bpo=27570): Avoid zero-length memcpy() etc calls with null source pointers in the “ctypes” and “array” modules.
  * [bpo-22233](https://bugs.python.org/issue?@action=redirect&bpo=22233): Break email header lines _only_ on the RFC specified CR and LF characters, not on arbitrary unicode line breaks. This also fixes a bug in HTTP header parsing.
  * [bpo-27988](https://bugs.python.org/issue?@action=redirect&bpo=27988): Fix email iter_attachments incorrect mutation of payload list.
  * [bpo-27691](https://bugs.python.org/issue?@action=redirect&bpo=27691): Fix ssl module’s parsing of GEN_RID subject alternative name fields in X.509 certs.
  * [bpo-27850](https://bugs.python.org/issue?@action=redirect&bpo=27850): Remove 3DES from ssl module’s default cipher list to counter measure sweet32 attack ([**CVE 2016-2183**](https://www.cve.org/CVERecord?id=CVE-2016-2183)).
  * [bpo-27766](https://bugs.python.org/issue?@action=redirect&bpo=27766): Add ChaCha20 Poly1305 to ssl module’s default cipher list. (Required OpenSSL 1.1.0 or LibreSSL).
  * [bpo-26470](https://bugs.python.org/issue?@action=redirect&bpo=26470): Port ssl and hashlib module to OpenSSL 1.1.0.
  * Remove support for passing a file descriptor to os.access. It never worked but previously didn’t raise.
  * [bpo-12885](https://bugs.python.org/issue?@action=redirect&bpo=12885): Fix error when distutils encounters symlink.
  * [bpo-27881](https://bugs.python.org/issue?@action=redirect&bpo=27881): Fixed possible bugs when setting sqlite3.Connection.isolation_level. Based on patch by Xiang Zhang.
  * [bpo-27861](https://bugs.python.org/issue?@action=redirect&bpo=27861): Fixed a crash in sqlite3.Connection.cursor() when a factory creates not a cursor. Patch by Xiang Zhang.
  * [bpo-19884](https://bugs.python.org/issue?@action=redirect&bpo=19884): Avoid spurious output on OS X with Gnu Readline.
  * [bpo-27706](https://bugs.python.org/issue?@action=redirect&bpo=27706): Restore deterministic behavior of random.Random().seed() for string seeds using seeding version 1. Allows sequences of calls to random() to exactly match those obtained in Python 2. Patch by Nofar Schnider.
  * [bpo-10513](https://bugs.python.org/issue?@action=redirect&bpo=10513): Fix a regression in Connection.commit(). Statements should not be reset after a commit.
  * A new version of typing.py from <https://github.com/python/typing>: Collection (only for 3.6) ([bpo-27598](https://bugs.python.org/issue?@action=redirect&bpo=27598)). Add FrozenSet to __all__ (upstream #261). Fix crash in _get_type_vars() (upstream #259). Remove the dict constraint in ForwardRef._eval_type (upstream #252).
  * [bpo-27539](https://bugs.python.org/issue?@action=redirect&bpo=27539): Fix unnormalised `Fraction.__pow__` result in the case of negative exponent and negative base.
  * [bpo-21718](https://bugs.python.org/issue?@action=redirect&bpo=21718): cursor.description is now available for queries using CTEs.
  * [bpo-2466](https://bugs.python.org/issue?@action=redirect&bpo=2466): posixpath.ismount now correctly recognizes mount points which the user does not have permission to access.
  * [bpo-27773](https://bugs.python.org/issue?@action=redirect&bpo=27773): Correct some memory management errors server_hostname in _ssl.wrap_socket().
  * [bpo-26750](https://bugs.python.org/issue?@action=redirect&bpo=26750): unittest.mock.create_autospec() now works properly for subclasses of property() and other data descriptors.
  * In the curses module, raise an error if window.getstr() or window.instr() is passed a negative value.
  * [bpo-27783](https://bugs.python.org/issue?@action=redirect&bpo=27783): Fix possible usage of uninitialized memory in operator.methodcaller.
  * [bpo-27774](https://bugs.python.org/issue?@action=redirect&bpo=27774): Fix possible Py_DECREF on unowned object in _sre.
  * [bpo-27760](https://bugs.python.org/issue?@action=redirect&bpo=27760): Fix possible integer overflow in binascii.b2a_qp.
  * [bpo-27758](https://bugs.python.org/issue?@action=redirect&bpo=27758): Fix possible integer overflow in the _csv module for large record lengths.
  * [bpo-27568](https://bugs.python.org/issue?@action=redirect&bpo=27568): Prevent HTTPoxy attack ([**CVE 2016-1000110**](https://www.cve.org/CVERecord?id=CVE-2016-1000110)).