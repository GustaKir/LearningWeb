Title: Understanding Message Parts in MIME Emails
URL: https://docs.python.org/3/library/email.compat32-message.html
Summary: This section explains that message parts in a MIME email are not necessarily multiparts, though they can contain subparts. It describes the `is_multipart()` method and the `walk` function for traversing subparts. Additionally, it highlights the optional `preamble` attribute, which allows for text to be included between headers and the first multipart boundary in MIME documents, which may be visible in raw text or non-MIME readers.
---

```

Here the `message` parts are not `multiparts`, but they do contain subparts. `is_multipart()` returns `True` and `walk` descends into the subparts.
[`Message`](https://docs.python.org/3/library/email.compat32-message.html#email.message.Message "email.message.Message") objects can also optionally contain two instance attributes, which can be used when generating the plain text of a MIME message. 

preamble[¶](https://docs.python.org/3/library/email.compat32-message.html#email.message.Message.preamble "Link to this definition")
    
The format of a MIME document allows for some text between the blank line following the headers, and the first multipart boundary string. Normally, this text is never visible in a MIME-aware mail reader because it falls outside the standard MIME armor. However, when viewing the raw text of the message, or when viewing the message in a non-MIME aware reader, this text can become visible.
The _preamble_ attribute contains this leading extra-armor text for MIME documents. When the [`Parser`](https://docs.python.org/3/library/email.parser.html#email.parser.Parser "email.parser.Parser") discovers some text after the headers but before the first boundary string, it assigns this text to the message’s _preamble_ attribute. When the [`Generator`](https://docs.python.org/3/library/email.generator.html#email.generator.Generator "email.generator.Generator") is writing out the plain text representation of a MIME message, and it finds the message has a _preamble_ attribute, it will write this text in the area between the headers and the first boundary. See [`email.parser`](https://docs.python.org/3/library/email.parser.html#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") and [`email.generator`](https://docs.python.org/3/library/email.generator.html#module-email.generator "email.generator: Generate flat text email messages from a message structure.") for details.
Note that if the message object has no preamble, the _preamble_ attribute will be `None`. 

epilogue[¶](https://docs.python.org/3/library/email.compat32-message.html#email.message.Message.epilogue "Link to this definition")
    
The _epilogue_ attribute acts the same way as the _preamble_ attribute, except that it contains text that appears between the last boundary and the end of the message.
You do not need to set the epilogue to the empty string in order for the [`Generator`](https://docs.python.org/3/library/email.generator.html#email.generator.Generator "email.generator.Generator") to print a newline at the end of the file. 

defects[¶](https://docs.python.org/3/library/email.compat32-message.html#email.message.Message.defects "Link to this definition")
    
The _defects_ attribute contains a list of all the problems found when parsing this message. See [`email.errors`](https://docs.python.org/3/library/email.errors.html#module-email.errors "email.errors: The exception classes used by the email package.") for a detailed description of the possible parsing defects.
#### Previous topic
[`email`: Examples](https://docs.python.org/3/library/email.examples.html "previous chapter")
#### Next topic
[`email.mime`: Creating email and MIME objects from scratch](https://docs.python.org/3/library/email.mime.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/email.compat32-message.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/email.mime.html "email.mime: Creating email and MIME objects from scratch") |
  * [previous](https://docs.python.org/3/library/email.examples.html "email: Examples") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Internet Data Handling](https://docs.python.org/3/library/netdata.html) »
  * [`email` — An email and MIME handling package](https://docs.python.org/3/library/email.html) »
  * [`email.message.Message`: Representing an email message using the `compat32` API](https://docs.python.org/3/library/email.compat32-message.html)
  * | 
  * Theme  Auto Light Dark |