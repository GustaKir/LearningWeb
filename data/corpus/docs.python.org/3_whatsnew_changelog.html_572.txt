Title: C API and Python 3.7.0 Beta 2 Changes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines updates to the C API, including the ability for embedding applications to call specific options before initialization, and a sanity check for multi-phase initialized modules. It also mentions security improvements in Python 3.7.0 beta 2, specifically related to the ssl module allowing custom IDN encoding/decoding.
---

### C API[¶](https://docs.python.org/3/whatsnew/changelog.html#id518 "Link to this heading")
  * [bpo-33042](https://bugs.python.org/issue?@action=redirect&bpo=33042): Embedding applications may once again call PySys_ResetWarnOptions, PySys_AddWarnOption, and PySys_AddXOption prior to calling Py_Initialize.
  * [bpo-32374](https://bugs.python.org/issue?@action=redirect&bpo=32374): Document that m_traverse for multi-phase initialized modules can be called with m_state=NULL, and add a sanity check


## Python 3.7.0 beta 2[¶](https://docs.python.org/3/whatsnew/changelog.html#python-3-7-0-beta-2 "Link to this heading")
_Release date: 2018-02-27_
### Security[¶](https://docs.python.org/3/whatsnew/changelog.html#id519 "Link to this heading")
  * [bpo-28414](https://bugs.python.org/issue?@action=redirect&bpo=28414): The ssl module now allows users to perform their own IDN en/decoding when using SNI.


### Core and Builtins[¶](https://docs.python.org/3/whatsnew/changelog.html#id520 "Link to this heading")
  * [bpo-32889](https://bugs.python.org/issue?@action=redirect&bpo=32889): Update Valgrind suppression list to account for the rename of `Py_ADDRESS_IN_RANG` to `address_in_range`.
  * [bpo-31356](https://bugs.python.org/issue?@action=redirect&bpo=31356): Remove the new API added in [bpo-31356](https://bugs.python.org/issue?@action=redirect&bpo=31356) (gc.ensure_disabled() context manager).
  * [bpo-32305](https://bugs.python.org/issue?@action=redirect&bpo=32305): For namespace packages, ensure that both `__file__` and `__spec__.origin` are set to None.
  * [bpo-32303](https://bugs.python.org/issue?@action=redirect&bpo=32303): Make sure `__spec__.loader` matches `__loader__` for namespace packages.
  * [bpo-32711](https://bugs.python.org/issue?@action=redirect&bpo=32711): Fix the warning messages for Python/ast_unparse.c. Patch by Stéphane Wirtel
  * [bpo-32583](https://bugs.python.org/issue?@action=redirect&bpo=32583): Fix possible crashing in builtin Unicode decoders caused by write out-of-bound errors when using customized decode error handlers.