Title: Python 3.7 Updates: Locale and Logging Improvements
URL: https://docs.python.org/3/whatsnew/3.7.html
Summary: The `locale.getpreferredencoding()` function now consistently returns 'UTF-8' on Android and in forced UTF-8 mode. Additionally, `Logger` instances are now pickleable, and a new method, `StreamHandler.setStream()`, has been introduced to replace the logger stream post handler creation.
---

(Contributed by Garvit in [bpo-10379](https://bugs.python.org/issue?@action=redirect&bpo=10379).)
The [`locale.getpreferredencoding()`](https://docs.python.org/3/library/locale.html#locale.getpreferredencoding "locale.getpreferredencoding") function now always returns `'UTF-8'` on Android or when in the [forced UTF-8 mode](https://docs.python.org/3/whatsnew/3.7.html#whatsnew37-pep540).
### logging[¶](https://docs.python.org/3/whatsnew/3.7.html#logging "Link to this heading")
[`Logger`](https://docs.python.org/3/library/logging.html#logging.Logger "logging.Logger") instances can now be pickled. (Contributed by Vinay Sajip in [bpo-30520](https://bugs.python.org/issue?@action=redirect&bpo=30520).)
The new [`StreamHandler.setStream()`](https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler.setStream "logging.StreamHandler.setStream") method can be used to replace the logger stream after handler creation. (Contributed by Vinay Sajip in [bpo-30522](https://bugs.python.org/issue?@action=redirect&bpo=30522).)
It is now possible to specify keyword arguments to handler constructors in configuration passed to [`logging.config.fileConfig()`](https://docs.python.org/3/library/logging.config.html#logging.config.fileConfig "logging.config.fileConfig"). (Contributed by Preston Landers in [bpo-31080](https://bugs.python.org/issue?@action=redirect&bpo=31080).)
### math[¶](https://docs.python.org/3/whatsnew/3.7.html#math "Link to this heading")
The new [`math.remainder()`](https://docs.python.org/3/library/math.html#math.remainder "math.remainder") function implements the IEEE 754-style remainder operation. (Contributed by Mark Dickinson in [bpo-29962](https://bugs.python.org/issue?@action=redirect&bpo=29962).)
### mimetypes[¶](https://docs.python.org/3/whatsnew/3.7.html#mimetypes "Link to this heading")
The MIME type of .bmp has been changed from `'image/x-ms-bmp'` to `'image/bmp'`. (Contributed by Nitish Chandra in [bpo-22589](https://bugs.python.org/issue?@action=redirect&bpo=22589).)
### msilib[¶](https://docs.python.org/3/whatsnew/3.7.html#msilib "Link to this heading")
The new `Database.Close()` method can be used to close the MSI database. (Contributed by Berker Peksag in [bpo-20486](https://bugs.python.org/issue?@action=redirect&bpo=20486).)
### multiprocessing[¶](https://docs.python.org/3/whatsnew/3.7.html#multiprocessing "Link to this heading")
The new [`Process.close()`](https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.close "multiprocessing.Process.close") method explicitly closes the process object and releases all resources associated with it. [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") is raised if the underlying process is still running. (Contributed by Antoine Pitrou in [bpo-30596](https://bugs.python.org/issue?@action=redirect&bpo=30596).)
The new [`Process.kill()`](https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.kill "multiprocessing.Process.kill") method can be used to terminate the process using the `SIGKILL` signal on Unix. (Contributed by Vitor Pereira in [bpo-30794](https://bugs.python.org/issue?@action=redirect&bpo=30794).)
Non-daemonic threads created by [`Process`](https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process "multiprocessing.Process") are now joined on process exit. (Contributed by Antoine Pitrou in [bpo-18966](https://bugs.python.org/issue?@action=redirect&bpo=18966).)
### os[¶](https://docs.python.org/3/whatsnew/3.7.html#os "Link to this heading")
[`os.fwalk()`](https://docs.python.org/3/library/os.html#os.fwalk "os.fwalk") now accepts the _path_ argument as [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes"). (Contributed by Serhiy Storchaka in [bpo-28682](https://bugs.python.org/issue?@action=redirect&bpo=28682).)
[`os.scandir()`](https://docs.python.org/3/library/os.html#os.scandir "os.scandir") gained support for [file descriptors](https://docs.python.org/3/library/os.html#path-fd). (Contributed by Serhiy Storchaka in [bpo-25996](https://bugs.python.org/issue?@action=redirect&bpo=25996).)
The new [`register_at_fork()`](https://docs.python.org/3/library/os.html#os.register_at_fork "os.register_at_fork") function allows registering Python callbacks to be executed at process fork.