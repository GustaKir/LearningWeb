Title: Using ensure_value() in OptParse
URL: https://docs.python.org/3/library/optparse.html
Summary: The ensure_value() function helps manage default values for option attributes in scripts, especially for actions like 'extend', 'append', and 'count'. This function sets the attribute to 'value' if it is non-existent or None, simplifying value handling in options.
---

```

If the `attr` attribute of `values` doesn’t exist or is `None`, then ensure_value() first sets it to `value`, and then returns `value`. This is very handy for actions like `"extend"`, `"append"`, and `"count"`, all of which accumulate data in a variable and expect that variable to be of a certain type (a list for the first two, an integer for the latter). Using `ensure_value()` means that scripts using your action don’t have to worry about setting a default value for the option destinations in question; they can just leave the default as `None` and `ensure_value()` will take care of getting it right when it’s needed.


## Exceptions[¶](https://docs.python.org/3/library/optparse.html#exceptions "Link to this heading") 

_exception_ optparse.OptionError[¶](https://docs.python.org/3/library/optparse.html#optparse.OptionError "Link to this definition")
    
Raised if an [`Option`](https://docs.python.org/3/library/optparse.html#optparse.Option "optparse.Option") instance is created with invalid or inconsistent arguments. 

_exception_ optparse.OptionConflictError[¶](https://docs.python.org/3/library/optparse.html#optparse.OptionConflictError "Link to this definition")
    
Raised if conflicting options are added to an [`OptionParser`](https://docs.python.org/3/library/optparse.html#optparse.OptionParser "optparse.OptionParser"). 

_exception_ optparse.OptionValueError[¶](https://docs.python.org/3/library/optparse.html#optparse.OptionValueError "Link to this definition")
    
Raised if an invalid option value is encountered on the command line. 

_exception_ optparse.BadOptionError[¶](https://docs.python.org/3/library/optparse.html#optparse.BadOptionError "Link to this definition")
    
Raised if an invalid option is passed on the command line.