Title: Simple WSGI-Based Web Server
URL: https://docs.python.org/3/library/wsgiref.html
Summary: This document introduces a small web server built using the wsgiref library. It serves files from a specified path on an optional port (defaulting to 8000), guessing MIME types based on file names, and responds with a 404 error if the requested file is not found.
---

```
"""
Small wsgiref based web server. Takes a path to serve from and an
optional port number (defaults to 8000), then tries to serve files.
MIME types are guessed from the file names, 404 errors are raised
if the file is not found.
"""
importmimetypes
importos
importsys
fromwsgirefimport simple_server, util

defapp(environ, respond):
  # Get the file name and MIME type
  fn = os.path.join(path, environ["PATH_INFO"][1:])
  if "." not in fn.split(os.path.sep)[-1]:
    fn = os.path.join(fn, "index.html")
  mime_type = mimetypes.guess_file_type(fn)[0]
  # Return 200 OK if file exists, otherwise 404 Not Found
  if os.path.exists(fn):
    respond("200 OK", [("Content-Type", mime_type)])
    return util.FileWrapper(open(fn, "rb"))
  else:
    respond("404 Not Found", [("Content-Type", "text/plain")])
    return [b"not found"]

if __name__ == "__main__":
  # Get the path and port from command-line arguments
  path = sys.argv[1] if len(sys.argv) > 1 else os.getcwd()
  port = int(sys.argv[2]) if len(sys.argv) > 2 else 8000
  # Make and start the server until control-c
  httpd = simple_server.make_server("", port, app)
  print(f"Serving {path} on port {port}, control-C to stop")
  try:
    httpd.serve_forever()
  except KeyboardInterrupt:
    print("Shutting down.")
    httpd.server_close()

```

### [Table of Contents](https://docs.python.org/3/contents.html)
  * [`wsgiref` — WSGI Utilities and Reference Implementation](https://docs.python.org/3/library/wsgiref.html)
    * [`wsgiref.util` – WSGI environment utilities](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.util)
    * [`wsgiref.headers` – WSGI response header tools](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.headers)
    * [`wsgiref.simple_server` – a simple WSGI HTTP server](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.simple_server)
    * [`wsgiref.validate` — WSGI conformance checker](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.validate)
    * [`wsgiref.handlers` – server/gateway base classes](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.handlers)
    * [`wsgiref.types` – WSGI types for static type checking](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.types)
    * [Examples](https://docs.python.org/3/library/wsgiref.html#examples)


#### Previous topic
[`webbrowser` — Convenient web-browser controller](https://docs.python.org/3/library/webbrowser.html "previous chapter")
#### Next topic
[`urllib` — URL handling modules](https://docs.python.org/3/library/urllib.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/wsgiref.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/urllib.html "urllib — URL handling modules") |
  * [previous](https://docs.python.org/3/library/webbrowser.html "webbrowser — Convenient web-browser controller") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Internet Protocols and Support](https://docs.python.org/3/library/internet.html) »
  * [`wsgiref` — WSGI Utilities and Reference Implementation](https://docs.python.org/3/library/wsgiref.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3.