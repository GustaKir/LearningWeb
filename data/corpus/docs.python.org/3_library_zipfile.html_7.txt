Title: ZipFile.writestr Method
URL: https://docs.python.org/3/library/zipfile.html
Summary: The ZipFile.writestr method writes a file into a zip archive using specified data, which can be a string (encoded as UTF-8) or bytes. The file's name within the archive can be specified directly or through a ZipInfo instance. The method requires the archive to be opened in write, exclusive write, or append mode.
---

ZipFile.writestr(_zinfo_or_arcname_ , _data_ , _compress_type =None_, _compresslevel =None_)[¶](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.writestr "Link to this definition")
    
Write a file into the archive. The contents is _data_ , which may be either a [`str`](https://docs.python.org/3/library/stdtypes.html#str "str") or a [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes") instance; if it is a [`str`](https://docs.python.org/3/library/stdtypes.html#str "str"), it is encoded as UTF-8 first. _zinfo_or_arcname_ is either the file name it will be given in the archive, or a [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") instance. If it’s an instance, at least the filename, date, and time must be given. If it’s a name, the date and time is set to the current date and time. The archive must be opened with mode `'w'`, `'x'` or `'a'`.
If given, _compress_type_ overrides the value given for the _compression_ parameter to the constructor for the new entry, or in the _zinfo_or_arcname_ (if that is a [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") instance). Similarly, _compresslevel_ will override the constructor if given.
Note
When passing a [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") instance as the _zinfo_or_arcname_ parameter, the compression method used will be that specified in the _compress_type_ member of the given [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") instance. By default, the [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") constructor sets this member to [`ZIP_STORED`](https://docs.python.org/3/library/zipfile.html#zipfile.ZIP_STORED "zipfile.ZIP_STORED").
Changed in version 3.2: The _compress_type_ argument.
Changed in version 3.6: Calling [`writestr()`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.writestr "zipfile.ZipFile.writestr") on a ZipFile created with mode `'r'` or a closed ZipFile will raise a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError"). Previously, a [`RuntimeError`](https://docs.python.org/3/library/exceptions.html#RuntimeError "RuntimeError") was raised. 

ZipFile.mkdir(_zinfo_or_directory_ , _mode =511_)[¶](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.mkdir "Link to this definition")
    
Create a directory inside the archive. If _zinfo_or_directory_ is a string, a directory is created inside the archive with the mode that is specified in the _mode_ argument. If, however, _zinfo_or_directory_ is a [`ZipInfo`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipInfo "zipfile.ZipInfo") instance then the _mode_ argument is ignored.
The archive must be opened with mode `'w'`, `'x'` or `'a'`.
Added in version 3.11.
The following data attributes are also available: 

ZipFile.filename[¶](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.filename "Link to this definition")
    
Name of the ZIP file. 

ZipFile.debug[¶](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.debug "Link to this definition")
    
The level of debug output to use. This may be set from `0` (the default, no output) to `3` (the most output). Debugging information is written to `sys.stdout`. 

ZipFile.comment[¶](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.comment "Link to this definition")
    
The comment associated with the ZIP file as a [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes") object. If assigning a comment to a [`ZipFile`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile "zipfile.ZipFile") instance created with mode `'w'`, `'x'` or `'a'`, it should be no longer than 65535 bytes. Comments longer than this will be truncated.
## Path Objects[¶](https://docs.python.org/3/library/zipfile.html#path-objects "Link to this heading")