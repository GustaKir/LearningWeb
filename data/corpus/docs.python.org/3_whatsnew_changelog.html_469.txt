Title: Python 3 Changelog - Recent Fixes and Improvements
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines recent patches and improvements in Python 3, including enhancements to timeout handling in testing, fixes for serialization of display names, better error reporting for corrupt zip files, and adjustments to the behavior of the `pickle` module and `zipfile` class.
---

Patch by Karthikeyan Singaravelan.
  * [bpo-37531](https://bugs.python.org/issue?@action=redirect&bpo=37531): “python3 -m test -jN –timeout=TIMEOUT” now kills a worker process if it runs longer than _TIMEOUT_ seconds.
  * [bpo-37482](https://bugs.python.org/issue?@action=redirect&bpo=37482): Fix serialization of display name in originator or destination address fields with both encoded words and special chars.
  * [bpo-36993](https://bugs.python.org/issue?@action=redirect&bpo=36993): Improve error reporting for corrupt zip files with bad zip64 extra data. Patch by Daniel Hillier.
  * [bpo-37502](https://bugs.python.org/issue?@action=redirect&bpo=37502): pickle.loads() no longer raises TypeError when the buffers argument is set to None
  * [bpo-37520](https://bugs.python.org/issue?@action=redirect&bpo=37520): Correct behavior for zipfile.Path.parent when the path object identifies a subdirectory.
  * [bpo-18374](https://bugs.python.org/issue?@action=redirect&bpo=18374): Fix the `.col_offset` attribute of nested [`ast.BinOp`](https://docs.python.org/3/library/ast.html#ast.BinOp "ast.BinOp") instances which had a too large value in some situations.
  * [bpo-37424](https://bugs.python.org/issue?@action=redirect&bpo=37424): Fixes a possible hang when using a timeout on `subprocess.run()` while capturing output. If the child process spawned its own children or otherwise connected its stdout or stderr handles with another process, we could hang after the timeout was reached and our child was killed when attempting to read final output from the pipes.
  * [bpo-37421](https://bugs.python.org/issue?@action=redirect&bpo=37421): Fix `multiprocessing.util.get_temp_dir()` finalizer: clear also the ‘tempdir’ configuration of the current process, so next call to `get_temp_dir()` will create a new temporary directory, rather than reusing the removed temporary directory.
  * [bpo-37481](https://bugs.python.org/issue?@action=redirect&bpo=37481): The distutils `bdist_wininst` command is deprecated in Python 3.8, use `bdist_wheel` (wheel packages) instead.
  * [bpo-37479](https://bugs.python.org/issue?@action=redirect&bpo=37479): When `Enum.__str__` is overridden in a derived class, the override will be used by `Enum.__format__` regardless of whether mixin classes are present.
  * [bpo-37440](https://bugs.python.org/issue?@action=redirect&bpo=37440): http.client now enables TLS 1.3 post-handshake authentication for default context or if a cert_file is passed to HTTPSConnection.
  * [bpo-37437](https://bugs.python.org/issue?@action=redirect&bpo=37437): Update vendorized expat version to 2.2.7.
  * [bpo-37428](https://bugs.python.org/issue?@action=redirect&bpo=37428): SSLContext.post_handshake_auth = True no longer sets SSL_VERIFY_POST_HANDSHAKE verify flag for client connections. Although the option is documented as ignored for clients, OpenSSL implicitly enables cert chain validation when the flag is set.
  * [bpo-37420](https://bugs.python.org/issue?@action=redirect&bpo=37420): [`os.sched_setaffinity()`](https://docs.python.org/3/library/os.html#os.sched_setaffinity "os.sched_setaffinity") now correctly handles errors that arise during iteration over its `mask` argument. Patch by Brandt Bucher.
  * [bpo-37412](https://bugs.python.org/issue?@action=redirect&bpo=37412): The [`os.getcwdb()`](https://docs.python.org/3/library/os.html#os.getcwdb "os.getcwdb") function now uses the UTF-8 encoding on Windows, rather than the ANSI code page: see [**PEP 529**](https://peps.python.org/pep-0529/) for the rationale. The function is no longer deprecated on Windows.
  * [bpo-37406](https://bugs.python.org/issue?@action=redirect&bpo=37406): The sqlite3 module now raises TypeError, rather than ValueError, if operation argument type is not str: execute(), executemany() and calling a connection.
  * [bpo-29412](https://bugs.python.org/issue?@action=redirect&bpo=29412): Fix IndexError in parsing a header value ending unexpectedly. Patch by Abhilash Raj.
  * [bpo-36546](https://bugs.python.org/issue?@action=redirect&bpo=36546): The _dist_ argument for statistics.quantiles() is now positional only. The current name doesn’t reflect that the argument can be either a dataset or a distribution. Marking the parameter as positional avoids confusion and makes it possible to change the name later.
  * [bpo-37394](https://bugs.python.org/issue?@action=redirect&bpo=37394): Fix a bug that was causing the [`queue`](https://docs.python.org/3/library/queue.html#module-queue "queue: A synchronized queue class.") module to fail if the accelerator module was not available. Patch by Pablo Galindo.
  * [bpo-37376](https://bugs.python.org/issue?@action=redirect&bpo=37376): [`pprint`](https://docs.python.org/3/library/pprint.html#module-pprint "pprint: Data pretty printer.") now has support for [`types.SimpleNamespace`](https://docs.python.org/3/library/types.html#types.SimpleNamespace "types.SimpleNamespace").