Title: Updates on Tests in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details recent updates and additions to tests in Python, including new tests for `functools.singledispatchmethod`, `dis.distb()`, and improvements ensuring compatibility with methods wrapped by multiple decorators. Additionally, it mentions that profile-guided optimization (PGO) tests now function correctly without test extension modules.
---

### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id272 "Link to this heading")
  * [bpo-45678](https://bugs.python.org/issue?@action=redirect&bpo=45678): Add tests for scenarios in which [`functools.singledispatchmethod`](https://docs.python.org/3/library/functools.html#functools.singledispatchmethod "functools.singledispatchmethod") is stacked on top of a method that has already been wrapped by two other decorators. Patch by Alex Waygood.
  * [bpo-45578](https://bugs.python.org/issue?@action=redirect&bpo=45578): Add tests for `dis.distb()`
  * [bpo-45678](https://bugs.python.org/issue?@action=redirect&bpo=45678): Add tests to ensure that `functools.singledispatchmethod` correctly wraps the attributes of the target function.
  * [bpo-45668](https://bugs.python.org/issue?@action=redirect&bpo=45668): PGO tests now pass when Python is built without test extension modules.
  * [bpo-45577](https://bugs.python.org/issue?@action=redirect&bpo=45577): Add subtests for all `pickle` protocols in `test_zoneinfo`.
  * [bpo-45566](https://bugs.python.org/issue?@action=redirect&bpo=45566): Fix `test_frozen_pickle` in `test_dataclasses` to check all `pickle` versions.
  * [bpo-43592](https://bugs.python.org/issue?@action=redirect&bpo=43592): `test.libregrtest` now raises the soft resource limit for the maximum number of file descriptors when the default is too low for our test suite as was often the case on macOS.
  * [bpo-39679](https://bugs.python.org/issue?@action=redirect&bpo=39679): Add more test cases for `@functools.singledispatchmethod` when combined with `@classmethod` or `@staticmethod`.
  * [bpo-45410](https://bugs.python.org/issue?@action=redirect&bpo=45410): When libregrtest spawns a worker process, stderr is now written into stdout to keep messages order. Use a single pipe for stdout and stderr, rather than two pipes. Previously, messages were out of order which made analysis of buildbot logs harder Patch by Victor Stinner.
  * [bpo-45402](https://bugs.python.org/issue?@action=redirect&bpo=45402): Fix test_tools.test_sundry() when Python is built out of tree: fix how the freeze_modules.py tool locates the _freeze_module program. Patch by Victor Stinner.
  * [bpo-45403](https://bugs.python.org/issue?@action=redirect&bpo=45403): Fix test_sys.test_stdlib_dir() when Python is built outside the source tree: compare normalized paths. Patch by Victor Stinner.
  * [bpo-45400](https://bugs.python.org/issue?@action=redirect&bpo=45400): Fix test_name_error_suggestions_do_not_trigger_for_too_many_locals() of test_exceptions if a directory name contains “a1” (like “Python-3.11.0a1”): use a stricter regular expression. Patch by Victor Stinner.
  * [bpo-10572](https://bugs.python.org/issue?@action=redirect&bpo=10572): Rename [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") tests from `test_sqlite` to `test_sqlite3`, and relocate them to `Lib/test/test_sqlite3`. Patch by Erlend E. Aasland.