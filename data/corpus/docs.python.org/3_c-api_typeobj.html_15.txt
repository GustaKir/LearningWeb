Title: Defining Object String Representation in Python C API
URL: https://docs.python.org/3/c-api/typeobj.html
Summary: This section outlines how to implement the string representation function for Python objects in the C API. The function should ideally return a string compatible with `eval()`, and if not possible, a formatted string indicating the object's type and memory address. It also notes that this behavior is inherited by subtypes and specifies the default string format when not explicitly set.
---

```

The function must return a string or a Unicode object. Ideally, this function should return a string that, when passed to [`eval()`](https://docs.python.org/3/library/functions.html#eval "eval"), given a suitable environment, returns an object with the same value. If this is not feasible, it should return a string starting with `'<'` and ending with `'>'` from which both the type and the value of the object can be deduced.
**Inheritance:**
This field is inherited by subtypes.
**Default:**
When this field is not set, a string of the form `<%s object at %p>` is returned, where `%s` is replaced by the type name, and `%p` by the object’s memory address. 

[PyNumberMethods](https://docs.python.org/3/c-api/typeobj.html#c.PyNumberMethods "PyNumberMethods")*[PyTypeObject](https://docs.python.org/3/c-api/type.html#c.PyTypeObject "PyTypeObject").tp_as_number[¶](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_number "Link to this definition")
    
Pointer to an additional structure that contains fields relevant only to objects which implement the number protocol. These fields are documented in [Number Object Structures](https://docs.python.org/3/c-api/typeobj.html#number-structs).
**Inheritance:**
The [`tp_as_number`](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_number "PyTypeObject.tp_as_number") field is not inherited, but the contained fields are inherited individually. 

[PySequenceMethods](https://docs.python.org/3/c-api/typeobj.html#c.PySequenceMethods "PySequenceMethods")*[PyTypeObject](https://docs.python.org/3/c-api/type.html#c.PyTypeObject "PyTypeObject").tp_as_sequence[¶](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_sequence "Link to this definition")
    
Pointer to an additional structure that contains fields relevant only to objects which implement the sequence protocol. These fields are documented in [Sequence Object Structures](https://docs.python.org/3/c-api/typeobj.html#sequence-structs).
**Inheritance:**
The [`tp_as_sequence`](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_sequence "PyTypeObject.tp_as_sequence") field is not inherited, but the contained fields are inherited individually. 

[PyMappingMethods](https://docs.python.org/3/c-api/typeobj.html#c.PyMappingMethods "PyMappingMethods")*[PyTypeObject](https://docs.python.org/3/c-api/type.html#c.PyTypeObject "PyTypeObject").tp_as_mapping[¶](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_mapping "Link to this definition")
    
Pointer to an additional structure that contains fields relevant only to objects which implement the mapping protocol. These fields are documented in [Mapping Object Structures](https://docs.python.org/3/c-api/typeobj.html#mapping-structs).
**Inheritance:**
The [`tp_as_mapping`](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_as_mapping "PyTypeObject.tp_as_mapping") field is not inherited, but the contained fields are inherited individually. 

[hashfunc](https://docs.python.org/3/c-api/typeobj.html#c.hashfunc "hashfunc")[PyTypeObject](https://docs.python.org/3/c-api/type.html#c.PyTypeObject "PyTypeObject").tp_hash[¶](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_hash "Link to this definition")
    
An optional pointer to a function that implements the built-in function [`hash()`](https://docs.python.org/3/library/functions.html#hash "hash").
The signature is the same as for [`PyObject_Hash()`](https://docs.python.org/3/c-api/object.html#c.PyObject_Hash "PyObject_Hash"):
```
Py_hash_ttp_hash(PyObject*);