Title: Python Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document details updates to Python, including the addition of the `dirs_exist_ok` argument for `shutil.copytree`, association of `.mjs` with the `application/javascript` MIME type, enhancements to `os.readlink()` for path-like and bytes objects on Windows, and updates to the UTF-7 decoder to raise `UnicodeDecodeError` for ill-formed sequences.
---

Patch by Michael Osipov.
  * [bpo-20849](https://bugs.python.org/issue?@action=redirect&bpo=20849): shutil.copytree now accepts a new `dirs_exist_ok` keyword argument. Patch by Josh Bronson.
  * [bpo-31715](https://bugs.python.org/issue?@action=redirect&bpo=31715): Associate `.mjs` file extension with `application/javascript` MIME Type.
  * [bpo-34384](https://bugs.python.org/issue?@action=redirect&bpo=34384): [`os.readlink()`](https://docs.python.org/3/library/os.html#os.readlink "os.readlink") now accepts [path-like](https://docs.python.org/3/glossary.html#term-path-like-object) and [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes") objects on Windows.
  * [bpo-22602](https://bugs.python.org/issue?@action=redirect&bpo=22602): The UTF-7 decoder now raises [`UnicodeDecodeError`](https://docs.python.org/3/library/exceptions.html#UnicodeDecodeError "UnicodeDecodeError") for ill-formed sequences starting with “+” (as specified in RFC 2152). Patch by Zackery Spytz.
  * [bpo-2122](https://bugs.python.org/issue?@action=redirect&bpo=2122): The [`mmap.flush()`](https://docs.python.org/3/library/mmap.html#mmap.mmap.flush "mmap.mmap.flush") method now returns `None` on success, raises an exception on error under all platforms.
  * [bpo-34341](https://bugs.python.org/issue?@action=redirect&bpo=34341): Appending to the ZIP archive with the ZIP64 extension no longer grows the size of extra fields of existing entries.
  * [bpo-34333](https://bugs.python.org/issue?@action=redirect&bpo=34333): Fix %-formatting in [`pathlib.PurePath.with_suffix()`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.with_suffix "pathlib.PurePath.with_suffix") when formatting an error message.
  * [bpo-18540](https://bugs.python.org/issue?@action=redirect&bpo=18540): The [`imaplib.IMAP4`](https://docs.python.org/3/library/imaplib.html#imaplib.IMAP4 "imaplib.IMAP4") and [`imaplib.IMAP4_SSL`](https://docs.python.org/3/library/imaplib.html#imaplib.IMAP4_SSL "imaplib.IMAP4_SSL") classes now resolve to the local host IP correctly when the default value of _host_ parameter (`''`) is used.
  * [bpo-26502](https://bugs.python.org/issue?@action=redirect&bpo=26502): Implement `traceback.FrameSummary.__len__()` method to preserve compatibility with the old tuple API.
  * [bpo-34318](https://bugs.python.org/issue?@action=redirect&bpo=34318): [`assertRaises()`](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises "unittest.TestCase.assertRaises"), [`assertRaisesRegex()`](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex "unittest.TestCase.assertRaisesRegex"), [`assertWarns()`](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns "unittest.TestCase.assertWarns") and [`assertWarnsRegex()`](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarnsRegex "unittest.TestCase.assertWarnsRegex") no longer success if the passed callable is None. They no longer ignore unknown keyword arguments in the context manager mode. A DeprecationWarning was raised in these cases since Python 3.5.
  * [bpo-9372](https://bugs.python.org/issue?@action=redirect&bpo=9372): Deprecate [`__getitem__()`](https://docs.python.org/3/reference/datamodel.html#object.__getitem__ "object.__getitem__") methods of [`xml.dom.pulldom.DOMEventStream`](https://docs.python.org/3/library/xml.dom.pulldom.html#xml.dom.pulldom.DOMEventStream "xml.dom.pulldom.DOMEventStream"), [`wsgiref.util.FileWrapper`](https://docs.python.org/3/library/wsgiref.html#wsgiref.util.FileWrapper "wsgiref.util.FileWrapper") and [`fileinput.FileInput`](https://docs.python.org/3/library/fileinput.html#fileinput.FileInput "fileinput.FileInput").
  * [bpo-33613](https://bugs.python.org/issue?@action=redirect&bpo=33613): Fix a race condition in `multiprocessing.semaphore_tracker` when the tracker receives SIGINT before it can register signal handlers for ignoring it.
  * [bpo-34248](https://bugs.python.org/issue?@action=redirect&bpo=34248): Report filename in the exception raised when the database file cannot be opened by [`dbm.gnu.open()`](https://docs.python.org/3/library/dbm.html#dbm.gnu.open "dbm.gnu.open") and [`dbm.ndbm.open()`](https://docs.python.org/3/library/dbm.html#dbm.ndbm.open "dbm.ndbm.open") due to OS-related error. Patch by Zsolt Cserna.
  * [bpo-33089](https://bugs.python.org/issue?@action=redirect&bpo=33089): Add math.dist() to compute the Euclidean distance between two points.
  * [bpo-34246](https://bugs.python.org/issue?@action=redirect&bpo=34246): [`smtplib.SMTP.send_message()`](https://docs.python.org/3/library/smtplib.html#smtplib.SMTP.send_message "smtplib.SMTP.send_message") no longer modifies the content of the _mail_options_ argument. Patch by Pablo S. Blum de Aguiar.
  * [bpo-31047](https://bugs.python.org/issue?@action=redirect&bpo=31047): Fix `ntpath.abspath` for invalid paths on windows.