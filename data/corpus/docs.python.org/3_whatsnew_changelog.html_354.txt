Title: Python 3 Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section lists several patches and bug fixes contributed by Victor Stinner, including a resolution for a KeyError in typing.get_type_hints due to synthetic modules, an update to subprocess.Popen for correct argument representation, and a fix for enum member name matching issues.
---

Patch by Victor Stinner.
  * [bpo-41515](https://bugs.python.org/issue?@action=redirect&bpo=41515): Fix [`KeyError`](https://docs.python.org/3/library/exceptions.html#KeyError "KeyError") raised in [`typing.get_type_hints()`](https://docs.python.org/3/library/typing.html#typing.get_type_hints "typing.get_type_hints") due to synthetic modules that don’t appear in `sys.modules`.
  * [bpo-43776](https://bugs.python.org/issue?@action=redirect&bpo=43776): When [`subprocess.Popen`](https://docs.python.org/3/library/subprocess.html#subprocess.Popen "subprocess.Popen") args are provided as a string or as [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html#pathlib.Path "pathlib.Path"), the Popen instance repr now shows the right thing.
  * [bpo-42248](https://bugs.python.org/issue?@action=redirect&bpo=42248): [Enum] ensure exceptions raised in `_missing__` are released
  * [bpo-43744](https://bugs.python.org/issue?@action=redirect&bpo=43744): fix issue with enum member name matching the start of a private variable name
  * [bpo-43772](https://bugs.python.org/issue?@action=redirect&bpo=43772): Fixed the return value of `TypeVar.__ror__`. Patch by Jelle Zijlstra.
  * [bpo-43764](https://bugs.python.org/issue?@action=redirect&bpo=43764): Add match_args parameter to @dataclass decorator to allow suppression of __match_args__ generation.
  * [bpo-43799](https://bugs.python.org/issue?@action=redirect&bpo=43799): OpenSSL 3.0.0: define `OPENSSL_API_COMPAT` 1.1.1 to suppress deprecation warnings. Python requires OpenSSL 1.1.1 APIs.
  * [bpo-43478](https://bugs.python.org/issue?@action=redirect&bpo=43478): Mocks can no longer be used as the specs for other Mocks. As a result, an already-mocked object cannot have an attribute mocked using `autospec=True` or be the subject of a `create_autospec(...)` call. This can uncover bugs in tests since these Mock-derived Mocks will always pass certain tests (e.g. [`isinstance()`](https://docs.python.org/3/library/functions.html#isinstance "isinstance")) and builtin assert functions (e.g. assert_called_once_with) will unconditionally pass.
  * [bpo-43794](https://bugs.python.org/issue?@action=redirect&bpo=43794): Add [`ssl.OP_IGNORE_UNEXPECTED_EOF`](https://docs.python.org/3/library/ssl.html#ssl.OP_IGNORE_UNEXPECTED_EOF "ssl.OP_IGNORE_UNEXPECTED_EOF") constants (OpenSSL 3.0.0)
  * [bpo-43785](https://bugs.python.org/issue?@action=redirect&bpo=43785): Improve `bz2.BZ2File` performance by removing the RLock from BZ2File. This makes BZ2File thread unsafe in the face of multiple simultaneous readers or writers, just like its equivalent classes in [`gzip`](https://docs.python.org/3/library/gzip.html#module-gzip "gzip: Interfaces for gzip compression and decompression using file objects.") and [`lzma`](https://docs.python.org/3/library/lzma.html#module-lzma "lzma: A Python wrapper for the liblzma compression library.") have always been. Patch by Inada Naoki.
  * [bpo-43789](https://bugs.python.org/issue?@action=redirect&bpo=43789): OpenSSL 3.0.0: Don’t call the password callback function a second time when first call has signaled an error condition.
  * [bpo-43788](https://bugs.python.org/issue?@action=redirect&bpo=43788): The header files for [`ssl`](https://docs.python.org/3/library/ssl.html#module-ssl "ssl: TLS/SSL wrapper for socket objects") error codes are now OpenSSL version-specific. Exceptions will now show correct reason and library codes. The `make_ssl_data.py` script has been rewritten to use OpenSSL’s text file with error codes.
  * [bpo-43766](https://bugs.python.org/issue?@action=redirect&bpo=43766): Implement [**PEP 647**](https://peps.python.org/pep-0647/) in the [`typing`](https://docs.python.org/3/library/typing.html#module-typing "typing: Support for type hints \(see :pep:`484`\).") module by adding `TypeGuard`.
  * [bpo-25264](https://bugs.python.org/issue?@action=redirect&bpo=25264): [`os.path.realpath()`](https://docs.python.org/3/library/os.path.html#os.path.realpath "os.path.realpath") now accepts a _strict_ keyword-only argument. When set to `True`, [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError") is raised if a path doesn’t exist or a symlink loop is encountered.
  * [bpo-43780](https://bugs.python.org/issue?@action=redirect&bpo=43780): In `importlib.metadata`, incorporate changes from importlib_metadata 3.10: Add mtime-based caching during distribution discovery.