Title: Python 3.12 Deprecation Updates
URL: https://docs.python.org/3/whatsnew/3.12.html
Summary: This section details the deprecation of several C API functions in Python 3.12, including `PyErr_Display()` and `_PyErr_ChainExceptions`, recommending alternatives such as `PyErr_DisplayException()` and `_PyErr_ChainExceptions1`. It also addresses changes related to class creation with specific metaclasses.
---

(Contributed by Mark Shannon in [gh-101578](https://github.com/python/cpython/issues/101578).)
  * `PyErr_Display()` is deprecated. Use [`PyErr_DisplayException()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_DisplayException "PyErr_DisplayException") instead. (Contributed by Irit Katriel in [gh-102755](https://github.com/python/cpython/issues/102755)).
  * `_PyErr_ChainExceptions` is deprecated. Use `_PyErr_ChainExceptions1` instead. (Contributed by Irit Katriel in [gh-102192](https://github.com/python/cpython/issues/102192).)
  * Using [`PyType_FromSpec()`](https://docs.python.org/3/c-api/type.html#c.PyType_FromSpec "PyType_FromSpec"), [`PyType_FromSpecWithBases()`](https://docs.python.org/3/c-api/type.html#c.PyType_FromSpecWithBases "PyType_FromSpecWithBases") or [`PyType_FromModuleAndSpec()`](https://docs.python.org/3/c-api/type.html#c.PyType_FromModuleAndSpec "PyType_FromModuleAndSpec") to create a class whose metaclass overrides [`tp_new`](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_new "PyTypeObject.tp_new") is deprecated. Call the metaclass instead.


#### Pending Removal in Python 3.14[¶](https://docs.python.org/3/whatsnew/3.12.html#id7 "Link to this heading")
  * The `ma_version_tag` field in [`PyDictObject`](https://docs.python.org/3/c-api/dict.html#c.PyDictObject "PyDictObject") for extension modules ([**PEP 699**](https://peps.python.org/pep-0699/); [gh-101193](https://github.com/python/cpython/issues/101193)).
  * Creating [`immutable types`](https://docs.python.org/3/c-api/typeobj.html#c.Py_TPFLAGS_IMMUTABLETYPE "Py_TPFLAGS_IMMUTABLETYPE") with mutable bases ([gh-95388](https://github.com/python/cpython/issues/95388)).
  * Functions to configure Python’s initialization, deprecated in Python 3.11:
    * `PySys_SetArgvEx()`: Set [`PyConfig.argv`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.argv "PyConfig.argv") instead.
    * `PySys_SetArgv()`: Set [`PyConfig.argv`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.argv "PyConfig.argv") instead.
    * `Py_SetProgramName()`: Set [`PyConfig.program_name`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.program_name "PyConfig.program_name") instead.
    * `Py_SetPythonHome()`: Set [`PyConfig.home`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.home "PyConfig.home") instead.
The [`Py_InitializeFromConfig()`](https://docs.python.org/3/c-api/init.html#c.Py_InitializeFromConfig "Py_InitializeFromConfig") API should be used with [`PyConfig`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig "PyConfig") instead.
  * Global configuration variables:
    * [`Py_DebugFlag`](https://docs.python.org/3/c-api/init.html#c.Py_DebugFlag "Py_DebugFlag"): Use [`PyConfig.parser_debug`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.parser_debug "PyConfig.parser_debug") instead.
    * [`Py_VerboseFlag`](https://docs.python.org/3/c-api/init.html#c.Py_VerboseFlag "Py_VerboseFlag"): Use [`PyConfig.verbose`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.verbose "PyConfig.verbose") instead.
    * [`Py_QuietFlag`](https://docs.python.org/3/c-api/init.html#c.Py_QuietFlag "Py_QuietFlag"): Use [`PyConfig.quiet`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.quiet "PyConfig.quiet") instead.
    * [`Py_InteractiveFlag`](https://docs.python.org/3/c-api/init.html#c.Py_InteractiveFlag "Py_InteractiveFlag"): Use [`PyConfig.interactive`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.interactive "PyConfig.interactive") instead.
    * [`Py_InspectFlag`](https://docs.python.org/3/c-api/init.html#c.Py_InspectFlag "Py_InspectFlag"): Use [`PyConfig.inspect`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.inspect "PyConfig.inspect") instead.
    * [`Py_OptimizeFlag`](https://docs.python.org/3/c-api/init.html#c.Py_OptimizeFlag "Py_OptimizeFlag"): Use [`PyConfig.optimization_level`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.optimization_level "PyConfig.optimization_level") instead.
    * [`Py_NoSiteFlag`](https://docs.python.org/3/c-api/init.html#c.Py_NoSiteFlag "Py_NoSiteFlag"): Use [`PyConfig.site_import`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.site_import "PyConfig.site_import") instead.
    * [`Py_BytesWarningFlag`](https://docs.python.org/3/c-api/init.html#c.Py_BytesWarningFlag "Py_BytesWarningFlag"): Use [`PyConfig.bytes_warning`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.bytes_warning "PyConfig.bytes_warning") instead.
    * [`Py_FrozenFlag`](https://docs.python.org/3/c-api/init.html#c.Py_FrozenFlag "Py_FrozenFlag"): Use [`PyConfig.pathconfig_warnings`](https://docs.python.org/3/c-api/init_config.html#c.PyConfig.pathconfig_warnings "PyConfig.pathconfig_warnings") instead.
    * [`Py_IgnoreEnvironmentFlag`](https://docs.python.org/3/c-api/init.html#c.Py_IgnoreEnvironmentFlag "Py_IgnoreEnvironmentFlag"): Use [`PyConfig.use_environment`](https://docs.python.org/3/c-api/init