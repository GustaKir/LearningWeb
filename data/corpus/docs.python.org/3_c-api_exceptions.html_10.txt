Title: PyErr_GetHandledException Function
URL: https://docs.python.org/3/c-api/exceptions.html
Summary: The `PyErr_GetHandledException` function retrieves the currently active exception instance, as recognized by `sys.exception()`, indicating an exception that has already been caught. It returns a new reference to the exception without altering the interpreter’s exception state. This function is primarily intended for temporarily saving and restoring the exception state.
---

```


[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyErr_GetHandledException(void)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_GetHandledException "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.11._
Retrieve the active exception instance, as would be returned by [`sys.exception()`](https://docs.python.org/3/library/sys.html#sys.exception "sys.exception"). This refers to an exception that was _already caught_ , not to an exception that was freshly raised. Returns a new reference to the exception or `NULL`. Does not modify the interpreter’s exception state.
Note
This function is not normally used by code that wants to handle exceptions. Rather, it can be used when code needs to save and restore the exception state temporarily. Use [`PyErr_SetHandledException()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetHandledException "PyErr_SetHandledException") to restore or clear the exception state.
Added in version 3.11. 

voidPyErr_SetHandledException([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetHandledException "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.11._
Set the active exception, as known from `sys.exception()`. This refers to an exception that was _already caught_ , not to an exception that was freshly raised. To clear the exception state, pass `NULL`.
Note
This function is not normally used by code that wants to handle exceptions. Rather, it can be used when code needs to save and restore the exception state temporarily. Use [`PyErr_GetHandledException()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_GetHandledException "PyErr_GetHandledException") to get the exception state.
Added in version 3.11. 

voidPyErr_GetExcInfo([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")**ptype, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")**pvalue, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")**ptraceback)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_GetExcInfo "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.7._
Retrieve the old-style representation of the exception info, as known from [`sys.exc_info()`](https://docs.python.org/3/library/sys.html#sys.exc_info "sys.exc_info"). This refers to an exception that was _already caught_ , not to an exception that was freshly raised. Returns new references for the three objects, any of which may be `NULL`. Does not modify the exception info state. This function is kept for backwards compatibility. Prefer using [`PyErr_GetHandledException()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_GetHandledException "PyErr_GetHandledException").
Note
This function is not normally used by code that wants to handle exceptions. Rather, it can be used when code needs to save and restore the exception state temporarily. Use [`PyErr_SetExcInfo()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetExcInfo "PyErr_SetExcInfo") to restore or clear the exception state.
Added in version 3.3.