Title: Python UTF-8 Mode and Preinitialization Configuration
URL: https://docs.python.org/3/c-api/init_config.html
Summary: The `utf8_mode` configuration controls the enablement of Python UTF-8 Mode, set via the `-X utf8` command line option and the `PYTHONUTF8` environment variable. Preinitialization of Python involves setting memory allocators and configuring the LC_CTYPE locale.
---

intutf8_mode[¶](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig.utf8_mode "Link to this definition")
    
If non-zero, enable the [Python UTF-8 Mode](https://docs.python.org/3/library/os.html#utf8-mode).
Set to `0` or `1` by the [`-X utf8`](https://docs.python.org/3/using/cmdline.html#cmdoption-X) command line option and the [`PYTHONUTF8`](https://docs.python.org/3/using/cmdline.html#envvar-PYTHONUTF8) environment variable.
Also set to `1` if the `LC_CTYPE` locale is `C` or `POSIX`.
Default: `-1` in Python config and `0` in isolated config.
## Preinitialize Python with PyPreConfig[¶](https://docs.python.org/3/c-api/init_config.html#preinitialize-python-with-pypreconfig "Link to this heading")
The preinitialization of Python:
  * Set the Python memory allocators ([`PyPreConfig.allocator`](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig.allocator "PyPreConfig.allocator"))
  * Configure the LC_CTYPE locale ([locale encoding](https://docs.python.org/3/glossary.html#term-locale-encoding))
  * Set the [Python UTF-8 Mode](https://docs.python.org/3/library/os.html#utf8-mode) ([`PyPreConfig.utf8_mode`](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig.utf8_mode "PyPreConfig.utf8_mode"))


The current preconfiguration (`PyPreConfig` type) is stored in `_PyRuntime.preconfig`.
Functions to preinitialize Python: 

[PyStatus](https://docs.python.org/3/c-api/init_config.html#c.PyStatus "PyStatus")Py_PreInitialize(const[PyPreConfig](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig "PyPreConfig")*preconfig)[¶](https://docs.python.org/3/c-api/init_config.html#c.Py_PreInitialize "Link to this definition")
    
Preinitialize Python from _preconfig_ preconfiguration.
_preconfig_ must not be `NULL`. 

[PyStatus](https://docs.python.org/3/c-api/init_config.html#c.PyStatus "PyStatus")Py_PreInitializeFromBytesArgs(const[PyPreConfig](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig "PyPreConfig")*preconfig, intargc, char*const*argv)[¶](https://docs.python.org/3/c-api/init_config.html#c.Py_PreInitializeFromBytesArgs "Link to this definition")
    
Preinitialize Python from _preconfig_ preconfiguration.
Parse _argv_ command line arguments (bytes strings) if [`parse_argv`](https://docs.python.org/3/c-api/init_config.html#c.PyPreConfig.parse_argv "PyPreConfig.parse_argv") of _preconfig_ is non-zero.
_preconfig_ must not be `NULL`.