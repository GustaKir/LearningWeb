Title: Python 3.x Change Log Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details updates to IDLE and core features in Python 3.x, including changes to the IDLE hover color for macOS, improvements in asyncio REPL for proper exception handling, support for reading history files from the editline library, and fixes for key mappings in the new interactive shell on Windows.
---

### IDLE[¶](https://docs.python.org/3/whatsnew/changelog.html#id44 "Link to this heading")
  * [gh-120083](https://github.com/python/cpython/issues/120083): Add explicit black IDLE Hovertip foreground color needed for recent macOS. Fixes Sonoma showing unreadable white on pale yellow. Patch by John Riggles.


### Core and Builtins[¶](https://docs.python.org/3/whatsnew/changelog.html#id45 "Link to this heading")
  * [gh-120221](https://github.com/python/cpython/issues/120221): asyncio REPL is now again properly recognizing KeyboardInterrupts. Display of exceptions raised in secondary threads is fixed.
  * [gh-119310](https://github.com/python/cpython/issues/119310): Allow the new interactive shell to read history files written with the editline library that use unicode-escaped entries. Patch by aorcajo and Łukasz Langa.
  * [gh-123572](https://github.com/python/cpython/issues/123572): Fix key mappings for various F-keys in Windows for the new REPL. Patch by devdanzin
  * [gh-119034](https://github.com/python/cpython/issues/119034): Change `<page up>` and `<page down>` keys of the Python REPL to history search forward/backward. Patch by Victor Stinner.
  * [gh-123545](https://github.com/python/cpython/issues/123545): Fix a double decref in rare cases on experimental JIT builds.
  * [gh-123484](https://github.com/python/cpython/issues/123484): Fix `_Py_DebugOffsets` for long objects to be relative to the start of the object rather than the start of a subobject.
  * [gh-123344](https://github.com/python/cpython/issues/123344): Add AST optimizations for type parameter defaults.
  * [gh-123321](https://github.com/python/cpython/issues/123321): Prevent Parser/myreadline race condition from segfaulting on multi-threaded use. Patch by Bar Harel and Amit Wienner.
  * [gh-123177](https://github.com/python/cpython/issues/123177): Fix a bug causing stray prompts to appear in the middle of wrapped lines in the new REPL.
  * [gh-122982](https://github.com/python/cpython/issues/122982): Extend the deprecation period for bool inversion (`~`) by two years.
  * [gh-123275](https://github.com/python/cpython/issues/123275): Support [`-X gil=1`](https://docs.python.org/3/using/cmdline.html#cmdoption-X) and [`PYTHON_GIL=1`](https://docs.python.org/3/using/cmdline.html#envvar-PYTHON_GIL) on non-free-threaded builds.
  * [gh-123177](https://github.com/python/cpython/issues/123177): Deactivate line wrap in the Apple Terminal via a ANSI escape code. Patch by Pablo Galindo
  * [gh-123229](https://github.com/python/cpython/issues/123229): Fix valgrind warning by initializing the f-string buffers to 0 in the tokenizer. Patch by Pablo Galindo
  * [gh-122298](https://github.com/python/cpython/issues/122298): Restore printout of GC stats when `gc.set_debug(gc.DEBUG_STATS)` is called. This featue was accidentally removed when implementing incremental GC.
  * [gh-121804](https://github.com/python/cpython/issues/121804): Correctly show error locations when a [`SyntaxError`](https://docs.python.org/3/library/exceptions.html#SyntaxError "SyntaxError") is raised in the basic REPL. Patch by Sergey B Kirpichev.
  * [gh-123142](https://github.com/python/cpython/issues/123142): Fix too-wide source location in exception tracebacks coming from broken iterables in comprehensions.
  * [gh-123048](https://github.com/python/cpython/issues/123048): Fix a bug where pattern matching code could emit a [`JUMP_FORWARD`](https://docs.python.org/3/library/dis.html#opcode-JUMP_FORWARD) with no source location.
  * [gh-123123](https://github.com/python/cpython/issues/123123): Fix displaying [`SyntaxError`](https://docs.python.org/3/library/exceptions.html#SyntaxError "SyntaxError") exceptions covering multiple lines. Patch by Pablo Galindo
  * [gh-123083](https://github.com/python/cpython/issues/123083): Fix a potential use-after-free in `STORE_ATTR_WITH_HINT`.
  * [gh-123022](https://github.com/python/cpython/issues/123022): Fix crash in free-threaded build when calling [`Py_Initialize()`](https://docs.python.org/3/c-api/init.html#c.Py_Initialize "Py_Initialize") from a non-main thread.
  * [gh-122888](https://github.com/python/cpython/issues/122888): Fix crash on certain calls to `str()` with positional arguments of the wrong type. Patch by Jelle Zijlstra.
  * [gh-116622](https://github.com/python/cpython/issues/116622): Fix Android stdout and stderr messages being truncated or lost.
  * [gh-122527](https://github.com/python/cpython/issues/122527): Fix a crash that occurred when a `PyStructSequence` was deallocated after its type’s dictionary was cleared by the GC. The type’s [`tp_basicsize`](https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_basicsize "PyTypeObject.tp_basicsize") now accounts for non-sequence fields that aren’t included in the [`Py_SIZE`](https://docs.python.org/3/c-api/structures.html#c.Py_SIZE "Py_SIZE") of the sequence.
  * [gh-122445](https://github.com/python/cpython/issues/122445): Add only fields which are modified via self.