Title: POP3.stls Method
URL: https://docs.python.org/3/library/poplib.html
Summary: The POP3.stls method initiates a TLS session on the active connection in accordance with RFC 2595. This method must be called before user authentication and requires an ssl.SSLContext object for configuration. It supports hostname checking and Server Name Indication (SNI) and was added in version 3.4.
---

POP3.stls(_context =None_)[¶](https://docs.python.org/3/library/poplib.html#poplib.POP3.stls "Link to this definition")
    
Start a TLS session on the active connection as specified in [**RFC 2595**](https://datatracker.ietf.org/doc/html/rfc2595.html). This is only allowed before user authentication
_context_ parameter is a [`ssl.SSLContext`](https://docs.python.org/3/library/ssl.html#ssl.SSLContext "ssl.SSLContext") object which allows bundling SSL configuration options, certificates and private keys into a single (potentially long-lived) structure. Please read [Security considerations](https://docs.python.org/3/library/ssl.html#ssl-security) for best practices.
This method supports hostname checking via [`ssl.SSLContext.check_hostname`](https://docs.python.org/3/library/ssl.html#ssl.SSLContext.check_hostname "ssl.SSLContext.check_hostname") and _Server Name Indication_ (see [`ssl.HAS_SNI`](https://docs.python.org/3/library/ssl.html#ssl.HAS_SNI "ssl.HAS_SNI")).
Added in version 3.4.
Instances of [`POP3_SSL`](https://docs.python.org/3/library/poplib.html#poplib.POP3_SSL "poplib.POP3_SSL") have no additional methods. The interface of this subclass is identical to its parent.
## POP3 Example[¶](https://docs.python.org/3/library/poplib.html#pop3-example "Link to this heading")
Here is a minimal example (without error checking) that opens a mailbox and retrieves and prints all messages:
```
importgetpass,poplib
M = poplib.POP3('localhost')
M.user(getpass.getuser())
M.pass_(getpass.getpass())
numMessages = len(M.list()[1])
for i in range(numMessages):
  for j in M.retr(i+1)[1]:
    print(j)

```

At the end of the module, there is a test section that contains a more extensive example of usage.
### [Table of Contents](https://docs.python.org/3/contents.html)
  * [`poplib` — POP3 protocol client](https://docs.python.org/3/library/poplib.html)
    * [POP3 Objects](https://docs.python.org/3/library/poplib.html#pop3-objects)
    * [POP3 Example](https://docs.python.org/3/library/poplib.html#pop3-example)


#### Previous topic
[`ftplib` — FTP protocol client](https://docs.python.org/3/library/ftplib.html "previous chapter")
#### Next topic
[`imaplib` — IMAP4 protocol client](https://docs.python.org/3/library/imaplib.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/poplib.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/imaplib.html "imaplib — IMAP4 protocol client") |
  * [previous](https://docs.python.org/3/library/ftplib.html "ftplib — FTP protocol client") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Internet Protocols and Support](https://docs.python.org/3/library/internet.html) »
  * [`poplib` — POP3 protocol client](https://docs.python.org/3/library/poplib.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3. 
  *[*]: Keyword-only parameters separator (PEP 3102)