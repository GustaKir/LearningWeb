Title: Library Changes in Python 3
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines recent library updates including modifications to zlib functions to improve chunk reading, fixes for error handling in os.makedirs, changes to EventLoop.stop() semantics in asyncio, and enhancements concerning subprocess management.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id740 "Link to this heading")
  * [bpo-25626](https://bugs.python.org/issue?@action=redirect&bpo=25626): Change three zlib functions to accept sizes that fit in Py_ssize_t, but internally cap those sizes to UINT_MAX. This resolves a regression in 3.5 where GzipFile.read() failed to read chunks larger than 2 or 4 GiB. The change affects the zlib.Decompress.decompress() max_length parameter, the zlib.decompress() bufsize parameter, and the zlib.Decompress.flush() length parameter.
  * [bpo-25583](https://bugs.python.org/issue?@action=redirect&bpo=25583): Avoid incorrect errors raised by os.makedirs(exist_ok=True) when the OS gives priority to errors such as EACCES over EEXIST.
  * [bpo-25593](https://bugs.python.org/issue?@action=redirect&bpo=25593): Change semantics of EventLoop.stop() in asyncio.
  * [bpo-6973](https://bugs.python.org/issue?@action=redirect&bpo=6973): When we know a subprocess.Popen process has died, do not allow the send_signal(), terminate(), or kill() methods to do anything as they could potentially signal a different process.
  * [bpo-25590](https://bugs.python.org/issue?@action=redirect&bpo=25590): In the Readline completer, only call getattr() once per attribute.
  * [bpo-25498](https://bugs.python.org/issue?@action=redirect&bpo=25498): Fix a crash when garbage-collecting ctypes objects created by wrapping a memoryview. This was a regression made in 3.5a1. Based on patch by Eryksun.
  * [bpo-25584](https://bugs.python.org/issue?@action=redirect&bpo=25584): Added “escape” to the __all__ list in the glob module.
  * [bpo-25584](https://bugs.python.org/issue?@action=redirect&bpo=25584): Fixed recursive glob() with patterns starting with `**`.
  * [bpo-25446](https://bugs.python.org/issue?@action=redirect&bpo=25446): Fix regression in smtplib’s AUTH LOGIN support.
  * [bpo-18010](https://bugs.python.org/issue?@action=redirect&bpo=18010): Fix the pydoc web server’s module search function to handle exceptions from importing packages.
  * [bpo-25554](https://bugs.python.org/issue?@action=redirect&bpo=25554): Got rid of circular references in regular expression parsing.
  * [bpo-25510](https://bugs.python.org/issue?@action=redirect&bpo=25510): fileinput.FileInput.readline() now returns b’’ instead of ‘’ at the end if the FileInput was opened with binary mode. Patch by Ryosuke Ito.
  * [bpo-25503](https://bugs.python.org/issue?@action=redirect&bpo=25503): Fixed inspect.getdoc() for inherited docstrings of properties. Original patch by John Mark Vandenberg.
  * [bpo-25515](https://bugs.python.org/issue?@action=redirect&bpo=25515): Always use os.urandom as a source of randomness in uuid.uuid4.
  * [bpo-21827](https://bugs.python.org/issue?@action=redirect&bpo=21827): Fixed textwrap.dedent() for the case when largest common whitespace is a substring of smallest leading whitespace. Based on patch by Robert Li.
  * [bpo-25447](https://bugs.python.org/issue?@action=redirect&bpo=25447): The lru_cache() wrapper objects now can be copied and pickled (by returning the original object unchanged).
  * [bpo-25390](https://bugs.python.org/issue?@action=redirect&bpo=25390): typing: Don’t crash on Union[str, Pattern].
  * [bpo-25441](https://bugs.python.org/issue?@action=redirect&bpo=25441): asyncio: Raise error from drain() when socket is closed.
  * [bpo-25410](https://bugs.python.org/issue?@action=redirect&bpo=25410): Cleaned up and fixed minor bugs in C implementation of OrderedDict.
  * [bpo-25411](https://bugs.python.org/issue?@action=redirect&bpo=25411): Improved Unicode support in SMTPHandler through better use of the email package. Thanks to user simon04 for the patch.
  * [bpo-25407](https://bugs.python.org/issue?@action=redirect&bpo=25407): Remove mentions of the formatter module being removed in Python 3.6.
  * [bpo-25406](https://bugs.python.org/issue?@action=redirect&bpo=25406): Fixed a bug in C implementation of OrderedDict.move_to_end() that caused segmentation fault or hang in iterating after moving several items to the start of ordered dict.
  * [bpo-25364](https://bugs.python.org/issue?@action=redirect&bpo=25364): zipfile now works in threads disabled builds.
  * [bpo-25328](https://bugs.python.org/issue?@action=redirect&bpo=25328): smtpd’s SMTPChannel now correctly raises a ValueError if both decode_data and enable_SMTPUTF8 are set to true.
  * [bpo-25316](https://bugs.python.org/issue?@action=redirect&bpo=25316): distutils raises OSError instead of DistutilsPlatformError when MSVC is not installed.
  * [bpo-25380](https://bugs.python.org/issue?@action=redirect&bpo=25380): Fixed protocol for the STACK_GLOBAL opcode in pickletools.opcodes.
  * [bpo-23972](https://bugs.python.org/issue?@action=redirect&bpo=23972): Updates asyncio datagram create method allowing reuseport and reuseaddr socket options to be set prior to binding the socket. Mirroring the existing asyncio create_server method the reuseaddr option for datagram soc