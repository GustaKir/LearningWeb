Title: marshal - Internal Python Object Serialization
URL: https://docs.python.org/3/library/marshal.html
Summary: The `marshal` module facilitates reading and writing Python values in a binary format that is specific to Python but machine architecture independent. Its undocumented format may change between Python versions, and it is not intended for general persistence; for that purpose, use the `pickle` and `shelve` modules.
---

# `marshal` — Internal Python object serialization[¶](https://docs.python.org/3/library/marshal.html#module-marshal "Link to this heading")
This module contains functions that can read and write Python values in a binary format. The format is specific to Python, but independent of machine architecture issues (e.g., you can write a Python value to a file on a PC, transport the file to a Mac, and read it back there). Details of the format are undocumented on purpose; it may change between Python versions (although it rarely does). [[1]](https://docs.python.org/3/library/marshal.html#id2)
This is not a general “persistence” module. For general persistence and transfer of Python objects through RPC calls, see the modules [`pickle`](https://docs.python.org/3/library/pickle.html#module-pickle "pickle: Convert Python objects to streams of bytes and back.") and [`shelve`](https://docs.python.org/3/library/shelve.html#module-shelve "shelve: Python object persistence."). The [`marshal`](https://docs.python.org/3/library/marshal.html#module-marshal "marshal: Convert Python objects to streams of bytes and back \(with different constraints\).") module exists mainly to support reading and writing the “pseudo-compiled” code for Python modules of `.pyc` files. Therefore, the Python maintainers reserve the right to modify the marshal format in backward incompatible ways should the need arise. The format of code objects is not compatible between Python versions, even if the version of the format is the same. De-serializing a code object in the incorrect Python version has undefined behavior. If you’re serializing and de-serializing Python objects, use the [`pickle`](https://docs.python.org/3/library/pickle.html#module-pickle "pickle: Convert Python objects to streams of bytes and back.") module instead – the performance is comparable, version independence is guaranteed, and pickle supports a substantially wider range of objects than marshal.
Warning
The [`marshal`](https://docs.python.org/3/library/marshal.html#module-marshal "marshal: Convert Python objects to streams of bytes and back \(with different constraints\).") module is not intended to be secure against erroneous or maliciously constructed data. Never unmarshal data received from an untrusted or unauthenticated source.
Not all Python object types are supported; in general, only objects whose value is independent from a particular invocation of Python can be written and read by this module. The following types are supported: booleans, integers, floating-point numbers, complex numbers, strings, bytes, bytearrays, tuples, lists, sets, frozensets, dictionaries, and code objects (if _allow_code_ is true), where it should be understood that tuples, lists, sets, frozensets and dictionaries are only supported as long as the values contained therein are themselves supported. The singletons [`None`](https://docs.python.org/3/library/constants.html#None "None"), [`Ellipsis`](https://docs.python.org/3/library/constants.html#Ellipsis "Ellipsis") and [`StopIteration`](https://docs.python.org/3/library/exceptions.html#StopIteration "StopIteration") can also be marshalled and unmarshalled. For format _version_ lower than 3, recursive lists, sets and dictionaries cannot be written (see below).
There are functions that read/write files as well as functions operating on bytes-like objects.
The module defines these functions: 

marshal.dump(_value_ , _file_ , _version =version_, _/_ , _*_ , _allow_code =True_)[¶](https://docs.python.org/3/library/marshal.html#marshal.dump "Link to this definition")
    
Write the value on the open file. The value must be a supported type. The file must be a writeable [binary file](https://docs.python.org/3/glossary.html#term-binary-file).
If the value has (or contains an object that has) an unsupported type, a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") exception is raised — but garbage data will also be written to the file. The object will not be properly read back by [`load()`](https://docs.python.org/3/library/marshal.html#marshal.load "marshal.load"). [Code objects](https://docs.python.org/3/reference/datamodel.html#code-objects) are only supported if _allow_code_ is true.
The _version_ argument indicates the data format that `dump` should use (see below).
Raises an [auditing event](https://docs.python.org/3/library/sys.html#auditing) `marshal.dumps` with arguments `value`, `version`.
Changed in version 3.13: Added the _allow_code_ parameter.