Title: Impact of Compilation Flags on Stack Sizes
URL: https://docs.python.org/3/howto/perf_profiling.html
Summary: This section discusses how different compilation flags, such as optimization levels (`-O0`, `-O1`, `-O2`), influence stack sizes in Python builds. It highlights that higher optimization typically results in smaller stack sizes, and the use of frame pointers can lead to more reliable stack unwinding.
---

```

Different compilation flags can significantly impact stack sizes:
  * Builds with `-O0` typically have much larger stack frames than those with `-O1` or higher
  * Adding optimizations (`-O1`, `-O2`, etc.) typically reduces stack size
  * Frame pointers (`-fno-omit-frame-pointer`) generally provide more reliable stack unwinding


### [Table of Contents](https://docs.python.org/3/contents.html)
  * [Python support for the Linux `perf` profiler](https://docs.python.org/3/howto/perf_profiling.html)
    * [How to enable `perf` profiling support](https://docs.python.org/3/howto/perf_profiling.html#how-to-enable-perf-profiling-support)
    * [How to obtain the best results](https://docs.python.org/3/howto/perf_profiling.html#how-to-obtain-the-best-results)
    * [How to work without frame pointers](https://docs.python.org/3/howto/perf_profiling.html#how-to-work-without-frame-pointers)


#### Previous topic
[Instrumenting CPython with DTrace and SystemTap](https://docs.python.org/3/howto/instrumentation.html "previous chapter")
#### Next topic
[Annotations Best Practices](https://docs.python.org/3/howto/annotations.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/howto/perf_profiling.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/howto/annotations.html "Annotations Best Practices") |
  * [previous](https://docs.python.org/3/howto/instrumentation.html "Instrumenting CPython with DTrace and SystemTap") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [Python HOWTOs](https://docs.python.org/3/howto/index.html) »
  * [Python support for the Linux `perf` profiler](https://docs.python.org/3/howto/perf_profiling.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3.