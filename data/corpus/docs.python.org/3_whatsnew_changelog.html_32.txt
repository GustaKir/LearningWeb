Title: Python 3 Changelog - Recent Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section highlights several recent fixes in Python 3, including resolving memory leaks during regular expression operations and correcting the values returned by sysconfig functions when site initialization occurs after sysconfig.
---

-filesystem-encoding-and-error-handler).
  * [gh-67877](https://github.com/python/cpython/issues/67877): Fix memory leaks when [`regular expression`](https://docs.python.org/3/library/re.html#module-re "re: Regular expression operations.") matching terminates abruptly, either because of a signal or because memory allocation fails.
  * [gh-126789](https://github.com/python/cpython/issues/126789): Fixed the values of [`sysconfig.get_config_vars()`](https://docs.python.org/3/library/sysconfig.html#sysconfig.get_config_vars "sysconfig.get_config_vars"), [`sysconfig.get_paths()`](https://docs.python.org/3/library/sysconfig.html#sysconfig.get_paths "sysconfig.get_paths"), and their siblings when the [`site`](https://docs.python.org/3/library/site.html#module-site "site: Module responsible for site-specific configuration.") initialization happens after [`sysconfig`](https://docs.python.org/3/library/sysconfig.html#module-sysconfig "sysconfig: Python's configuration information") has built a cache for [`sysconfig.get_config_vars()`](https://docs.python.org/3/library/sysconfig.html#sysconfig.get_config_vars "sysconfig.get_config_vars").
  * [gh-126188](https://github.com/python/cpython/issues/126188): Update bundled pip to 24.3.1
  * [gh-126780](https://github.com/python/cpython/issues/126780): Fix [`os.path.normpath()`](https://docs.python.org/3/library/os.path.html#os.path.normpath "os.path.normpath") for drive-relative paths on Windows.
  * [gh-126766](https://github.com/python/cpython/issues/126766): Fix issue where [`urllib.request.url2pathname()`](https://docs.python.org/3/library/urllib.request.html#urllib.request.url2pathname "urllib.request.url2pathname") failed to discard two leading slashes introducing an empty authority section.
  * [gh-126727](https://github.com/python/cpython/issues/126727): `locale.nl_langinfo(locale.ERA)` now returns multiple era description segments separated by semicolons. Previously it only returned the first segment on platforms with Glibc.
  * [gh-126699](https://github.com/python/cpython/issues/126699): Allow [`collections.abc.AsyncIterator`](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator "collections.abc.AsyncIterator") to be a base for Protocols.
  * [gh-126654](https://github.com/python/cpython/issues/126654): Fix crash when non-dict was passed to several functions in `_interpreters` module.
  * [gh-104745](https://github.com/python/cpython/issues/104745): Limit starting a patcher (from [`unittest.mock.patch()`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch "unittest.mock.patch") or [`unittest.mock.patch.object()`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch.object "unittest.mock.patch.object")) more than once without stopping it
  * [gh-126595](https://github.com/python/cpython/issues/126595): Fix a crash when instantiating [`itertools.count`](https://docs.python.org/3/library/itertools.html#itertools.count "itertools.count") with an initial count of [`sys.maxsize`](https://docs.python.org/3/library/sys.html#sys.maxsize "sys.maxsize") on debug builds. Patch by Bénédikt Tran.
  * [gh-120423](https://github.com/python/cpython/issues/120423): Fix issue where [`urllib.request.pathname2url()`](https://docs.python.org/3/library/urllib.request.html#urllib.request.pathname2url "urllib.request.pathname2url") mishandled Windows paths with embedded forward slashes.
  * [gh-126565](https://github.com/python/cpython/issues/126565): Improve performances of [`zipfile.Path.open()`](https://docs.python.org/3/library/zipfile.html#zipfile.Path.open "zipfile.Path.open") for non-reading modes.
  * [gh-126505](https://github.com/python/cpython/issues/126505): Fix bugs in compiling case-insensitive [`regular expressions`](https://docs.python.org/3/library/re.html#module-re "re: Regular expression operations.") with character classes containing non-BMP characters: upper-case non-BMP character did was ignored and the ASCII flag was ignored when matching a character range whose upper bound is beyond the BMP region.
  * [gh-117378](https://github.com/python/cpython/issues/117378): Fixed the [`multiprocessing`](https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing "multiprocessing: Process-based parallelism.") `"forkserver"` start method forkserver process to correctly inherit the parent’s [`sys.path`](https://docs.python.org/3/library/sys.html#sys.path "sys.path") during the importing of [`multiprocessing.set_forkserver_preload()`](https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_forkserver_preload "multiprocessing.set_forkserver_preload") modules in the same manner as [`sys.path`](https://docs.python.org/3/library/sys.html#sys.path "sys.path") is configured in workers before executing work items.
This bug caused some forkserver module preloading to silently fail to preload.