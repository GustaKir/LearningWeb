Title: Python C API - Dictionary Watcher Functions
URL: https://docs.python.org/3/c-api/dict.html
Summary: This section describes two functions in the Python C API for managing dictionary watchers: `PyDict_AddWatcher`, which registers a callback as a watcher and returns a unique ID, and `PyDict_ClearWatcher`, which clears a watcher using its ID. Both functions were introduced in version 3.12.
---

```


intPyDict_AddWatcher([PyDict_WatchCallback](https://docs.python.org/3/c-api/dict.html#c.PyDict_WatchCallback "PyDict_WatchCallback")callback)[¶](https://docs.python.org/3/c-api/dict.html#c.PyDict_AddWatcher "Link to this definition")
    
Register _callback_ as a dictionary watcher. Return a non-negative integer id which must be passed to future calls to [`PyDict_Watch()`](https://docs.python.org/3/c-api/dict.html#c.PyDict_Watch "PyDict_Watch"). In case of error (e.g. no more watcher IDs available), return `-1` and set an exception.
Added in version 3.12. 

intPyDict_ClearWatcher(intwatcher_id)[¶](https://docs.python.org/3/c-api/dict.html#c.PyDict_ClearWatcher "Link to this definition")
    
Clear watcher identified by _watcher_id_ previously returned from [`PyDict_AddWatcher()`](https://docs.python.org/3/c-api/dict.html#c.PyDict_AddWatcher "PyDict_AddWatcher"). Return `0` on success, `-1` on error (e.g. if the given _watcher_id_ was never registered.)
Added in version 3.12. 

intPyDict_Watch(intwatcher_id, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*dict)[¶](https://docs.python.org/3/c-api/dict.html#c.PyDict_Watch "Link to this definition")
    
Mark dictionary _dict_ as watched. The callback granted _watcher_id_ by [`PyDict_AddWatcher()`](https://docs.python.org/3/c-api/dict.html#c.PyDict_AddWatcher "PyDict_AddWatcher") will be called when _dict_ is modified or deallocated. Return `0` on success or `-1` on error.
Added in version 3.12. 

intPyDict_Unwatch(intwatcher_id, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*dict)[¶](https://docs.python.org/3/c-api/dict.html#c.PyDict_Unwatch "Link to this definition")
    
Mark dictionary _dict_ as no longer watched. The callback granted _watcher_id_ by [`PyDict_AddWatcher()`](https://docs.python.org/3/c-api/dict.html#c.PyDict_AddWatcher "PyDict_AddWatcher") will no longer be called when _dict_ is modified or deallocated. The dict must previously have been watched by this watcher. Return `0` on success or `-1` on error.
Added in version 3.12. 

typePyDict_WatchEvent[¶](https://docs.python.org/3/c-api/dict.html#c.PyDict_WatchEvent "Link to this definition")
    
Enumeration of possible dictionary watcher events: `PyDict_EVENT_ADDED`, `PyDict_EVENT_MODIFIED`, `PyDict_EVENT_DELETED`, `PyDict_EVENT_CLONED`, `PyDict_EVENT_CLEARED`, or `PyDict_EVENT_DEALLOCATED`.
Added in version 3.12.