Title: Build Improvements and Fixes in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section describes recent updates related to the build process of Python, including improvements to `Py_UNREACHABLE`, fixes for compatibility with older clang versions, Sphinx version pinning, new requirements for C99 functions, and changes to the `make install` command to utilize the `PLATLIBDIR` variable.
---

### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id362 "Link to this heading")
  * [bpo-38249](https://bugs.python.org/issue?@action=redirect&bpo=38249): Update [`Py_UNREACHABLE`](https://docs.python.org/3/c-api/intro.html#c.Py_UNREACHABLE "Py_UNREACHABLE") to use __builtin_unreachable() if only the compiler is able to use it. Patch by Donghee Na.
  * [bpo-41617](https://bugs.python.org/issue?@action=redirect&bpo=41617): Fix `pycore_bitutils.h` header file to support old clang versions: `__builtin_bswap16()` is not available in LLVM clang 3.0.
  * [bpo-40204](https://bugs.python.org/issue?@action=redirect&bpo=40204): Pin Sphinx version to 2.3.1 in `Doc/Makefile`.
  * [bpo-36020](https://bugs.python.org/issue?@action=redirect&bpo=36020): The C99 functions `snprintf()` and `vsnprintf()` are now required to build Python.
  * [bpo-40684](https://bugs.python.org/issue?@action=redirect&bpo=40684): `make install` now uses the `PLATLIBDIR` variable for the destination `lib-dynload/` directory when `./configure --with-platlibdir` is used.
  * [bpo-40683](https://bugs.python.org/issue?@action=redirect&bpo=40683): Fixed an issue where the [`zoneinfo`](https://docs.python.org/3/library/zoneinfo.html#module-zoneinfo "zoneinfo: IANA time zone support") module and its tests were not included when Python is installed with `make`.


### Windows[¶](https://docs.python.org/3/whatsnew/changelog.html#id363 "Link to this heading")
  * [bpo-41744](https://bugs.python.org/issue?@action=redirect&bpo=41744): Fixes automatic import of props file when using the Nuget package.
  * [bpo-41627](https://bugs.python.org/issue?@action=redirect&bpo=41627): The user site directory for 32-bit now includes a `-32` suffix to distinguish it from the 64-bit interpreter’s directory.
  * [bpo-41526](https://bugs.python.org/issue?@action=redirect&bpo=41526): Fixed layout of final page of the installer by removing the special thanks to Mark Hammond (with his permission).
  * [bpo-41492](https://bugs.python.org/issue?@action=redirect&bpo=41492): Fixes the description that appears in UAC prompts.
  * [bpo-40948](https://bugs.python.org/issue?@action=redirect&bpo=40948): Improve post-install message to direct people to the “py” command.
  * [bpo-41412](https://bugs.python.org/issue?@action=redirect&bpo=41412): The installer will now fail to install on Windows 7 and Windows 8. Further, the UCRT dependency is now always downloaded on demand.
  * [bpo-40741](https://bugs.python.org/issue?@action=redirect&bpo=40741): Update Windows release to include SQLite 3.32.3.
  * [bpo-41142](https://bugs.python.org/issue?@action=redirect&bpo=41142): `msilib` now supports creating CAB files with non-ASCII file path and adding files with non-ASCII file path to them.
  * [bpo-41074](https://bugs.python.org/issue?@action=redirect&bpo=41074): Fixed support of non-ASCII names in functions `msilib.OpenDatabase()` and `msilib.init_database()` and non-ASCII SQL in method `msilib.Database.OpenView()`.
  * [bpo-41039](https://bugs.python.org/issue?@action=redirect&bpo=41039): Stable ABI redirection DLL (python3.dll) now uses `#pragma comment(linker)` for re-exporting.
  * [bpo-40164](https://bugs.python.org/issue?@action=redirect&bpo=40164): Updates Windows OpenSSL to 1.1.1g
  * [bpo-39631](https://bugs.python.org/issue?@action=redirect&bpo=39631): Changes the registered MIME type for `.py` files on Windows to `text/x-python` instead of `text/plain`.
  * [bpo-40677](https://bugs.python.org/issue?@action=redirect&bpo=40677): Manually define IO_REPARSE_TAG_APPEXECLINK in case some old Windows SDK doesn’t have it.
  * [bpo-37556](https://bugs.python.org/issue?@action=redirect&bpo=37556): Extend py.exe help to mention overrides via venv, shebang, environmental variables & ini files.