Title: Python Documentation Changelog - Updates and Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section lists various bug fixes and updates in Python, including improvements to base64 line length calculation, OrderedDict initialization order, email generator support for the policy keyword, and the finalization of the new email API documentation. Additionally, several undocumented modules have been removed.
---

by Duane Griffin. Reviewed and approved by Stefan Behnel.)
  * [bpo-28047](https://bugs.python.org/issue?@action=redirect&bpo=28047): Fixed calculation of line length used for the base64 CTE in the new email policies.
  * [bpo-27576](https://bugs.python.org/issue?@action=redirect&bpo=27576): Fix call order in OrderedDict.__init__().
  * email.generator.DecodedGenerator now supports the policy keyword.
  * [bpo-28027](https://bugs.python.org/issue?@action=redirect&bpo=28027): Remove undocumented modules from `Lib/plat-*`: IN, CDROM, DLFCN, TYPES, CDIO, and STROPTS.
  * [bpo-27445](https://bugs.python.org/issue?@action=redirect&bpo=27445): Don’t pass str(_charset) to MIMEText.set_payload(). Patch by Claude Paroz.
  * [bpo-24277](https://bugs.python.org/issue?@action=redirect&bpo=24277): The new email API is no longer provisional, and the docs have been reorganized and rewritten to emphasize the new API.
  * [bpo-22450](https://bugs.python.org/issue?@action=redirect&bpo=22450): urllib now includes an `Accept: */*` header among the default headers. This makes the results of REST API requests more consistent and predictable especially when proxy servers are involved.
  * lib2to3.pgen3.driver.load_grammar() now creates a stable cache file between runs given the same Grammar.txt input regardless of the hash randomization setting.
  * [bpo-28005](https://bugs.python.org/issue?@action=redirect&bpo=28005): Allow ImportErrors in encoding implementation to propagate.
  * [bpo-26667](https://bugs.python.org/issue?@action=redirect&bpo=26667): Support path-like objects in importlib.util.
  * [bpo-27570](https://bugs.python.org/issue?@action=redirect&bpo=27570): Avoid zero-length memcpy() etc calls with null source pointers in the “ctypes” and “array” modules.
  * [bpo-22233](https://bugs.python.org/issue?@action=redirect&bpo=22233): Break email header lines _only_ on the RFC specified CR and LF characters, not on arbitrary unicode line breaks. This also fixes a bug in HTTP header parsing.
  * [bpo-27331](https://bugs.python.org/issue?@action=redirect&bpo=27331): The email.mime classes now all accept an optional policy keyword.
  * [bpo-27988](https://bugs.python.org/issue?@action=redirect&bpo=27988): Fix email iter_attachments incorrect mutation of payload list.
  * [bpo-16113](https://bugs.python.org/issue?@action=redirect&bpo=16113): Add SHA-3 and SHAKE support to hashlib module.
  * Eliminate a tautological-pointer-compare warning in _scproxy.c.
  * [bpo-27776](https://bugs.python.org/issue?@action=redirect&bpo=27776): The [`os.urandom()`](https://docs.python.org/3/library/os.html#os.urandom "os.urandom") function does now block on Linux 3.17 and newer until the system urandom entropy pool is initialized to increase the security. This change is part of the [**PEP 524**](https://peps.python.org/pep-0524/).
  * [bpo-27778](https://bugs.python.org/issue?@action=redirect&bpo=27778): Expose the Linux `getrandom()` syscall as a new [`os.getrandom()`](https://docs.python.org/3/library/os.html#os.getrandom "os.getrandom") function. This change is part of the [**PEP 524**](https://peps.python.org/pep-0524/).
  * [bpo-27691](https://bugs.python.org/issue?@action=redirect&bpo=27691): Fix ssl module’s parsing of GEN_RID subject alternative name fields in X.509 certs.
  * [bpo-18844](https://bugs.python.org/issue?@action=redirect&bpo=18844): Add random.choices().
  * [bpo-25761](https://bugs.python.org/issue?@action=redirect&bpo=25761): Improved error reporting about truncated pickle data in C implementation of unpickler. UnpicklingError is now raised instead of AttributeError and ValueError in some cases.
  * [bpo-26798](https://bugs.python.org/issue?@action=redirect&bpo=26798): Add BLAKE2 (blake2b and blake2s) to hashlib.
  * [bpo-26032](https://bugs.python.org/issue?@action=redirect&bpo=26032): Optimized globbing in pathlib by using os.scandir(); it is now about 1.5–4 times faster.
  * [bpo-25596](https://bugs.python.org/issue?@action=redirect&bpo=25596): Optimized glob() and iglob() functions in the glob module; they are now about 3–6 times faster.
  * [bpo-27928](https://bugs.python.org/issue?@action=redirect&bpo=27928): Add scrypt (password-based key derivation function) to hashlib module (requires OpenSSL 1.1.0).
  * [bpo-27850](https://bugs.python.org/issue?@action=redirect&bpo=27850): Remove 3DES from ssl module’s default cipher list to counter measure sweet32 attack ([**CVE 2016-2183**](https://www.cve.org/CVERecord?id=CVE-2016-2183)).
  * [bpo-27766](https://bugs.python.org/issue?@action=redirect&bpo=27766): Add ChaCha20 Poly1305 to ssl module’s default cipher list.