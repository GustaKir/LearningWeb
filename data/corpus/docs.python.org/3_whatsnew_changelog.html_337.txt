Title: Python 3.10 Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This update includes a patch by Yurii Karabas that addresses several issues: `typing.ParamSpec` will now only appear in valid use locations as defined by PEP 612, preventing errors from incorrect usage. Additionally, subclassing `csv.Error` has been re-allowed, and improvements have been made to the `ast.unparse()` function regarding formatting.
---

Patch provided by Yurii Karabas.
  * [bpo-44098](https://bugs.python.org/issue?@action=redirect&bpo=44098): `typing.ParamSpec` will no longer be found in the `__parameters__` of most [`typing`](https://docs.python.org/3/library/typing.html#module-typing "typing: Support for type hints \(see :pep:`484`\).") generics except in valid use locations specified by [**PEP 612**](https://peps.python.org/pep-0612/). This prevents incorrect usage like `typing.List[P][int]`. This change means incorrect usage which may have passed silently in 3.10 beta 1 and earlier will now error.
  * [bpo-44089](https://bugs.python.org/issue?@action=redirect&bpo=44089): Allow subclassing `csv.Error` in 3.10 (it was allowed in 3.9 and earlier but was disallowed in early versions of 3.10).
  * [bpo-44081](https://bugs.python.org/issue?@action=redirect&bpo=44081): [`ast.unparse()`](https://docs.python.org/3/library/ast.html#ast.unparse "ast.unparse") now doesn’t use redundant spaces to separate `lambda` and the `:` if there are no parameters.
  * [bpo-44061](https://bugs.python.org/issue?@action=redirect&bpo=44061): Fix regression in previous release when calling [`pkgutil.iter_modules()`](https://docs.python.org/3/library/pkgutil.html#pkgutil.iter_modules "pkgutil.iter_modules") with a list of [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html#pathlib.Path "pathlib.Path") objects
  * [bpo-44059](https://bugs.python.org/issue?@action=redirect&bpo=44059): Register the SerenityOS Browser in the [`webbrowser`](https://docs.python.org/3/library/webbrowser.html#module-webbrowser "webbrowser: Easy-to-use controller for web browsers.") module.
  * [bpo-36515](https://bugs.python.org/issue?@action=redirect&bpo=36515): The [`hashlib`](https://docs.python.org/3/library/hashlib.html#module-hashlib "hashlib: Secure hash and message digest algorithms.") module no longer does unaligned memory accesses when compiled for ARM platforms.
  * [bpo-40465](https://bugs.python.org/issue?@action=redirect&bpo=40465): Remove random module features deprecated in Python 3.9.
  * [bpo-44018](https://bugs.python.org/issue?@action=redirect&bpo=44018): random.seed() no longer mutates bytearray inputs.
  * [bpo-38352](https://bugs.python.org/issue?@action=redirect&bpo=38352): Add `IO`, `BinaryIO`, `TextIO`, `Match`, and `Pattern` to `typing.__all__`. Patch by Jelle Zijlstra.
  * [bpo-44002](https://bugs.python.org/issue?@action=redirect&bpo=44002): [`urllib.parse`](https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse "urllib.parse: Parse URLs into or assemble them from components.") now uses `functool.lru_cache()` for its internal URL splitting and quoting caches instead of rolling its own like its the ’90s.
The undocumented internal [`urllib.parse`](https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse "urllib.parse: Parse URLs into or assemble them from components.") `Quoted` class API is now deprecated, for removal in 3.14.
  * [bpo-43972](https://bugs.python.org/issue?@action=redirect&bpo=43972): When [`http.server.SimpleHTTPRequestHandler`](https://docs.python.org/3/library/http.server.html#http.server.SimpleHTTPRequestHandler "http.server.SimpleHTTPRequestHandler") sends a `301 (Moved Permanently)` for a directory path not ending with `/`, add a `Content-Length: 0` header. This improves the behavior for certain clients.
  * [bpo-28528](https://bugs.python.org/issue?@action=redirect&bpo=28528): Fix a bug in [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") where `checkline()` raises [`AttributeError`](https://docs.python.org/3/library/exceptions.html#AttributeError "AttributeError") if it is called after `reset()`.
  * [bpo-43853](https://bugs.python.org/issue?@action=redirect&bpo=43853): Improved string handling for [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") user-defined functions and aggregates:
    * It is now possible to pass strings with embedded null characters to UDFs
    * Conversion failures now correctly raise [`MemoryError`](https://docs.python.org/3/library/exceptions.html#MemoryError "MemoryError")
Patch by Erlend E. Aasland.
  * [bpo-43666](https://bugs.python.org/issue?@action=redirect&bpo=43666): AIX: `Lib/_aix_support.get_platform()` may fail in an AIX WPAR. The fileset bos.rte appears to have a builddate in both LPAR and WPAR so this fileset is queried rather than bos.mp64. To prevent a similar situation (no builddate in ODM) a value (9988) sufficient for completing a build is provided.