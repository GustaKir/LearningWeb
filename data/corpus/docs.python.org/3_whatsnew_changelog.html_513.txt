Title: Python 3 Updates: Improvements and Bug Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines several updates and bug fixes in Python 3, including enhancements to the datetime functions to retain subclass attributes, the introduction of an optional _headers_ parameter for xmlrpc.client methods, and a fix to the C implementation of pickle.loads for better module loading. Additionally, issues related to hash checking formatting are addressed.
---

ke [`datetime.datetime.now()`](https://docs.python.org/3/library/datetime.html#datetime.datetime.now "datetime.datetime.now") and `datetime.fromtimestamp()` called with a `tz` argument now _also_ retain their subclass.
  * [bpo-35153](https://bugs.python.org/issue?@action=redirect&bpo=35153): Add _headers_ optional keyword-only parameter to [`xmlrpc.client.ServerProxy`](https://docs.python.org/3/library/xmlrpc.client.html#xmlrpc.client.ServerProxy "xmlrpc.client.ServerProxy"), `xmlrpc.client.Transport` and `xmlrpc.client.SafeTransport`. Patch by Cédric Krier.
  * [bpo-34572](https://bugs.python.org/issue?@action=redirect&bpo=34572): Fix C implementation of pickle.loads to use importlib’s locking mechanisms, and thereby avoid using partially loaded modules. Patch by Tim Burgess.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id469 "Link to this heading")
  * [bpo-36083](https://bugs.python.org/issue?@action=redirect&bpo=36083): Fix formatting of –check-hash-based-pycs options in the manpage Synopsis.
  * [bpo-36007](https://bugs.python.org/issue?@action=redirect&bpo=36007): Bump minimum sphinx version to 1.8. Patch by Anthony Sottile.
  * [bpo-22062](https://bugs.python.org/issue?@action=redirect&bpo=22062): Update documentation and docstrings for pathlib. Original patch by Mike Short.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id470 "Link to this heading")
  * [bpo-27313](https://bugs.python.org/issue?@action=redirect&bpo=27313): Avoid test_ttk_guionly ComboboxTest failure with macOS Cocoa Tk.
  * [bpo-36019](https://bugs.python.org/issue?@action=redirect&bpo=36019): Add test.support.TEST_HTTP_URL and replace references of <http://www.example.com> by this new constant. Contributed by Stéphane Wirtel.
  * [bpo-36037](https://bugs.python.org/issue?@action=redirect&bpo=36037): Fix test_ssl for strict OpenSSL configuration like RHEL8 strict crypto policy. Use older TLS version for minimum TLS version of the server SSL context if needed, to test TLS version older than default minimum TLS version.
  * [bpo-35798](https://bugs.python.org/issue?@action=redirect&bpo=35798): Added `test.support.check_syntax_warning()`.
  * [bpo-35505](https://bugs.python.org/issue?@action=redirect&bpo=35505): Make test_imap4_host_default_value independent on whether the local IMAP server is running.
  * [bpo-35917](https://bugs.python.org/issue?@action=redirect&bpo=35917): multiprocessing: provide unit tests for SyncManager and SharedMemoryManager classes + all the shareable types which are supposed to be supported by them. (patch by Giampaolo Rodola)
  * [bpo-35704](https://bugs.python.org/issue?@action=redirect&bpo=35704): Skip `test_shutil.test_unpack_archive_xztar` to prevent a MemoryError on 32-bit AIX when MAXDATA setting is less than 0x20000000.
Patch by Michael Felt (aixtools)
  * [bpo-34720](https://bugs.python.org/issue?@action=redirect&bpo=34720): Assert m_state != NULL to mimic GC traversal functions that do not correctly handle module creation when the module state has not been created.


### Windows[¶](https://docs.python.org/3/whatsnew/changelog.html#id471 "Link to this heading")
  * [bpo-35976](https://bugs.python.org/issue?@action=redirect&bpo=35976): Added ARM build support to Windows build files in PCBuild.
  * [bpo-35692](https://bugs.python.org/issue?@action=redirect&bpo=35692): `pathlib` no longer raises when checking file and directory existence on drives that are not ready
  * [bpo-35872](https://bugs.python.org/issue?@action=redirect&bpo=35872): Uses the base Python executable when invoking venv in a virtual environment
  * [bpo-35873](https://bugs.python.org/issue?@action=redirect&bpo=35873): Prevents venv paths being inherited by child processes
  * [bpo-35299](https://bugs.python.org/issue?@action=redirect&bpo=35299): Fix sysconfig detection of the source directory and distutils handling of pyconfig.h during PGO profiling


### IDLE[¶](https://docs.python.org/3/whatsnew/changelog.html#id472 "Link to this heading")
  * [bpo-24310](https://bugs.python.org/issue?@action=redirect&bpo=24310): IDLE – Document settings dialog font tab sample.
  * [bpo-35833](https://bugs.python.org/issue?@action=redirect&bpo=35833): Revise IDLE doc for control codes sent to Shell. Add a code example block.
  * [bpo-35689](https://bugs.python.org/issue?@action=redirect&bpo=35689): Add docstrings and unittests for colorizer.py.