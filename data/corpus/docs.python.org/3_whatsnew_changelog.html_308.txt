Title: Python 3 Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details recent updates including an implementation of the General Decimal Arithmetic Specification in the decimal module, new build configuration options for pkg-config, and improved detection of dependencies for sqlite3, zlib, and bz2 modules during the build process.
---

mal.html#module-decimal "decimal: Implementation of the General Decimal Arithmetic Specification.") internal C extension are now detected by `configure`. The bundled `libmpdec` library is built in `Makefile`.
  * [bpo-45723](https://bugs.python.org/issue?@action=redirect&bpo=45723): **configure** has a new option `--with-pkg-config` to disable or require pkg-config.
  * [bpo-45774](https://bugs.python.org/issue?@action=redirect&bpo=45774): The build dependencies for [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") are now detected by `configure` and `pkg-config`. Patch by Erlend E. Aasland.
  * [bpo-45763](https://bugs.python.org/issue?@action=redirect&bpo=45763): The build dependencies for [`zlib`](https://docs.python.org/3/library/zlib.html#module-zlib "zlib: Low-level interface to compression and decompression routines compatible with gzip."), [`bz2`](https://docs.python.org/3/library/bz2.html#module-bz2 "bz2: Interfaces for bzip2 compression and decompression."), and [`lzma`](https://docs.python.org/3/library/lzma.html#module-lzma "lzma: A Python wrapper for the liblzma compression library.") are now detected by `configure`.
  * [bpo-45747](https://bugs.python.org/issue?@action=redirect&bpo=45747): gdbm and dbm build dependencies are now detected by `configure`.
  * [bpo-45743](https://bugs.python.org/issue?@action=redirect&bpo=45743): On macOS, the build system no longer passes `search_paths_first` to the linker. The flag has been the default since Xcode 4 / macOS 10.6.
  * [bpo-45723](https://bugs.python.org/issue?@action=redirect&bpo=45723): `configure.ac` is now compatible with autoconf 2.71. Deprecated checks `STDC_HEADERS` and `AC_HEADER_TIME` have been removed.
  * [bpo-45723](https://bugs.python.org/issue?@action=redirect&bpo=45723): `configure` now prints a warning when pkg-config is missing.
  * [bpo-45731](https://bugs.python.org/issue?@action=redirect&bpo=45731): `configure --enable-loadable-sqlite-extensions` is now handled by new `PY_SQLITE_ENABLE_LOAD_EXTENSION` macro instead of logic in setup.py.
  * [bpo-45723](https://bugs.python.org/issue?@action=redirect&bpo=45723): configure.ac now uses custom helper macros and `AC_CACHE_CHECK` to simplify and speed up configure runs.
  * [bpo-45696](https://bugs.python.org/issue?@action=redirect&bpo=45696): Skip the marshal step for frozen modules by generating C code that produces a set of ready-to-use code objects. This speeds up startup time by another 10% or more.
  * [bpo-45561](https://bugs.python.org/issue?@action=redirect&bpo=45561): Run smelly.py tool from $(srcdir).


### Windows[¶](https://docs.python.org/3/whatsnew/changelog.html#id266 "Link to this heading")
  * [bpo-46105](https://bugs.python.org/issue?@action=redirect&bpo=46105): Fixed calculation of [`sys.path`](https://docs.python.org/3/library/sys.html#sys.path "sys.path") in a venv on Windows.
  * [bpo-45901](https://bugs.python.org/issue?@action=redirect&bpo=45901): When installed through the Microsoft Store and set as the default app for `*.py` files, command line arguments will now be passed to Python when invoking a script without explicitly launching Python (that is, `script.py args` rather than `python script.py args`).
  * [bpo-45616](https://bugs.python.org/issue?@action=redirect&bpo=45616): Fix Python Launcher’s ability to distinguish between versions 3.1 and 3.10 when either one is explicitly requested. Previously, 3.1 would be used if 3.10 was requested but not installed, and 3.10 would be used if 3.1 was requested but 3.10 was installed.
  * [bpo-45850](https://bugs.python.org/issue?@action=redirect&bpo=45850): Implement changes to build with deep-frozen modules on Windows. Note that we now require Python 3.10 as the “bootstrap” or “host” Python.
  * [bpo-45732](https://bugs.python.org/issue?@action=redirect&bpo=45732): Updates bundled Tcl/Tk to 8.6.12.
  * [bpo-45720](https://bugs.python.org/issue?@action=redirect&bpo=45720): Internal reference to `shlwapi.dll` was dropped to help improve startup time. This DLL will no longer be loaded at the start of every Python process.


### macOS[¶](https://docs.python.org/3/whatsnew/changelog.html#id267 "Link to this heading")
  * [bpo-45732](https://bugs.python.org/issue?@action=redirect&bpo=45732): Update python.org macOS installer to use Tcl/Tk 8.6.12.


### C API[¶](https://docs.python.org/3/whatsnew/changelog.html#id268 "Link to this heading")
  * [bpo-39026](https://bugs.python.org/issue?@action=redirect&bpo=39026): Fix Python.h to build C extensions with Xcode: remove a relative include from `Include/cpython/pystate.h`.