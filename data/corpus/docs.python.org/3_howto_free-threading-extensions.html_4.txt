Title: Free-Threading Extensions: C API and Windows Limitations
URL: https://docs.python.org/3/howto/free-threading-extensions.html
Summary: The free-threaded Python build does not support the Limited C API or stable ABI. When using setuptools, you can modify the py_limited_api setting to opt-out of the limited API. Separate wheels must be built for the free-threaded build, while a single wheel can suffice for non-free-threaded versions. Additionally, there are specific limitations regarding the official Windows installer.
---

### Limited C API and Stable ABI[¶](https://docs.python.org/3/howto/free-threading-extensions.html#limited-c-api-and-stable-abi "Link to this heading")
The free-threaded build does not currently support the [Limited C API](https://docs.python.org/3/c-api/stable.html#limited-c-api) or the stable ABI. If you use [setuptools](https://setuptools.pypa.io/en/latest/setuptools.html) to build your extension and currently set `py_limited_api=True` you can use `py_limited_api=not sysconfig.get_config_var("Py_GIL_DISABLED")` to opt out of the limited API when building with the free-threaded build.
Note
You will need to build separate wheels specifically for the free-threaded build. If you currently use the stable ABI, you can continue to build a single wheel for multiple non-free-threaded Python versions.
### Windows[¶](https://docs.python.org/3/howto/free-threading-extensions.html#windows "Link to this heading")
Due to a limitation of the official Windows installer, you will need to manually define `Py_GIL_DISABLED=1` when building extensions from source.
See also
[Porting Extension Modules to Support Free-Threading](https://py-free-threading.github.io/porting/): A community-maintained porting guide for extension authors.
### [Table of Contents](https://docs.python.org/3/contents.html)
  * [C API Extension Support for Free Threading](https://docs.python.org/3/howto/free-threading-extensions.html)
    * [Identifying the Free-Threaded Build in C](https://docs.python.org/3/howto/free-threading-extensions.html#identifying-the-free-threaded-build-in-c)
    * [Module Initialization](https://docs.python.org/3/howto/free-threading-extensions.html#module-initialization)
      * [Multi-Phase Initialization](https://docs.python.org/3/howto/free-threading-extensions.html#multi-phase-initialization)
      * [Single-Phase Initialization](https://docs.python.org/3/howto/free-threading-extensions.html#single-phase-initialization)
    * [General API Guidelines](https://docs.python.org/3/howto/free-threading-extensions.html#general-api-guidelines)
      * [Container Thread Safety](https://docs.python.org/3/howto/free-threading-extensions.html#container-thread-safety)
        * [`PyDict_Next`](https://docs.python.org/3/howto/free-threading-extensions.html#pydict-next)
    * [Borrowed References](https://docs.python.org/3/howto/free-threading-extensions.html#borrowed-references)
    * [Memory Allocation APIs](https://docs.python.org/3/howto/free-threading-extensions.html#memory-allocation-apis)
    * [Thread State and GIL APIs](https://docs.python.org/3/howto/free-threading-extensions.html#thread-state-and-gil-apis)
    * [Protecting Internal Extension State](https://docs.python.org/3/howto/free-threading-extensions.html#protecting-internal-extension-state)
    * [Building Extensions for the Free-Threaded Build](https://docs.python.org/3/howto/free-threading-extensions.html#building-extensions-for-the-free-threaded-build)
      * [Limited C API and Stable ABI](https://docs.python.org/3/howto/free-threading-extensions.html#limited-c-api-and-stable-abi)
      * [Windows](https://docs.python.org/3/howto/free-threading-extensions.html#windows)


#### Previous topic
[Python experimental support for free threading](https://docs.python.org/3/howto/free-threading-python.html "previous chapter")
#### Next topic
[Python Frequently Asked Questions](https://docs.python.org/3/faq/index.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/howto/free-threading-extensions.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/faq/index.html "Python Frequently Asked Questions") |
  * [previous](https://docs.python.org/3/howto/free-threading-python.html "Python experimental support for free threading") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [Python HOWTOs](https://docs.python.org/3/howto/index.html) »
  * [C API Extension Support for Free Threading](https://docs.python.org/3/howto/free-threading-extensions.html)
  * | 
  * Theme  Auto Light Dark |