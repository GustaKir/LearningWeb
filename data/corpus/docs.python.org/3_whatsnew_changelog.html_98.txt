Title: Changelog for Python Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines recent changes in Python, focusing on improvements in the 'argparse' library for command-line parsing and the handling of comparisons between 'date' and 'datetime' objects, which now return 'NotImplemented' for mismatched types instead of default behaviors.
---

ary/argparse.html#module-argparse "argparse: Command-line option and argument parsing library.") (e.g. `--option=--`).
  * [gh-49766](https://github.com/python/cpython/issues/49766): Fix [`date`](https://docs.python.org/3/library/datetime.html#datetime.date "datetime.date")-[`datetime`](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime") comparison. Now the special comparison methods like `__eq__` and `__lt__` return [`NotImplemented`](https://docs.python.org/3/library/constants.html#NotImplemented "NotImplemented") if one of comparands is `date` and other is `datetime` instead of ignoring the time part and the time zone or forcefully return “not equal” or raise [`TypeError`](https://docs.python.org/3/library/exceptions.html#TypeError "TypeError"). It makes comparison of `date` and `datetime` subclasses more symmetric and allows to change the default behavior by overriding the special comparison methods in subclasses.
  * [gh-110190](https://github.com/python/cpython/issues/110190): Fix ctypes structs with array on Windows ARM64 platform by setting `MAX_STRUCT_SIZE` to 32 in stgdict. Patch by Diego Russo
  * [gh-114678](https://github.com/python/cpython/issues/114678): Ensure that deprecation warning for ‘N’ specifier in [`Decimal`](https://docs.python.org/3/library/decimal.html#decimal.Decimal "decimal.Decimal") format is not raised for cases where ‘N’ appears in other places in the format specifier. Based on patch by Stefan Krah.
  * [gh-70303](https://github.com/python/cpython/issues/70303): Return both files and directories from [`pathlib.Path.glob()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.glob "pathlib.Path.glob") if a pattern ends with “`**`”. Previously only directories were returned.
  * [gh-109653](https://github.com/python/cpython/issues/109653): Improve import time of [`importlib.metadata`](https://docs.python.org/3/library/importlib.metadata.html#module-importlib.metadata "importlib.metadata: Accessing package metadata") and [`email.utils`](https://docs.python.org/3/library/email.utils.html#module-email.utils "email.utils: Miscellaneous email package utilities.").
  * [gh-113280](https://github.com/python/cpython/issues/113280): Fix a leak of open socket in rare cases when error occurred in [`ssl.SSLSocket`](https://docs.python.org/3/library/ssl.html#ssl.SSLSocket "ssl.SSLSocket") creation.
  * [gh-77749](https://github.com/python/cpython/issues/77749): [`email.policy.EmailPolicy.fold()`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy.fold "email.policy.EmailPolicy.fold") now always encodes non-ASCII characters in headers if [`utf8`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy.utf8 "email.policy.EmailPolicy.utf8") is false.
  * [gh-83383](https://github.com/python/cpython/issues/83383): Synchronization of the [`dbm.dumb`](https://docs.python.org/3/library/dbm.html#module-dbm.dumb "dbm.dumb: Portable implementation of the simple DBM interface.") database is now no-op if there was no modification since opening or last synchronization. The directory file for a newly created empty [`dbm.dumb`](https://docs.python.org/3/library/dbm.html#module-dbm.dumb "dbm.dumb: Portable implementation of the simple DBM interface.") database is now created immediately after opening instead of deferring this until synchronizing or closing.
  * [gh-91602](https://github.com/python/cpython/issues/91602): Add _filter_ keyword-only parameter to [`sqlite3.Connection.iterdump()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.iterdump "sqlite3.Connection.iterdump") for filtering database objects to dump. Patch by Mariusz Felisiak.
  * [gh-112451](https://github.com/python/cpython/issues/112451): Prohibit subclassing pure-Python [`datetime.timezone`](https://docs.python.org/3/library/datetime.html#datetime.timezone "datetime.timezone"). This is consistent with C-extension implementation. Patch by Mariusz Felisiak.
  * [gh-69893](https://github.com/python/cpython/issues/69893): Add the `close()` method for the iterator returned by [`xml.etree.ElementTree.iterparse()`](https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.iterparse "xml.etree.ElementTree.iterparse").
  * [gh-109653](https://github.com/python/cpython/issues/109653): Reduce the import time of [`threading`](https://docs.python.org/3/library/threading.html#module-threading "threading: Thread-based parallelism.") module by ~50%. Patch by Daniel Hollas.
  * [gh-114492](https://github.com/python/cpython/issues/114492): Make the result of [`termios.tcgetattr()`](https://docs.python.org/3/library/termios.html#termios.tcgetattr "termios.tcgetattr") reproducible on Alpine Linux.