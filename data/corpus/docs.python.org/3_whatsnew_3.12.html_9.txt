Title: Python 3.12 Release Notes
URL: https://docs.python.org/3/whatsnew/3.12.html
Summary: Python 3.12 introduces several changes, including `ast.parse()` now raising a `SyntaxError` for null bytes in source code instead of a `ValueError`. Additionally, `tarfile` extraction methods and `shutil.unpack_archive()` feature a new _filter_ argument to limit potentially dangerous tar features.
---

ontributed by Raymond Hettinger in [gh-100425](https://github.com/python/cpython/issues/100425).)
  * [`ast.parse()`](https://docs.python.org/3/library/ast.html#ast.parse "ast.parse") now raises [`SyntaxError`](https://docs.python.org/3/library/exceptions.html#SyntaxError "SyntaxError") instead of [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") when parsing source code containing null bytes. (Contributed by Pablo Galindo in [gh-96670](https://github.com/python/cpython/issues/96670).)
  * The extraction methods in [`tarfile`](https://docs.python.org/3/library/tarfile.html#module-tarfile "tarfile: Read and write tar-format archive files."), and [`shutil.unpack_archive()`](https://docs.python.org/3/library/shutil.html#shutil.unpack_archive "shutil.unpack_archive"), have a new a _filter_ argument that allows limiting tar features than may be surprising or dangerous, such as creating files outside the destination directory. See [tarfile extraction filters](https://docs.python.org/3/library/tarfile.html#tarfile-extraction-filter) for details. In Python 3.14, the default will switch to `'data'`. (Contributed by Petr Viktorin in [**PEP 706**](https://peps.python.org/pep-0706/).)
  * [`types.MappingProxyType`](https://docs.python.org/3/library/types.html#types.MappingProxyType "types.MappingProxyType") instances are now hashable if the underlying mapping is hashable. (Contributed by Serhiy Storchaka in [gh-87995](https://github.com/python/cpython/issues/87995).)
  * Add [support for the perf profiler](https://docs.python.org/3/howto/perf_profiling.html#perf-profiling) through the new environment variable [`PYTHONPERFSUPPORT`](https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPERFSUPPORT) and command-line option [`-X perf`](https://docs.python.org/3/using/cmdline.html#cmdoption-X), as well as the new [`sys.activate_stack_trampoline()`](https://docs.python.org/3/library/sys.html#sys.activate_stack_trampoline "sys.activate_stack_trampoline"), [`sys.deactivate_stack_trampoline()`](https://docs.python.org/3/library/sys.html#sys.deactivate_stack_trampoline "sys.deactivate_stack_trampoline"), and [`sys.is_stack_trampoline_active()`](https://docs.python.org/3/library/sys.html#sys.is_stack_trampoline_active "sys.is_stack_trampoline_active") functions. (Design by Pablo Galindo. Contributed by Pablo Galindo and Christian Heimes with contributions from Gregory P. Smith [Google] and Mark Shannon in [gh-96123](https://github.com/python/cpython/issues/96123).)


## New Modules[¶](https://docs.python.org/3/whatsnew/3.12.html#new-modules "Link to this heading")
  * None.


## Improved Modules[¶](https://docs.python.org/3/whatsnew/3.12.html#improved-modules "Link to this heading")
### array[¶](https://docs.python.org/3/whatsnew/3.12.html#array "Link to this heading")
  * The [`array.array`](https://docs.python.org/3/library/array.html#array.array "array.array") class now supports subscripting, making it a [generic type](https://docs.python.org/3/glossary.html#term-generic-type). (Contributed by Jelle Zijlstra in [gh-98658](https://github.com/python/cpython/issues/98658).)