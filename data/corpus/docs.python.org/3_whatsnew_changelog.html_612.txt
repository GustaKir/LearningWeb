Title: Python Change Log Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document lists various bug fixes and improvements in Python, including enhancements to the curses.ascii predicates, issues with WeakValueDictionary when accessing from multiple threads, removal of artifacts from Tix.py, and fixes for crashes in ElementTree and resource.prlimit().
---

Based on patch by Tycho Andersen.
  * [bpo-9770](https://bugs.python.org/issue?@action=redirect&bpo=9770): curses.ascii predicates now work correctly with negative integers.
  * [bpo-28427](https://bugs.python.org/issue?@action=redirect&bpo=28427): old keys should not remove new values from WeakValueDictionary when collecting from another thread.
  * [bpo-28923](https://bugs.python.org/issue?@action=redirect&bpo=28923): Remove editor artifacts from Tix.py.
  * [bpo-28871](https://bugs.python.org/issue?@action=redirect&bpo=28871): Fixed a crash when deallocate deep ElementTree.
  * [bpo-19542](https://bugs.python.org/issue?@action=redirect&bpo=19542): Fix bugs in WeakValueDictionary.setdefault() and WeakValueDictionary.pop() when a GC collection happens in another thread.
  * [bpo-20191](https://bugs.python.org/issue?@action=redirect&bpo=20191): Fixed a crash in resource.prlimit() when passing a sequence that doesn’t own its elements as limits.
  * [bpo-16255](https://bugs.python.org/issue?@action=redirect&bpo=16255): subprocess.Popen uses /system/bin/sh on Android as the shell, instead of /bin/sh.
  * [bpo-28779](https://bugs.python.org/issue?@action=redirect&bpo=28779): multiprocessing.set_forkserver_preload() would crash the forkserver process if a preloaded module instantiated some multiprocessing objects such as locks.
  * [bpo-26937](https://bugs.python.org/issue?@action=redirect&bpo=26937): The chown() method of the tarfile.TarFile class does not fail now when the grp module cannot be imported, as for example on Android platforms.
  * [bpo-28847](https://bugs.python.org/issue?@action=redirect&bpo=28847): dbm.dumb now supports reading read-only files and no longer writes the index file when it is not changed. A deprecation warning is now emitted if the index file is missed and recreated in the ‘r’ and ‘w’ modes (will be an error in future Python releases).
  * [bpo-27030](https://bugs.python.org/issue?@action=redirect&bpo=27030): Unknown escapes consisting of `'\'` and an ASCII letter in re.sub() replacement templates regular expressions now are errors.
  * [bpo-28835](https://bugs.python.org/issue?@action=redirect&bpo=28835): Fix a regression introduced in warnings.catch_warnings(): call warnings.showwarning() if it was overridden inside the context manager.
  * [bpo-27172](https://bugs.python.org/issue?@action=redirect&bpo=27172): To assist with upgrades from 2.7, the previously documented deprecation of `inspect.getfullargspec()` has been reversed. This decision may be revisited again after the Python 2.7 branch is no longer officially supported.
  * [bpo-28740](https://bugs.python.org/issue?@action=redirect&bpo=28740): Add sys.getandroidapilevel(): return the build time API version of Android as an integer. Function only available on Android.
  * [bpo-26273](https://bugs.python.org/issue?@action=redirect&bpo=26273): Add new `socket.TCP_CONGESTION` (Linux 2.6.13) and `socket.TCP_USER_TIMEOUT` (Linux 2.6.37) constants. Patch written by Omar Sandoval.
  * [bpo-28752](https://bugs.python.org/issue?@action=redirect&bpo=28752): Restored the __reduce__() methods of datetime objects.
  * [bpo-28727](https://bugs.python.org/issue?@action=redirect&bpo=28727): Regular expression patterns, _sre.SRE_Pattern objects created by re.compile(), become comparable (only x==y and x!=y operators). This change should fix the [bpo-18383](https://bugs.python.org/issue?@action=redirect&bpo=18383): don’t duplicate warning filters when the warnings module is reloaded (thing usually only done in unit tests).
  * [bpo-20572](https://bugs.python.org/issue?@action=redirect&bpo=20572): Remove the subprocess.Popen.wait endtime parameter. It was deprecated in 3.4 and undocumented prior to that.
  * [bpo-25659](https://bugs.python.org/issue?@action=redirect&bpo=25659): In ctypes, prevent a crash calling the from_buffer() and from_buffer_copy() methods on abstract classes like Array.
  * [bpo-28548](https://bugs.python.org/issue?@action=redirect&bpo=28548): In the “http.server” module, parse the protocol version if possible, to avoid using HTTP 0.9 in some error responses.
  * [bpo-19717](https://bugs.python.org/issue?@action=redirect&bpo=19717): Makes Path.resolve() succeed on paths that do not exist. Patch by Vajrasky Kok
  * [bpo-28563](https://bugs.python.org/issue?@action=redirect&bpo=28563): Fixed possible DoS and arbitrary code execution when handle plural form selections in the gettext module. The expression parser now supports exact syntax supported by GNU gettext.
  * [bpo-28387](https://bugs.python.org/issue?@action=redirect&bpo=28387): Fixed possible crash in _io.TextIOWrapper deallocator when the garbage collector is invoked in other thread. Based on patch by Sebastian Cufre.
  * [bpo-27517](https://bugs.python.org/issue?@action=redirect&bpo=27517): LZMA compressor and decompressor no longer raise exceptions if given empty data twice.