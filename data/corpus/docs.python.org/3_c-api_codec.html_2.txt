Title: Registering Error Handling Callbacks in Codecs
URL: https://docs.python.org/3/c-api/codec.html
Summary: The function `PyCodec_RegisterError` registers an error handling callback under a specified name, which is invoked by codecs when they encounter unencodable characters or undecodable bytes. The callback takes a single argument representing the relevant error (e.g., `UnicodeEncodeError`, `UnicodeDecodeError`, or `UnicodeTranslateError`).
---

intPyCodec_RegisterError(constchar*name, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*error)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_RegisterError "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Register the error handling callback function _error_ under the given _name_. This callback function will be called by a codec when it encounters unencodable characters/undecodable bytes and _name_ is specified as the error parameter in the call to the encode/decode function.
The callback gets a single argument, an instance of [`UnicodeEncodeError`](https://docs.python.org/3/library/exceptions.html#UnicodeEncodeError "UnicodeEncodeError"), [`UnicodeDecodeError`](https://docs.python.org/3/library/exceptions.html#UnicodeDecodeError "UnicodeDecodeError") or [`UnicodeTranslateError`](https://docs.python.org/3/library/exceptions.html#UnicodeTranslateError "UnicodeTranslateError") that holds information about the problematic sequence of characters or bytes and their offset in the original string (see [Unicode Exception Objects](https://docs.python.org/3/c-api/exceptions.html#unicodeexceptions) for functions to extract this information). The callback must either raise the given exception, or return a two-item tuple containing the replacement for the problematic sequence, and an integer giving the offset in the original string at which encoding/decoding should be resumed.
Return `0` on success, `-1` on error. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_LookupError(constchar*name)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_LookupError "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Lookup the error handling callback function registered under _name_. As a special case `NULL` can be passed, in which case the error handling callback for “strict” will be returned. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_StrictErrors([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_StrictErrors "Link to this definition")
    _Return value: Always NULL.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Raise _exc_ as an exception. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_IgnoreErrors([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_IgnoreErrors "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Ignore the unicode error, skipping the faulty input. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_ReplaceErrors([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_ReplaceErrors "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Replace the unicode encode error with `?` or `U+FFFD`. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_XMLCharRefReplaceErrors([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_XMLCharRefReplaceErrors "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Replace the unicode encode error with XML character references. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyCodec_BackslashReplaceErrors([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*exc)[¶](https://docs.python.org/3/c-api/codec.html#c.PyCodec_BackslashReplaceErrors "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Replace the unicode encode error with backslash escapes (`\x`, `\u` and `\U`).