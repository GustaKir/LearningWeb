Title: Python Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This chunk of the Python changelog details various bug fixes and enhancements including support for anti-registration in context managers, relaxed conditions for deprecation warnings on inline modifiers, corrections in GB18030 decoder range checking, and issues related to zipfile integrity.
---

ugs.python.org/issue?@action=redirect&bpo=30266): contextlib.AbstractContextManager now supports anti-registration by setting __enter__ = None or __exit__ = None, following the pattern introduced in [bpo-25958](https://bugs.python.org/issue?@action=redirect&bpo=25958). Patch by Jelle Zijlstra.
  * [bpo-30298](https://bugs.python.org/issue?@action=redirect&bpo=30298): Weaken the condition of deprecation warnings for inline modifiers. Now allowed several subsequential inline modifiers at the start of the pattern (e.g. `'(?i)(?s)...'`). In verbose mode whitespaces and comments now are allowed before and between inline modifiers (e.g. `'(?x) (?i) (?s)...'`).
  * [bpo-29990](https://bugs.python.org/issue?@action=redirect&bpo=29990): Fix range checking in GB18030 decoder. Original patch by Ma Lin.
  * [bpo-26293](https://bugs.python.org/issue?@action=redirect&bpo=26293): Change resulted because of zipfile breakage. (See also: [bpo-29094](https://bugs.python.org/issue?@action=redirect&bpo=29094))
  * [bpo-30243](https://bugs.python.org/issue?@action=redirect&bpo=30243): Removed the __init__ methods of _json’s scanner and encoder. Misusing them could cause memory leaks or crashes. Now scanner and encoder objects are completely initialized in the __new__ methods.
  * [bpo-30185](https://bugs.python.org/issue?@action=redirect&bpo=30185): Avoid KeyboardInterrupt tracebacks in forkserver helper process when Ctrl-C is received.
  * [bpo-28556](https://bugs.python.org/issue?@action=redirect&bpo=28556): Various updates to typing module: add typing.NoReturn type, use WrapperDescriptorType, minor bug-fixes. Original PRs by Jim Fasarakis-Hilliard and Ivan Levkivskyi.
  * [bpo-30205](https://bugs.python.org/issue?@action=redirect&bpo=30205): Fix getsockname() for unbound AF_UNIX sockets on Linux.
  * [bpo-30070](https://bugs.python.org/issue?@action=redirect&bpo=30070): Fixed leaks and crashes in errors handling in the parser module.
  * [bpo-30061](https://bugs.python.org/issue?@action=redirect&bpo=30061): Fixed crashes in IOBase methods __next__() and readlines() when readline() or __next__() respectively return non-sizeable object. Fixed possible other errors caused by not checking results of PyObject_Size(), PySequence_Size(), or PyMapping_Size().
  * [bpo-30017](https://bugs.python.org/issue?@action=redirect&bpo=30017): Allowed calling the close() method of the zip entry writer object multiple times. Writing to a closed writer now always produces a ValueError.
  * [bpo-30068](https://bugs.python.org/issue?@action=redirect&bpo=30068): _io._IOBase.readlines will check if it’s closed first when hint is present.
  * [bpo-29694](https://bugs.python.org/issue?@action=redirect&bpo=29694): Fixed race condition in pathlib mkdir with flags parents=True. Patch by Armin Rigo.
  * [bpo-29692](https://bugs.python.org/issue?@action=redirect&bpo=29692): Fixed arbitrary unchaining of RuntimeError exceptions in contextlib.contextmanager. Patch by Siddharth Velankar.
  * [bpo-29998](https://bugs.python.org/issue?@action=redirect&bpo=29998): Pickling and copying ImportError now preserves name and path attributes.
  * [bpo-29953](https://bugs.python.org/issue?@action=redirect&bpo=29953): Fixed memory leaks in the replace() method of datetime and time objects when pass out of bound fold argument.
  * [bpo-29942](https://bugs.python.org/issue?@action=redirect&bpo=29942): Fix a crash in itertools.chain.from_iterable when encountering long runs of empty iterables.
  * [bpo-27863](https://bugs.python.org/issue?@action=redirect&bpo=27863): Fixed multiple crashes in ElementTree caused by race conditions and wrong types.
  * [bpo-28699](https://bugs.python.org/issue?@action=redirect&bpo=28699): Fixed a bug in pools in multiprocessing.pool that raising an exception at the very first of an iterable may swallow the exception or make the program hang. Patch by Davin Potts and Xiang Zhang.
  * [bpo-25803](https://bugs.python.org/issue?@action=redirect&bpo=25803): Avoid incorrect errors raised by Path.mkdir(exist_ok=True) when the OS gives priority to errors such as EACCES over EEXIST.
  * [bpo-29861](https://bugs.python.org/issue?@action=redirect&bpo=29861): Release references to tasks, their arguments and their results as soon as they are finished in multiprocessing.Pool.
  * [bpo-29884](https://bugs.python.org/issue?@action=redirect&bpo=29884): faulthandler: Restore the old sigaltstack during teardown. Patch by Christophe Zeitouny.
  * [bpo-25455](https://bugs.python.org/issue?@action=redirect&bpo=25455): Fixed crashes in repr of recursive buffered file-like objects.
  * [bpo-29800](https://bugs.python.org/issue?@action=redirect&bpo=29800): Fix crashes in partial.__repr__ if the keys of partial.keywords are not strings. Patch by Michael Seifert.
  * [bpo-29742](https://bugs.python.org/issue?@action=redirect&bpo=29742): get_extra_info() raises exception if get called on closed ssl transport.