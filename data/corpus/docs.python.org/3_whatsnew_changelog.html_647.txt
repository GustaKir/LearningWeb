Title: Python 3 Library Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details various updates and fixes in the Python 3 library, including the ability to create empty enums, resolving race conditions in signal delivery, recognition of string formats in lib2to3, improvements to unittest for reference cycles, and enhancements to inspect.signature() for callables with variable arguments.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id617 "Link to this heading")
  * [bpo-30616](https://bugs.python.org/issue?@action=redirect&bpo=30616): Functional API of enum allows to create empty enums. Patched by Donghee Na
  * [bpo-30038](https://bugs.python.org/issue?@action=redirect&bpo=30038): Fix race condition between signal delivery and wakeup file descriptor. Patch by Nathaniel Smith.
  * [bpo-23894](https://bugs.python.org/issue?@action=redirect&bpo=23894): lib2to3 now recognizes `rb'...'` and `f'...'` strings.
  * [bpo-23890](https://bugs.python.org/issue?@action=redirect&bpo=23890): unittest.TestCase.assertRaises() now manually breaks a reference cycle to not keep objects alive longer than expected.
  * [bpo-30149](https://bugs.python.org/issue?@action=redirect&bpo=30149): inspect.signature() now supports callables with variable-argument parameters wrapped with partialmethod. Patch by Donghee Na.
  * [bpo-30645](https://bugs.python.org/issue?@action=redirect&bpo=30645): Fix path calculation in imp.load_package(), fixing it for cases when a package is only shipped with bytecodes. Patch by Alexandru Ardelean.
  * [bpo-29931](https://bugs.python.org/issue?@action=redirect&bpo=29931): Fixed comparison check for ipaddress.ip_interface objects. Patch by Sanjay Sundaresan.
  * [bpo-30605](https://bugs.python.org/issue?@action=redirect&bpo=30605): re.compile() no longer raises a BytesWarning when compiling a bytes instance with misplaced inline modifier. Patch by Roy Williams.
  * [bpo-24484](https://bugs.python.org/issue?@action=redirect&bpo=24484): Avoid race condition in multiprocessing cleanup (#2159)
  * [bpo-28994](https://bugs.python.org/issue?@action=redirect&bpo=28994): The traceback no longer displayed for SystemExit raised in a callback registered by atexit.
  * [bpo-30508](https://bugs.python.org/issue?@action=redirect&bpo=30508): Don’t log exceptions if Task/Future “cancel()” method was called.
  * [bpo-28556](https://bugs.python.org/issue?@action=redirect&bpo=28556): Updates to typing module: Add generic AsyncContextManager, add support for ContextManager on all versions. Original PRs by Jelle Zijlstra and Ivan Levkivskyi
  * [bpo-29870](https://bugs.python.org/issue?@action=redirect&bpo=29870): Fix ssl sockets leaks when connection is aborted in asyncio/ssl implementation. Patch by Michaël Sghaïer.
  * [bpo-29743](https://bugs.python.org/issue?@action=redirect&bpo=29743): Closing transport during handshake process leaks open socket. Patch by Nikolay Kim
  * [bpo-27585](https://bugs.python.org/issue?@action=redirect&bpo=27585): Fix waiter cancellation in asyncio.Lock. Patch by Mathieu Sornay.
  * [bpo-30418](https://bugs.python.org/issue?@action=redirect&bpo=30418): On Windows, subprocess.Popen.communicate() now also ignore EINVAL on stdin.write() if the child process is still running but closed the pipe.
  * [bpo-29822](https://bugs.python.org/issue?@action=redirect&bpo=29822): inspect.isabstract() now works during __init_subclass__. Patch by Nate Soares.
  * [bpo-29581](https://bugs.python.org/issue?@action=redirect&bpo=29581): ABCMeta.__new__ now accepts `**kwargs`, allowing abstract base classes to use keyword parameters in __init_subclass__. Patch by Nate Soares.
  * [bpo-30557](https://bugs.python.org/issue?@action=redirect&bpo=30557): faulthandler now correctly filters and displays exception codes on Windows
  * [bpo-30378](https://bugs.python.org/issue?@action=redirect&bpo=30378): Fix the problem that logging.handlers.SysLogHandler cannot handle IPv6 addresses.
  * [bpo-29960](https://bugs.python.org/issue?@action=redirect&bpo=29960): Preserve generator state when _random.Random.setstate() raises an exception. Patch by Bryan Olson.
  * [bpo-30414](https://bugs.python.org/issue?@action=redirect&bpo=30414): multiprocessing.Queue._feed background running thread do not break from main loop on exception.
  * [bpo-30003](https://bugs.python.org/issue?@action=redirect&bpo=30003): Fix handling escape characters in HZ codec. Based on patch by Ma Lin.
  * [bpo-30301](https://bugs.python.org/issue?@action=redirect&bpo=30301): Fix AttributeError when using SimpleQueue.empty() under _spawn_ and _forkserver_ start methods.
  * [bpo-30329](https://bugs.python.org/issue?@action=redirect&bpo=30329): imaplib and poplib now catch the Windows socket WSAEINVAL error (code 10022) on shutdown(SHUT_RDWR): An invalid operation was attempted. This error occurs sometimes on SSL connections.
  * [bpo-30375](https://bugs.python.org/issue?@action=redirect&bpo=30375): Warnings emitted when compile a regular expression now always point to the line in the user code. Previously they could point into inners of the re module if emitted from inside of groups or conditionals.
  * [bpo-30048](https://bugs.python.org/issue?@action=redirect&bpo=30048): Fixed `Task.cancel()` can be ignored when the task is running coroutine and the coroutine returned without any more `await`.
  * [bpo-30266](https://b