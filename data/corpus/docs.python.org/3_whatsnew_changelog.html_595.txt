Title: Python 3.7 Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details notable updates in Python 3.7, including changes to `add_subparsers`, improvements to type representation in subclasses of certain collection classes, updated exit codes for `ensurepip`, and new functionality in `pdb.set_trace()` allowing an optional header argument.
---

al subparsers, use the new parameter `add_subparsers(required=False)`. Patch by Anthony Sottile. (As of 3.7.0rc1, the default was changed to not required as had been the case since Python 3.3.)
  * [bpo-27541](https://bugs.python.org/issue?@action=redirect&bpo=27541): Reprs of subclasses of some collection and iterator classes (`bytearray`, `array.array`, `collections.deque`, `collections.defaultdict`, `itertools.count`, `itertools.repeat`) now contain actual type name instead of hardcoded names of the base class.
  * [bpo-31351](https://bugs.python.org/issue?@action=redirect&bpo=31351): python -m ensurepip now exits with non-zero exit code if pip bootstrapping has failed.
  * [bpo-31389](https://bugs.python.org/issue?@action=redirect&bpo=31389): `pdb.set_trace()` now takes an optional keyword-only argument `header`. If given, this is printed to the console just before debugging begins.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id556 "Link to this heading")
  * [bpo-31537](https://bugs.python.org/issue?@action=redirect&bpo=31537): Fix incorrect usage of `get_history_length` in readline documentation example code. Patch by Brad Smith.
  * [bpo-30085](https://bugs.python.org/issue?@action=redirect&bpo=30085): The operator functions without double underscores are preferred for clarity. The one with underscores are only kept for back-compatibility.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id557 "Link to this heading")
  * [bpo-31696](https://bugs.python.org/issue?@action=redirect&bpo=31696): Improve compiler version information in [`sys.version`](https://docs.python.org/3/library/sys.html#sys.version "sys.version") when Python is built with Clang.
  * [bpo-31625](https://bugs.python.org/issue?@action=redirect&bpo=31625): Stop using ranlib on static libraries. Instead, we assume ar supports the ‘s’ flag.
  * [bpo-31624](https://bugs.python.org/issue?@action=redirect&bpo=31624): Remove support for BSD/OS.
  * [bpo-22140](https://bugs.python.org/issue?@action=redirect&bpo=22140): Prevent double substitution of prefix in python-config.sh.
  * [bpo-31569](https://bugs.python.org/issue?@action=redirect&bpo=31569): Correct PCBuild/ case to PCbuild/ in build scripts and documentation.
  * [bpo-31536](https://bugs.python.org/issue?@action=redirect&bpo=31536): Avoid wholesale rebuild after `make regen-all` if nothing changed.


### IDLE[¶](https://docs.python.org/3/whatsnew/changelog.html#id558 "Link to this heading")
  * [bpo-31460](https://bugs.python.org/issue?@action=redirect&bpo=31460): Simplify the API of IDLE’s Module Browser. Passing a widget instead of an flist with a root widget opens the option of creating a browser frame that is only part of a window. Passing a full file name instead of pieces assumed to come from a .py file opens the possibility of browsing python files that do not end in .py.
  * [bpo-31649](https://bugs.python.org/issue?@action=redirect&bpo=31649): IDLE - Make _htest, _utest parameters keyword only.
  * [bpo-31559](https://bugs.python.org/issue?@action=redirect&bpo=31559): Remove test order dependence in idle_test.test_browser.
  * [bpo-31459](https://bugs.python.org/issue?@action=redirect&bpo=31459): Rename IDLE’s module browser from Class Browser to Module Browser. The original module-level class and method browser became a module browser, with the addition of module-level functions, years ago. Nested classes and functions were added yesterday. For back-compatibility, the virtual event <<open-class-browser>>, which appears on the Keys tab of the Settings dialog, is not changed. Patch by Cheryl Sabella.
  * [bpo-31500](https://bugs.python.org/issue?@action=redirect&bpo=31500): Default fonts now are scaled on HiDPI displays.
  * [bpo-1612262](https://bugs.python.org/issue?@action=redirect&bpo=1612262): IDLE module browser now shows nested classes and functions. Original patches for code and tests by Guilherme Polo and Cheryl Sabella, respectively.


### C API[¶](https://docs.python.org/3/whatsnew/changelog.html#id559 "Link to this heading")
  * [bpo-28280](https://bugs.python.org/issue?@action=redirect&bpo=28280): Make `PyMapping_Keys()`, `PyMapping_Values()` and `PyMapping_Items()` always return a `list` (rather than a `list` or a `tuple`). Patch by Oren Milman.
  * [bpo-31532](https://bugs.python.org/issue?@action=redirect&bpo=31532): Fix memory corruption due to allocator mix in getpath.c between Py_GetPath() and Py_SetPath()
  * [bpo-25658](https://bugs.python.org/issue?@action=redirect&bpo=25658): Implement [**PEP 539**](https://peps.python.org/pep-0539/) for Thread Specific Storage (TSS) API: it is a new Thread Local Storage (TLS) API to CPython which would supersede use of the existing TLS API within the CPython interpreter, while deprecating the existing API. PEP written by Erik M. Bray, patch by Masayuki Yamamoto.