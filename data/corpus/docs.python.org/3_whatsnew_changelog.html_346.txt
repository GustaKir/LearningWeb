Title: macOS Changes in Python Release
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines updates for macOS, including the adoption of OpenSSL 1.1.1l and SQLite 3.36.0 in installer builds, enhancements for building CPython with undefined behavior sanitizer and debug options, and improvements to `ctypes.util.find_library()` functionality on macOS 11 Big Sur.
---

### macOS[¶](https://docs.python.org/3/whatsnew/changelog.html#id285 "Link to this heading")
  * [bpo-45007](https://bugs.python.org/issue?@action=redirect&bpo=45007): Update macOS installer builds to use OpenSSL 1.1.1l.
  * [bpo-34602](https://bugs.python.org/issue?@action=redirect&bpo=34602): When building CPython on macOS with `./configure --with-undefined-behavior-sanitizer --with-pydebug`, the stack size is now quadrupled to allow for the entire test suite to pass.
  * [bpo-44848](https://bugs.python.org/issue?@action=redirect&bpo=44848): Update macOS installer to use SQLite 3.36.0.
  * [bpo-44689](https://bugs.python.org/issue?@action=redirect&bpo=44689): [`ctypes.util.find_library()`](https://docs.python.org/3/library/ctypes.html#ctypes.util.find_library "ctypes.util.find_library") now works correctly on macOS 11 Big Sur even if Python is built on an older version of macOS. Previously, when built on older macOS systems, `find_library` was not able to find macOS system libraries when running on Big Sur due to changes in how system libraries are stored.
  * [bpo-41972](https://bugs.python.org/issue?@action=redirect&bpo=41972): The framework build’s user header path in sysconfig is changed to add a ‘pythonX.Y’ component to match distutils’s behavior.
  * [bpo-43109](https://bugs.python.org/issue?@action=redirect&bpo=43109): Allow –with-lto configure option to work with Apple-supplied Xcode or Command Line Tools.
  * [bpo-34932](https://bugs.python.org/issue?@action=redirect&bpo=34932): Add socket.TCP_KEEPALIVE support for macOS. Patch by Shane Harvey.


### IDLE[¶](https://docs.python.org/3/whatsnew/changelog.html#id286 "Link to this heading")
  * [bpo-45296](https://bugs.python.org/issue?@action=redirect&bpo=45296): On Windows, change exit/quit message to suggest Ctrl-D, which works, instead of <Ctrl-Z Return>, which does not work in IDLE.
  * [bpo-45193](https://bugs.python.org/issue?@action=redirect&bpo=45193): Make completion boxes appear on Ubuntu again.
  * [bpo-40128](https://bugs.python.org/issue?@action=redirect&bpo=40128): Mostly fix completions on macOS when not using tcl/tk 8.6.11 (as with 3.9). The added update_idletask call should be harmless and possibly helpful otherwise.
  * [bpo-33962](https://bugs.python.org/issue?@action=redirect&bpo=33962): Move the indent space setting from the Font tab to the new Windows tab. Patch by Mark Roseman and Terry Jan Reedy.
  * [bpo-40468](https://bugs.python.org/issue?@action=redirect&bpo=40468): Split the settings dialog General tab into Windows and Shell/ED tabs. Move help sources, which extend the Help menu, to the Extensions tab. Make space for new options and shorten the dialog. The latter makes the dialog better fit small screens.
  * [bpo-41611](https://bugs.python.org/issue?@action=redirect&bpo=41611): Avoid uncaught exceptions in `AutoCompleteWindow.winconfig_event()`.
  * [bpo-41611](https://bugs.python.org/issue?@action=redirect&bpo=41611): Fix IDLE sometimes freezing upon tab-completion on macOS.
  * [bpo-44010](https://bugs.python.org/issue?@action=redirect&bpo=44010): Highlight the new [match](https://docs.python.org/3/reference/compound_stmts.html#match) statement’s [soft keywords](https://docs.python.org/3/reference/lexical_analysis.html#soft-keywords): [`match`](https://docs.python.org/3/reference/compound_stmts.html#match), [`case`](https://docs.python.org/3/reference/compound_stmts.html#match), and [`_`](https://docs.python.org/3/reference/compound_stmts.html#wildcard-patterns). However, this highlighting is not perfect and will be incorrect in some rare cases, including some `_`-s in `case` patterns.
  * [bpo-44026](https://bugs.python.org/issue?@action=redirect&bpo=44026): Include interpreter’s typo fix suggestions in message line for NameErrors and AttributeErrors. Patch by E. Paine.


### Tools/Demos[¶](https://docs.python.org/3/whatsnew/changelog.html#id287 "Link to this heading")
  * [bpo-44786](https://bugs.python.org/issue?@action=redirect&bpo=44786): Fix a warning in regular expression in the c-analyzer script.
  * [bpo-44967](https://bugs.python.org/issue?@action=redirect&bpo=44967): pydoc now returns a non-zero status code when a module cannot be found.
  * [bpo-44978](https://bugs.python.org/issue?@action=redirect&bpo=44978): Allow the Argument Clinic tool to handle `__complex__` special methods.
  * [bpo-43425](https://bugs.python.org/issue?@action=redirect&bpo=43425): Removed the ‘test2to3’ demo project that demonstrated using lib2to3 to support Python 2.x and Python 3.x from a single source in a distutils package. Patch by Donghee Na
  * [bpo-44074](https://bugs.python.org/issue?@action=redirect&bpo=44074): Make patchcheck automatically detect the correct base branch name (previously it was hardcoded to ‘master’)
  * [bpo-20291](https://bugs.python.org/issue?@action=redirect&bpo=20291): Added support for variadic positional parameters in Argument Clinic.