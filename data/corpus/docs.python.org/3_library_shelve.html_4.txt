Title: Shelve Module Overview
URL: https://docs.python.org/3/library/shelve.html
Summary: The shelve module allows you to persistently store Python objects in a dictionary-like format. You can open a shelve, store data at specific keys, retrieve data, delete keys, and check for key existence. It is important to note that without writeback=True, changes to mutable objects like lists need to be handled explicitly to ensure they save correctly.
---

```
importshelve
d = shelve.open(filename) # open -- file may get suffix added by low-level
              # library
d[key] = data       # store data at key (overwrites old data if
              # using an existing key)
data = d[key]       # retrieve a COPY of data at key (raise KeyError
              # if no such key)
del d[key]         # delete data stored at key (raises KeyError
              # if no such key)
flag = key in d      # true if the key exists
klist = list(d.keys())   # a list of all existing keys (slow!)
# as d was opened WITHOUT writeback=True, beware:
d['xx'] = [0, 1, 2]    # this works as expected, but...
d['xx'].append(3)     # *this doesn't!* -- d['xx'] is STILL [0, 1, 2]!
# having opened d without writeback=True, you need to code carefully:
temp = d['xx']       # extracts the copy
temp.append(5)       # mutates the copy
d['xx'] = temp       # stores the copy right back, to persist it
# or, d=shelve.open(filename,writeback=True) would let you just code
# d['xx'].append(5) and have it work as expected, BUT it would also
# consume more memory and make the d.close() operation slower.
d.close()         # close it

```

See also 

Module [`dbm`](https://docs.python.org/3/library/dbm.html#module-dbm "dbm: Interfaces to various Unix "database" formats.")
    
Generic interface to `dbm`-style databases. 

Module [`pickle`](https://docs.python.org/3/library/pickle.html#module-pickle "pickle: Convert Python objects to streams of bytes and back.")
    
Object serialization used by [`shelve`](https://docs.python.org/3/library/shelve.html#module-shelve "shelve: Python object persistence.").
### [Table of Contents](https://docs.python.org/3/contents.html)
  * [`shelve` — Python object persistence](https://docs.python.org/3/library/shelve.html)
    * [Restrictions](https://docs.python.org/3/library/shelve.html#restrictions)
    * [Example](https://docs.python.org/3/library/shelve.html#example)


#### Previous topic
[`copyreg` — Register `pickle` support functions](https://docs.python.org/3/library/copyreg.html "previous chapter")
#### Next topic
[`marshal` — Internal Python object serialization](https://docs.python.org/3/library/marshal.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/shelve.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/marshal.html "marshal — Internal Python object serialization") |
  * [previous](https://docs.python.org/3/library/copyreg.html "copyreg — Register pickle support functions") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Data Persistence](https://docs.python.org/3/library/persistence.html) »
  * [`shelve` — Python object persistence](https://docs.python.org/3/library/shelve.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3.