Title: Python 3 Change Log Update
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section summarizes updates related to type annotations and library enhancements. It notes that `__annotations__` now contains string values by default and highlights specific library changes like the implementation of `thread_time()` on Solaris and updates to the `repr()` function for typing types.
---

ations` ([**PEP 563**](https://peps.python.org/pep-0563/)) by default. The values found in `__annotations__` dicts are now strings, for example `{"x": "int"}` instead of `{"x": int}`.


### Library[Â¶](https://docs.python.org/3/whatsnew/changelog.html#id349 "Link to this heading")
  * [bpo-35455](https://bugs.python.org/issue?@action=redirect&bpo=35455): On Solaris, [`thread_time()`](https://docs.python.org/3/library/time.html#time.thread_time "time.thread_time") is now implemented with `gethrvtime()` because `clock_gettime(CLOCK_THREAD_CPUTIME_ID)` is not always available. Patch by Jakub Kulik.
  * [bpo-42233](https://bugs.python.org/issue?@action=redirect&bpo=42233): The [`repr()`](https://docs.python.org/3/library/functions.html#repr "repr") of [`typing`](https://docs.python.org/3/library/typing.html#module-typing "typing: Support for type hints \(see :pep:`484`\).") types containing [Generic Alias Types](https://docs.python.org/3/library/stdtypes.html#types-genericalias) previously did not show the parameterized types in the `GenericAlias`. They have now been changed to do so.
  * [bpo-29566](https://bugs.python.org/issue?@action=redirect&bpo=29566): `binhex.binhex()` consistently writes macOS 9 line endings.
  * [bpo-26789](https://bugs.python.org/issue?@action=redirect&bpo=26789): The [`logging.FileHandler`](https://docs.python.org/3/library/logging.handlers.html#logging.FileHandler "logging.FileHandler") class now keeps a reference to the builtin [`open()`](https://docs.python.org/3/library/functions.html#open "open") function to be able to open or reopen the file during Python finalization. Fix errors like: `NameError: name 'open' is not defined`. Patch by Victor Stinner.
  * [bpo-42157](https://bugs.python.org/issue?@action=redirect&bpo=42157): Removed the `unicodedata.ucnhash_CAPI` attribute which was an internal PyCapsule object. The related private `_PyUnicode_Name_CAPI` structure was moved to the internal C API. Patch by Victor Stinner.
  * [bpo-42157](https://bugs.python.org/issue?@action=redirect&bpo=42157): Convert the [`unicodedata`](https://docs.python.org/3/library/unicodedata.html#module-unicodedata "unicodedata: Access the Unicode Database.") extension module to the multiphase initialization API ([**PEP 489**](https://peps.python.org/pep-0489/)) and convert the `unicodedata.UCD` static type to a heap type. Patch by Mohamed Koubaa and Victor Stinner.
  * [bpo-42146](https://bugs.python.org/issue?@action=redirect&bpo=42146): Fix memory leak in [`subprocess.Popen()`](https://docs.python.org/3/library/subprocess.html#subprocess.Popen "subprocess.Popen") in case an uid (gid) specified in `user` (`group`, `extra_groups`) overflows `uid_t` (`gid_t`).
  * [bpo-42103](https://bugs.python.org/issue?@action=redirect&bpo=42103): [`InvalidFileException`](https://docs.python.org/3/library/plistlib.html#plistlib.InvalidFileException "plistlib.InvalidFileException") and [`RecursionError`](https://docs.python.org/3/library/exceptions.html#RecursionError "RecursionError") are now the only errors caused by loading malformed binary Plist file (previously ValueError and TypeError could be raised in some specific cases).
  * [bpo-41490](https://bugs.python.org/issue?@action=redirect&bpo=41490): In `importlib.resources`, `.path` method is more aggressive about releasing handles to zipfile objects early, enabling use-cases like certifi to leave the context open but delete the underlying zip file.
  * [bpo-41052](https://bugs.python.org/issue?@action=redirect&bpo=41052): Pickling heap types implemented in C with protocols 0 and 1 raises now an error instead of producing incorrect data.
  * [bpo-42089](https://bugs.python.org/issue?@action=redirect&bpo=42089): In `importlib.metadata.PackageNotFoundError`, make reference to the package metadata being missing to improve the user experience.
  * [bpo-41491](https://bugs.python.org/issue?@action=redirect&bpo=41491): plistlib: fix parsing XML plists with hexadecimal integer values
  * [bpo-42065](https://bugs.python.org/issue?@action=redirect&bpo=42065): Fix an incorrectly formatted error from `_codecs.charmap_decode()` when called with a mapped value outside the range of valid Unicode code points. PR by Max Bernstein.
  * [bpo-41966](https://bugs.python.org/issue?@action=redirect&bpo=41966): Fix pickling pure Python [`datetime.time`](https://docs.python.org/3/library/datetime.html#datetime.time "datetime.time") subclasses. Patch by Dean Inwood.
  * [bpo-19270](https://bugs.python.org/issue?@action=redirect&bpo=19270): [`sched.scheduler.cancel()`](https://docs.python.org/3/library/sched.html#sched.scheduler.cancel "sched.scheduler.cancel") will now cancel the correct event, if two events with same priority are scheduled for the same time. Patch by Bar Harel.
  * [bpo-28660](https://bugs.python.org/issue?@action=redirect&bpo=28660): [`textwrap.wrap()`](https://docs.python.org/3/library/textwrap.html#textwrap.wrap "textwrap.wrap") now attempts to break long words after