Title: Email Content Structure with Iterators
URL: https://docs.python.org/3/library/email.iterators.html
Summary: This section demonstrates how to use the `email.message_from_file` function to create a message object from a file and illustrates the structure of an email message, which can be multipart or single part, displaying the content types and their hierarchy. It also mentions optional parameters for output customization.
---

```
>>> msg = email.message_from_file(somefile)
>>> _structure(msg)
multipart/mixed
  text/plain
  text/plain
  multipart/digest
    message/rfc822
      text/plain
    message/rfc822
      text/plain
    message/rfc822
      text/plain
    message/rfc822
      text/plain
    message/rfc822
      text/plain
  text/plain

```

Optional _fp_ is a file-like object to print the output to. It must be suitable for Python’s [`print()`](https://docs.python.org/3/library/functions.html#print "print") function. _level_ is used internally. _include_default_ , if true, prints the default type as well.
#### Previous topic
[`email.utils`: Miscellaneous utilities](https://docs.python.org/3/library/email.utils.html "previous chapter")
#### Next topic
[`json` — JSON encoder and decoder](https://docs.python.org/3/library/json.html "next chapter")
### This Page
  * [Report a Bug](https://docs.python.org/3/bugs.html)
  * [Show Source ](https://github.com/python/cpython/blob/main/Doc/library/email.iterators.rst)


«
### Navigation
  * [index](https://docs.python.org/3/genindex.html "General Index")
  * [modules](https://docs.python.org/3/py-modindex.html "Python Module Index") |
  * [next](https://docs.python.org/3/library/json.html "json — JSON encoder and decoder") |
  * [previous](https://docs.python.org/3/library/email.utils.html "email.utils: Miscellaneous utilities") |
  * ![Python logo](https://docs.python.org/3/_static/py.svg)
  * [Python](https://www.python.org/) »
  * EnglishSpanish | españolFrench | françaisItalian | italianoJapanese | 日本語Korean | 한국어Polish | polskiBrazilian Portuguese | Português brasileiroTurkish | TürkçeSimplified Chinese | 简体中文Traditional Chinese | 繁體中文
dev (3.14)3.13.33.123.113.103.93.83.73.63.53.43.33.23.13.02.72.6
  * [3.13.3 Documentation](https://docs.python.org/3/index.html) » 
  * [The Python Standard Library](https://docs.python.org/3/library/index.html) »
  * [Internet Data Handling](https://docs.python.org/3/library/netdata.html) »
  * [`email` — An email and MIME handling package](https://docs.python.org/3/library/email.html) »
  * [`email.iterators`: Iterators](https://docs.python.org/3/library/email.iterators.html)
  * | 
  * Theme  Auto Light Dark |


© [ Copyright ](https://docs.python.org/3/copyright.html) 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See [History and License](https://docs.python.org/license.html) for more information. The Python Software Foundation is a non-profit corporation. [Please donate.](https://www.python.org/psf/donations/) Last updated on Apr 27, 2025 (05:38 UTC). [Found a bug](https://docs.python.org/bugs.html)? Created using [Sphinx](https://www.sphinx-doc.org/) 8.2.3.