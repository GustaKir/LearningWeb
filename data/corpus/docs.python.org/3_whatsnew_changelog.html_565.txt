Title: Python ChangeLog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This chunk highlights key optimizations and improvements in Python, including performance enhancements to asyncio, the addition of an 'errors' parameter in cgi.parse_multipart, changes to dataclasses representation, and fixes for compatibility with string type annotations.
---

&bpo=33505): Optimize asyncio.ensure_future() by reordering if checks: 1.17x faster.
  * [bpo-33497](https://bugs.python.org/issue?@action=redirect&bpo=33497): Add errors param to cgi.parse_multipart and make an encoding in FieldStorage use the given errors (needed for Twisted). Patch by Amber Brown.
  * [bpo-33495](https://bugs.python.org/issue?@action=redirect&bpo=33495): Change dataclasses.Fields repr to use the repr of each of its members, instead of str. This makes it more clear what each field actually represents. This is especially true for the ‘type’ member.
  * [bpo-33453](https://bugs.python.org/issue?@action=redirect&bpo=33453): Fix dataclasses to work if using literal string type annotations or if using PEP 563 “Postponed Evaluation of Annotations”. Only specific string prefixes are detected for both ClassVar (“ClassVar” and “typing.ClassVar”) and InitVar (“InitVar” and “dataclasses.InitVar”).
  * [bpo-28556](https://bugs.python.org/issue?@action=redirect&bpo=28556): Minor fixes in typing module: add annotations to `NamedTuple.__new__`, pass `*args` and `**kwds` in `Generic.__new__`. Original PRs by Paulius Šarka and Chad Dombrova.
  * [bpo-20087](https://bugs.python.org/issue?@action=redirect&bpo=20087): Updated alias mapping with glibc 2.27 supported locales.
  * [bpo-33422](https://bugs.python.org/issue?@action=redirect&bpo=33422): Fix trailing quotation marks getting deleted when looking up byte/string literals on pydoc. Patch by Andrés Delfino.
  * [bpo-28167](https://bugs.python.org/issue?@action=redirect&bpo=28167): The function `platform.linux_distribution` and `platform.dist` now trigger a `DeprecationWarning` and have been marked for removal in Python 3.8
  * [bpo-33197](https://bugs.python.org/issue?@action=redirect&bpo=33197): Update error message when constructing invalid inspect.Parameters Patch by Donghee Na.
  * [bpo-33263](https://bugs.python.org/issue?@action=redirect&bpo=33263): Fix FD leak in `_SelectorSocketTransport` Patch by Vlad Starostin.
  * [bpo-32861](https://bugs.python.org/issue?@action=redirect&bpo=32861): The urllib.robotparser’s `__str__` representation now includes wildcard entries and the “Crawl-delay” and “Request-rate” fields. Patch by Michael Lazar.
  * [bpo-32257](https://bugs.python.org/issue?@action=redirect&bpo=32257): The ssl module now contains OP_NO_RENEGOTIATION constant, available with OpenSSL 1.1.0h or 1.1.1.
  * [bpo-16865](https://bugs.python.org/issue?@action=redirect&bpo=16865): Support arrays >=2GiB in [`ctypes`](https://docs.python.org/3/library/ctypes.html#module-ctypes "ctypes: A foreign function library for Python."). Patch by Segev Finer.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id494 "Link to this heading")
  * [bpo-23859](https://bugs.python.org/issue?@action=redirect&bpo=23859): Document that `asyncio.wait()` does not cancel its futures on timeout.
  * [bpo-32436](https://bugs.python.org/issue?@action=redirect&bpo=32436): Document [**PEP 567**](https://peps.python.org/pep-0567/) changes to asyncio.
  * [bpo-33604](https://bugs.python.org/issue?@action=redirect&bpo=33604): Update HMAC md5 default to a DeprecationWarning, bump removal to 3.8.
  * [bpo-33503](https://bugs.python.org/issue?@action=redirect&bpo=33503): Fix broken pypi link
  * [bpo-33421](https://bugs.python.org/issue?@action=redirect&bpo=33421): Add missing documentation for `typing.AsyncContextManager`.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id495 "Link to this heading")
  * [bpo-33655](https://bugs.python.org/issue?@action=redirect&bpo=33655): Ignore test_posix_fallocate failures on BSD platforms that might be due to running on ZFS.
  * [bpo-32604](https://bugs.python.org/issue?@action=redirect&bpo=32604): Remove the _xxsubinterpreters module (meant for testing) and associated helpers. This module was originally added recently in 3.7b1.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id496 "Link to this heading")
  * [bpo-33614](https://bugs.python.org/issue?@action=redirect&bpo=33614): Ensures module definition files for the stable ABI on Windows are correctly regenerated.
  * [bpo-33522](https://bugs.python.org/issue?@action=redirect&bpo=33522): Enable CI builds on Visual Studio Team Services at <https://python.visualstudio.com/cpython>
  * [bpo-33012](https://bugs.python.org/issue?@action=redirect&bpo=33012): Add `-Wno-cast-function-type` for gcc 8 for silencing warnings about function casts like casting to PyCFunction in method definition lists.


### macOS[¶](https://docs.python.org/3/whatsnew/changelog.html#id497 "Link to this heading")
  * [bpo-13631](https://bugs.python.org/issue?@action=redirect&bpo=13631): The .editrc file in user’s home directory is now processed correctly during the readline initialization through editline emulation on macOS.