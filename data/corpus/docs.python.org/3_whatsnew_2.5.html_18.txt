Title: Enhancements to the locale Module in Python 2.5
URL: https://docs.python.org/3/whatsnew/2.5.html
Summary: The locale module's format() function has been modified to require exactly one %char specifier, and a new optional monetary parameter has been added for currency formatting. Additionally, two new functions, format_string() and currency(), have been introduced to enhance string formatting capabilities.
---

```

(Contributed by Raymond Hettinger.)
  * The [`format()`](https://docs.python.org/3/library/functions.html#format "format") function in the [`locale`](https://docs.python.org/3/library/locale.html#module-locale "locale: Internationalization services.") module has been modified and two new functions were added, `format_string()` and `currency()`.
The [`format()`](https://docs.python.org/3/library/functions.html#format "format") function’s _val_ parameter could previously be a string as long as no more than one %char specifier appeared; now the parameter must be exactly one %char specifier with no surrounding text. An optional _monetary_ parameter was also added which, if `True`, will use the locale’s rules for formatting currency in placing a separator between groups of three digits.
To format strings with multiple %char specifiers, use the new `format_string()` function that works like [`format()`](https://docs.python.org/3/library/functions.html#format "format") but also supports mixing %char specifiers with arbitrary text.
A new `currency()` function was also added that formats a number according to the current locale’s settings.
(Contributed by Georg Brandl.)
  * The [`mailbox`](https://docs.python.org/3/library/mailbox.html#module-mailbox "mailbox: Manipulate mailboxes in various formats") module underwent a massive rewrite to add the capability to modify mailboxes in addition to reading them. A new set of classes that include `mbox`, `MH`, and `Maildir` are used to read mailboxes, and have an `add(message)` method to add messages, `remove(key)` to remove messages, and `lock()`/`unlock()` to lock/unlock the mailbox. The following example converts a maildir-format mailbox into an mbox-format one:
```
importmailbox
# 'factory=None' uses email.Message.Message as the class representing
# individual messages.
src = mailbox.Maildir('maildir', factory=None)
dest = mailbox.mbox('/tmp/mbox')
for msg in src:
  dest.add(msg)