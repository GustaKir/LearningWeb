Title: Python 3.12 Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines notable bug fixes and updates in Python 3.12 including a fix for class inheritance causing segmentation faults, the addition of the PYTHON_HISTORY environment variable to specify .python_history file location, and an update to mailbox.Maildir to ignore dot-prefixed files.
---

Hemsley.
  * [bpo-18060](https://bugs.python.org/issue?@action=redirect&bpo=18060): Fixed a class inheritance issue that can cause segfaults when deriving two or more levels of subclasses from a base class of Structure or Union.
  * [bpo-29779](https://bugs.python.org/issue?@action=redirect&bpo=29779): Add a new [`PYTHON_HISTORY`](https://docs.python.org/3/using/cmdline.html#envvar-PYTHON_HISTORY) environment variable to set the location of a `.python_history` file.
  * [bpo-21360](https://bugs.python.org/issue?@action=redirect&bpo=21360): [`mailbox.Maildir`](https://docs.python.org/3/library/mailbox.html#mailbox.Maildir "mailbox.Maildir") now ignores files with a leading dot.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id114 "Link to this heading")
  * [gh-111699](https://github.com/python/cpython/issues/111699): Relocate `smtpd` deprecation notice to its own section rather than under `locale` in What’s New in Python 3.12 document
  * [gh-110746](https://github.com/python/cpython/issues/110746): Improved markup for valid options/values for methods ttk.treeview.column and ttk.treeview.heading, and for Layouts.
  * [gh-95649](https://github.com/python/cpython/issues/95649): Document that the [`asyncio`](https://docs.python.org/3/library/asyncio.html#module-asyncio "asyncio: Asynchronous I/O.") module contains code taken from [v0.16.0 of the uvloop project](https://github.com/MagicStack/uvloop/tree/v0.16.0), as well as the required MIT licensing information.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id115 "Link to this heading")
  * [gh-111798](https://github.com/python/cpython/issues/111798): Disable `test_super_deep()` from `test_call` under pydebug builds on WASI; the stack depth is too small to make the test useful.
  * [gh-111801](https://github.com/python/cpython/issues/111801): Lower the recursion limit in `test_isinstance` for `test_infinitely_many_bases()`. This prevents a stack overflow on a pydebug build of WASI.
  * [gh-111802](https://github.com/python/cpython/issues/111802): Specify a low recursion depth for `test_bad_getattr()` in `test.pickletester` to avoid exhausting the stack under a pydebug build for WASI.
  * [gh-44626](https://github.com/python/cpython/issues/44626): Fix [`os.path.isabs()`](https://docs.python.org/3/library/os.path.html#os.path.isabs "os.path.isabs") incorrectly returning `True` when given a path that starts with exactly one (back)slash on Windows.
Fix `pathlib.PureWindowsPath.is_absolute()` incorrectly returning `False` for some paths beginning with two (back)slashes.
  * [gh-113633](https://github.com/python/cpython/issues/113633): Use module state for the _testcapi extension module.
  * [gh-109980](https://github.com/python/cpython/issues/109980): Fix `test_tarfile_vs_tar` in `test_shutil` for macOS, where system tar can include more information in the archive than [`shutil.make_archive`](https://docs.python.org/3/library/shutil.html#shutil.make_archive "shutil.make_archive").
  * [gh-112769](https://github.com/python/cpython/issues/112769): The tests now correctly compare zlib version when [`zlib.ZLIB_RUNTIME_VERSION`](https://docs.python.org/3/library/zlib.html#zlib.ZLIB_RUNTIME_VERSION "zlib.ZLIB_RUNTIME_VERSION") contains non-integer suffixes. For example zlib-ng defines the version as `1.3.0.zlib-ng`.
  * [gh-112334](https://github.com/python/cpython/issues/112334): Adds a regression test to verify that `vfork()` is used when expected by [`subprocess`](https://docs.python.org/3/library/subprocess.html#module-subprocess "subprocess: Subprocess management.") on vfork enabled POSIX systems (Linux).
  * [gh-108927](https://github.com/python/cpython/issues/108927): Fixed order dependence in running tests in the same process when a test that has submodules (e.g. test_importlib) follows a test that imports its submodule (e.g. test_importlib.util) and precedes a test (e.g. test_unittest or test_compileall) that uses that submodule.
  * [bpo-40648](https://bugs.python.org/issue?@action=redirect&bpo=40648): Test modes that file can get with chmod() on Windows.