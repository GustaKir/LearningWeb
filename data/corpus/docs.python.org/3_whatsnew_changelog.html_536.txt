Title: Recent Bug Fixes in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines several bug fixes addressed in Python, including memory leak issues in bz2 and lzma, consistency in select.epoll() documentation, a fix in asyncio's ProactorSocketTransport, and adjustments in handling content length in headers.
---

(Contributed by Giampaolo Rodola’ in [bpo-33695](https://bugs.python.org/issue?@action=redirect&bpo=33695).)
  * [bpo-33916](https://bugs.python.org/issue?@action=redirect&bpo=33916): bz2 and lzma: When Decompressor.__init__() is called twice, free the old lock to not leak memory.
  * [bpo-32568](https://bugs.python.org/issue?@action=redirect&bpo=32568): Make select.epoll() and its documentation consistent regarding _sizehint_ and _flags_.
  * [bpo-33833](https://bugs.python.org/issue?@action=redirect&bpo=33833): Fixed bug in asyncio where ProactorSocketTransport logs AssertionError if force closed during write.
  * [bpo-33663](https://bugs.python.org/issue?@action=redirect&bpo=33663): Convert content length to string before putting to header.
  * [bpo-33721](https://bugs.python.org/issue?@action=redirect&bpo=33721): [`os.path`](https://docs.python.org/3/library/os.path.html#module-os.path "os.path: Operations on pathnames.") functions that return a boolean result like [`exists()`](https://docs.python.org/3/library/os.path.html#os.path.exists "os.path.exists"), [`lexists()`](https://docs.python.org/3/library/os.path.html#os.path.lexists "os.path.lexists"), [`isdir()`](https://docs.python.org/3/library/os.path.html#os.path.isdir "os.path.isdir"), [`isfile()`](https://docs.python.org/3/library/os.path.html#os.path.isfile "os.path.isfile"), [`islink()`](https://docs.python.org/3/library/os.path.html#os.path.islink "os.path.islink"), and [`ismount()`](https://docs.python.org/3/library/os.path.html#os.path.ismount "os.path.ismount"), and [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html#pathlib.Path "pathlib.Path") methods that return a boolean result like [`exists()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.exists "pathlib.Path.exists"), [`is_dir()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_dir "pathlib.Path.is_dir"), [`is_file()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_file "pathlib.Path.is_file"), [`is_mount()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_mount "pathlib.Path.is_mount"), [`is_symlink()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_symlink "pathlib.Path.is_symlink"), [`is_block_device()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_block_device "pathlib.Path.is_block_device"), [`is_char_device()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_char_device "pathlib.Path.is_char_device"), [`is_fifo()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_fifo "pathlib.Path.is_fifo"), [`is_socket()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_socket "pathlib.Path.is_socket") now return `False` instead of raising [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "ValueError") or its subclasses [`UnicodeEncodeError`](https://docs.python.org/3/library/exceptions.html#UnicodeEncodeError "UnicodeEncodeError") and [`UnicodeDecodeError`](https://docs.python.org/3/library/exceptions.html#UnicodeDecodeError "UnicodeDecodeError") for paths that contain characters or bytes unrepresentable at the OS level.
  * [bpo-26544](https://bugs.python.org/issue?@action=redirect&bpo=26544): Fixed implementation of [`platform.libc_ver()`](https://docs.python.org/3/library/platform.html#platform.libc_ver "platform.libc_ver"). It almost always returned version ‘2.9’ for glibc.
  * [bpo-33843](https://bugs.python.org/issue?@action=redirect&bpo=33843): Remove deprecated `cgi.escape`, `cgi.parse_qs` and `cgi.parse_qsl`.
  * [bpo-33842](https://bugs.python.org/issue?@action=redirect&bpo=33842): Remove `tarfile.filemode` which is deprecated since Python 3.3.
  * [bpo-30167](https://bugs.python.org/issue?@action=redirect&bpo=30167): Prevent site.main() exception if PYTHONSTARTUP is set. Patch by Steve Weber.
  * [bpo-33805](https://bugs.python.org/issue?@action=redirect&bpo=33805): Improve error message of dataclasses.replace() when an InitVar is not specified
  * [bpo-33687](https://bugs.python.org/issue?@action=redirect&bpo=33687): Fix the call to `os.chmod()` for `uu.decode()` if a mode is given or decoded.