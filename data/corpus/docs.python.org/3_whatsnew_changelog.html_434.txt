Title: Python 3.5 Regression Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document details fixes for regressions introduced in Python 3.5, including the support of the merge operator for `types.MappingProxyType`, changes to the `importlib` module regarding the `PYTHONCASEOK` environment variable, and the removal of `tempfile.SpooledTemporaryFile.softspace()`.
---

This fixes a regression introduced with Python 3.5.
  * [bpo-36144](https://bugs.python.org/issue?@action=redirect&bpo=36144): [`types.MappingProxyType`](https://docs.python.org/3/library/types.html#types.MappingProxyType "types.MappingProxyType") objects now support the merge (`|`) operator from [**PEP 584**](https://peps.python.org/pep-0584/).
  * [bpo-38691](https://bugs.python.org/issue?@action=redirect&bpo=38691): The [`importlib`](https://docs.python.org/3/library/importlib.html#module-importlib "importlib: The implementation of the import machinery.") module now ignores the [`PYTHONCASEOK`](https://docs.python.org/3/using/cmdline.html#envvar-PYTHONCASEOK) environment variable when the [`-E`](https://docs.python.org/3/using/cmdline.html#cmdoption-E) or [`-I`](https://docs.python.org/3/using/cmdline.html#cmdoption-I) command line options are being used.
  * [bpo-39719](https://bugs.python.org/issue?@action=redirect&bpo=39719): Remove `tempfile.SpooledTemporaryFile.softspace()` as files no longer have the `softspace` attribute in Python 3. Patch by Shantanu.
  * [bpo-39667](https://bugs.python.org/issue?@action=redirect&bpo=39667): Improve pathlib.Path compatibility on zipfile.Path and correct performance degradation as found in zipp 3.0.
  * [bpo-39638](https://bugs.python.org/issue?@action=redirect&bpo=39638): Keep ASDL signatures in the docstrings for `AST` nodes. Patch by Batuhan Taskaya
  * [bpo-39639](https://bugs.python.org/issue?@action=redirect&bpo=39639): Deprecated `ast.Suite` node class because it’s no longer used. Patch by Batuhan Taskaya.
  * [bpo-39609](https://bugs.python.org/issue?@action=redirect&bpo=39609): Add thread_name_prefix to default asyncio executor
  * [bpo-39548](https://bugs.python.org/issue?@action=redirect&bpo=39548): Fix handling of header in [`urllib.request.AbstractDigestAuthHandler`](https://docs.python.org/3/library/urllib.request.html#urllib.request.AbstractDigestAuthHandler "urllib.request.AbstractDigestAuthHandler") when the optional `qop` parameter is not present.
  * [bpo-39509](https://bugs.python.org/issue?@action=redirect&bpo=39509): HTTP status codes `103 EARLY_HINTS` and `425 TOO_EARLY` are added to [`http.HTTPStatus`](https://docs.python.org/3/library/http.html#http.HTTPStatus "http.HTTPStatus"). Patch by Donghee Na.
  * [bpo-39507](https://bugs.python.org/issue?@action=redirect&bpo=39507): Adding HTTP status 418 “I’m a Teapot” to HTTPStatus in http library. Patch by Ross Rhodes.
  * [bpo-39495](https://bugs.python.org/issue?@action=redirect&bpo=39495): Remove default value from _attrs_ parameter of [`xml.etree.ElementTree.TreeBuilder.start()`](https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.TreeBuilder.start "xml.etree.ElementTree.TreeBuilder.start") for consistency between Python and C implementations.
  * [bpo-38971](https://bugs.python.org/issue?@action=redirect&bpo=38971): Open issue in the BPO indicated a desire to make the implementation of codecs.open() at parity with io.open(), which implements a try/except to assure file stream gets closed before an exception is raised.
  * [bpo-38641](https://bugs.python.org/issue?@action=redirect&bpo=38641): Added starred expressions support to `return` and `yield` statements for `lib2to3`. Patch by Vlad Emelianov.
  * [bpo-37534](https://bugs.python.org/issue?@action=redirect&bpo=37534): When using minidom module to generate XML documents the ability to add Standalone Document Declaration is added. All the changes are made to generate a document in compliance with Extensible Markup Language (XML) 1.0 (Fifth Edition) W3C Recommendation (available here: <https://www.w3.org/TR/xml/#sec-prolog-dtd>).
  * [bpo-34788](https://bugs.python.org/issue?@action=redirect&bpo=34788): Add support for scoped IPv6 addresses to [`ipaddress`](https://docs.python.org/3/library/ipaddress.html#module-ipaddress "ipaddress: IPv4/IPv6 manipulation library."). Patch by Oleksandr Pavliuk.
  * [bpo-34822](https://bugs.python.org/issue?@action=redirect&bpo=34822): Simplified AST for subscription. Simple indices are now represented by their value, extended slices are represented as tuples. [`ast`](https://docs.python.org/3/library/ast.html#module-ast "ast: Abstract Syntax Tree classes and manipulation.") classes `Index` and `ExtSlice` are considered deprecated and will be removed in future Python versions. In the meantime, `Index(value)` now returns a `value` itself, `ExtSlice(slices)` returns `Tuple(slices, Load())`.