Title: C API Changes and Fixes in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section highlights crucial fixes in the Python C API, including resolving a crash in PyGILState_Ensure() related to threading, addressing memory corruption issues in path management, and the removal of the PyExc_RecursionErrorInst singleton to prevent potential segfaults during interpreter finalization.
---

### C API[¶](https://docs.python.org/3/whatsnew/changelog.html#id602 "Link to this heading")
  * [bpo-20891](https://bugs.python.org/issue?@action=redirect&bpo=20891): Fix PyGILState_Ensure(). When PyGILState_Ensure() is called in a non-Python thread before PyEval_InitThreads(), only call PyEval_InitThreads() after calling PyThreadState_New() to fix a crash.
  * [bpo-31532](https://bugs.python.org/issue?@action=redirect&bpo=31532): Fix memory corruption due to allocator mix in getpath.c between Py_GetPath() and Py_SetPath()
  * [bpo-30697](https://bugs.python.org/issue?@action=redirect&bpo=30697): The `PyExc_RecursionErrorInst` singleton is removed and `PyErr_NormalizeException()` does not use it anymore. This singleton is persistent and its members being never cleared may cause a segfault during finalization of the interpreter. See also [bpo-22898](https://bugs.python.org/issue?@action=redirect&bpo=22898).


## Python 3.6.3 final[¶](https://docs.python.org/3/whatsnew/changelog.html#python-3-6-3-final "Link to this heading")
_Release date: 2017-10-03_
### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id603 "Link to this heading")
  * [bpo-31641](https://bugs.python.org/issue?@action=redirect&bpo=31641): Re-allow arbitrary iterables in `concurrent.futures.as_completed()`. Fixes regression in 3.6.3rc1.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id604 "Link to this heading")
  * [bpo-31662](https://bugs.python.org/issue?@action=redirect&bpo=31662): Fix typos in Windows `uploadrelease.bat` script. Fix Windows Doc build issues in `Doc/make.bat`.
  * [bpo-31423](https://bugs.python.org/issue?@action=redirect&bpo=31423): Fix building the PDF documentation with newer versions of Sphinx.


## Python 3.6.3 release candidate 1[¶](https://docs.python.org/3/whatsnew/changelog.html#python-3-6-3-release-candidate-1 "Link to this heading")
_Release date: 2017-09-18_
### Security[¶](https://docs.python.org/3/whatsnew/changelog.html#id605 "Link to this heading")
  * [bpo-29781](https://bugs.python.org/issue?@action=redirect&bpo=29781): SSLObject.version() now correctly returns None when handshake over BIO has not been performed yet.
  * [bpo-30947](https://bugs.python.org/issue?@action=redirect&bpo=30947): Upgrade libexpat embedded copy from version 2.2.1 to 2.2.3 to get security fixes.