Title: Python 3 Changelog: Recent Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This changelog entry covers several patches including the deprecation of `sqlite3.version` and `sqlite3.version_info`, the suppression of XML declarations in `ElementTree.write()`, support for unpacking arbitrary-length tuples over `TypeVar` and `TypeVarTuple` parameters, and a fix for `importlib.resources.as_file()`. These updates enhance functionality and address specific issues in the Python 3 library.
---

Patch by Illia Volochii.
  * [gh-93370](https://github.com/python/cpython/issues/93370): Deprecate [`sqlite3.version`](https://docs.python.org/3/library/sqlite3.html#sqlite3.version "sqlite3.version") and [`sqlite3.version_info`](https://docs.python.org/3/library/sqlite3.html#sqlite3.version_info "sqlite3.version_info").
  * [gh-91810](https://github.com/python/cpython/issues/91810): Suppress writing an XML declaration in open files in `ElementTree.write()` with `encoding='unicode'` and `xml_declaration=None`.
  * [gh-91162](https://github.com/python/cpython/issues/91162): Support splitting of unpacked arbitrary-length tuple over `TypeVar` and `TypeVarTuple` parameters. For example:
    * `A[T, *Ts][*tuple[int, ...]]` -> `A[int, *tuple[int, ...]]`
    * `A[*Ts, T][*tuple[int, ...]]` -> `A[*tuple[int, ...], int]`
  * [gh-93353](https://github.com/python/cpython/issues/93353): Fix the [`importlib.resources.as_file()`](https://docs.python.org/3/library/importlib.resources.html#importlib.resources.as_file "importlib.resources.as_file") context manager to remove the temporary file if destroyed late during Python finalization: keep a local reference to the [`os.remove()`](https://docs.python.org/3/library/os.html#os.remove "os.remove") function. Patch by Victor Stinner.
  * [gh-83658](https://github.com/python/cpython/issues/83658): Make `multiprocessing.Pool` raise an exception if `maxtasksperchild` is not `None` or a positive int.
  * [gh-93312](https://github.com/python/cpython/issues/93312): Add [`os.PIDFD_NONBLOCK`](https://docs.python.org/3/library/os.html#os.PIDFD_NONBLOCK "os.PIDFD_NONBLOCK") flag to open a file descriptor for a process with [`os.pidfd_open()`](https://docs.python.org/3/library/os.html#os.pidfd_open "os.pidfd_open") in non-blocking mode. Patch by Kumar Aditya.
  * [gh-88123](https://github.com/python/cpython/issues/88123): Implement `Enum.__contains__` that returns `True` or `False` to replace the deprecated behaviour that would sometimes raise a [`TypeError`](https://docs.python.org/3/library/exceptions.html#TypeError "TypeError").
  * [gh-93297](https://github.com/python/cpython/issues/93297): Make asyncio task groups prevent child tasks from being GCed
  * [gh-85308](https://github.com/python/cpython/issues/85308): Changed [`argparse.ArgumentParser`](https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser "argparse.ArgumentParser") to use [filesystem encoding and error handler](https://docs.python.org/3/glossary.html#term-filesystem-encoding-and-error-handler) instead of default text encoding to read arguments from file (e.g. `fromfile_prefix_chars` option). This change affects Windows; argument file should be encoded with UTF-8 instead of ANSI Codepage.
  * [gh-93156](https://github.com/python/cpython/issues/93156): Accessing the [`pathlib.PurePath.parents`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parents "pathlib.PurePath.parents") sequence of an absolute path using negative index values produced incorrect results.
  * [gh-93162](https://github.com/python/cpython/issues/93162): Add the ability for [`logging.config.dictConfig()`](https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig "logging.config.dictConfig") to usefully configure [`QueueHandler`](https://docs.python.org/3/library/logging.handlers.html#logging.handlers.QueueHandler "logging.handlers.QueueHandler") and [`QueueListener`](https://docs.python.org/3/library/logging.handlers.html#logging.handlers.QueueListener "logging.handlers.QueueListener") as a pair, and add [`logging.getHandlerByName()`](https://docs.python.org/3/library/logging.html#logging.getHandlerByName "logging.getHandlerByName") and [`logging.getHandlerNames()`](https://docs.python.org/3/library/logging.html#logging.getHandlerNames "logging.getHandlerNames") APIs to allow access to handlers by name.
  * [gh-93243](https://github.com/python/cpython/issues/93243): The `smtpd` module was removed per the schedule in [**PEP 594**](https://peps.python.org/pep-0594/).
  * [gh-92886](https://github.com/python/cpython/issues/92886): Replace `assert` statements with `raise AssertionError()` in `BaseHandler` so that the tested behaviour is maintained running with optimizations `(-O)`.
  * [gh-90155](https://github.com/python/cpython/issues/90155): Fix broken [`asyncio.Semaphore`](https://docs.python.org/3/library/asyncio-sync.html#asyncio.Semaphore "asyncio.Semaphore") when acquire is cancelled.
  * [gh-90817](https://github.com/python/cpython/issues/90817): The `locale.resetlocale()` function is deprecated and will be removed in Python 3.13. Use `locale.setlocale(locale.LC_ALL, "")` instead.