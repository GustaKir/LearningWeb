Title: Frame API Functions in Python C API
URL: https://docs.python.org/3/c-api/frame.html
Summary: This documentation chunk describes two functions related to the `PyFrameObject`: `PyFrame_GetBuiltins`, which retrieves the frame's builtins attribute, and `PyFrame_GetCode`, which returns the code object associated with the frame. Both functions return a new reference and were introduced in version 3.11.
---

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyFrame_GetBuiltins([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetBuiltins "Link to this definition")
    _Return value: New reference._
Get the _frame_ ’s [`f_builtins`](https://docs.python.org/3/reference/datamodel.html#frame.f_builtins "frame.f_builtins") attribute.
Return a [strong reference](https://docs.python.org/3/glossary.html#term-strong-reference). The result cannot be `NULL`.
Added in version 3.11. 

[PyCodeObject](https://docs.python.org/3/c-api/code.html#c.PyCodeObject "PyCodeObject")*PyFrame_GetCode([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetCode "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.10._
Get the _frame_ code.
Return a [strong reference](https://docs.python.org/3/glossary.html#term-strong-reference).
The result (frame code) cannot be `NULL`.
Added in version 3.9. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyFrame_GetGenerator([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetGenerator "Link to this definition")
    _Return value: New reference._
Get the generator, coroutine, or async generator that owns this frame, or `NULL` if this frame is not owned by a generator. Does not raise an exception, even if the return value is `NULL`.
Return a [strong reference](https://docs.python.org/3/glossary.html#term-strong-reference), or `NULL`.
Added in version 3.11. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyFrame_GetGlobals([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetGlobals "Link to this definition")
    _Return value: New reference._
Get the _frame_ ’s [`f_globals`](https://docs.python.org/3/reference/datamodel.html#frame.f_globals "frame.f_globals") attribute.
Return a [strong reference](https://docs.python.org/3/glossary.html#term-strong-reference). The result cannot be `NULL`.
Added in version 3.11. 

intPyFrame_GetLasti([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetLasti "Link to this definition")
    
Get the _frame_ ’s [`f_lasti`](https://docs.python.org/3/reference/datamodel.html#frame.f_lasti "frame.f_lasti") attribute.
Returns -1 if `frame.f_lasti` is `None`.
Added in version 3.11. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyFrame_GetVar([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*name)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetVar "Link to this definition")
    _Return value: New reference._
Get the variable _name_ of _frame_.
  * Return a [strong reference](https://docs.python.org/3/glossary.html#term-strong-reference) to the variable value on success.
  * Raise [`NameError`](https://docs.python.org/3/library/exceptions.html#NameError "NameError") and return `NULL` if the variable does not exist.
  * Raise an exception and return `NULL` on error.


_name_ type must be a [`str`](https://docs.python.org/3/library/stdtypes.html#str "str").
Added in version 3.12. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyFrame_GetVarString([PyFrameObject](https://docs.python.org/3/c-api/frame.html#c.PyFrameObject "PyFrameObject")*frame, constchar*name)[¶](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetVarString "Link to this definition")
    _Return value: New reference._
Similar to [`PyFrame_GetVar()`](https://docs.python.org/3/c-api/frame.html#c.PyFrame_GetVar "PyFrame_GetVar"), but the variable name is a C string encoded in UTF-8.
Added in version 3.12.