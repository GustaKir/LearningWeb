Title: Python 3 Updates and Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document lists various contributions and fixes made to Python 3, including improvements to `difflib`, `zipfile.Path`, and `argparse`, as well as changes to the `test.bytecode_helper` module. Each entry includes a reference to the associated bug report and contributors.
---

Contributed by Stefan Behnel.
  * [bpo-37810](https://bugs.python.org/issue?@action=redirect&bpo=37810): Fix [`difflib`](https://docs.python.org/3/library/difflib.html#module-difflib "difflib: Helpers for computing differences between objects.") `?` hint in diff output when dealing with tabs. Patch by Anthony Sottile.
  * [bpo-37772](https://bugs.python.org/issue?@action=redirect&bpo=37772): In `zipfile.Path`, when adding implicit dirs, ensure that ancestral directories are added and that duplicates are excluded.
  * [bpo-18578](https://bugs.python.org/issue?@action=redirect&bpo=18578): Renamed and documented `test.bytecode_helper` as `test.support.bytecode_helper`. Patch by Joannah Nanjekye.
  * [bpo-37785](https://bugs.python.org/issue?@action=redirect&bpo=37785): Fix xgettext warnings in [`argparse`](https://docs.python.org/3/library/argparse.html#module-argparse "argparse: Command-line option and argument parsing library.").
  * [bpo-34488](https://bugs.python.org/issue?@action=redirect&bpo=34488): `writelines()` method of [`io.BytesIO`](https://docs.python.org/3/library/io.html#io.BytesIO "io.BytesIO") is now slightly faster when many small lines are passed. Patch by Sergey Fedoseev.
  * [bpo-37449](https://bugs.python.org/issue?@action=redirect&bpo=37449): `ensurepip` now uses `importlib.resources.read_binary()` to read data instead of `pkgutil.get_data()`. Patch by Joannah Nanjekye.
  * [bpo-28292](https://bugs.python.org/issue?@action=redirect&bpo=28292): Mark calendar.py helper functions as being private. The follows PEP 8 guidance to maintain the style conventions in the module and it addresses a known case of user confusion.
  * [bpo-18049](https://bugs.python.org/issue?@action=redirect&bpo=18049): Add definition of THREAD_STACK_SIZE for AIX in Python/thread_pthread.h The default thread stacksize caused crashes with the default recursion limit Patch by M Felt
  * [bpo-37742](https://bugs.python.org/issue?@action=redirect&bpo=37742): The logging.getLogger() API now returns the root logger when passed the name ‘root’, whereas previously it returned a non-root logger named ‘root’. This could affect cases where user code explicitly wants a non-root logger named ‘root’, or instantiates a logger using logging.getLogger(__name__) in some top-level module called ‘root.py’.
  * [bpo-37738](https://bugs.python.org/issue?@action=redirect&bpo=37738): Fix the implementation of curses `addch(str, color_pair)`: pass the color pair to `setcchar()`, instead of always passing 0 as the color pair.
  * [bpo-37723](https://bugs.python.org/issue?@action=redirect&bpo=37723): Fix performance regression on regular expression parsing with huge character sets. Patch by Yann Vaginay.
  * [bpo-35943](https://bugs.python.org/issue?@action=redirect&bpo=35943): The function [`PyImport_GetModule()`](https://docs.python.org/3/c-api/import.html#c.PyImport_GetModule "PyImport_GetModule") now ensures any module it returns is fully initialized. Patch by Joannah Nanjekye.
  * [bpo-32178](https://bugs.python.org/issue?@action=redirect&bpo=32178): Fix IndexError in [`email`](https://docs.python.org/3/library/email.html#module-email "email: Package supporting the parsing, manipulating, and generating email messages.") package when trying to parse invalid address fields starting with `:`.
  * [bpo-37268](https://bugs.python.org/issue?@action=redirect&bpo=37268): The `parser` module is deprecated and will be removed in future versions of Python.
  * [bpo-11953](https://bugs.python.org/issue?@action=redirect&bpo=11953): Completing WSA* error codes in [`socket`](https://docs.python.org/3/library/socket.html#module-socket "socket: Low-level networking interface.").
  * [bpo-37685](https://bugs.python.org/issue?@action=redirect&bpo=37685): Fixed comparisons of [`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta "datetime.timedelta") and [`datetime.timezone`](https://docs.python.org/3/library/datetime.html#datetime.timezone "datetime.timezone").
  * [bpo-37697](https://bugs.python.org/issue?@action=redirect&bpo=37697): Synchronize `importlib.metadata` with [importlib_metadata 0.19](https://gitlab.com/python-devs/importlib_metadata/-/milestones/20), improving handling of EGG-INFO files and fixing a crash when entry point names contained colons.
  * [bpo-37695](https://bugs.python.org/issue?@action=redirect&bpo=37695): Correct [`curses.unget_wch()`](https://docs.python.org/3/library/curses.html#curses.unget_wch "curses.unget_wch") error message.