Title: Python 3 Release Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: The document outlines key enhancements in Python 3, including updates to `unittest.mock.MagicMock`, the addition of `files()` to importlib.resources, new `imaplib.IMAP4.unselect()` method, improvements in `repr()` for `typing.Union`, and CAN_J1939 socket support for Linux.
---

[`unittest.mock.MagicMock`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.MagicMock "unittest.mock.MagicMock") with wraps’ set uses default return values for magic methods.
  * [bpo-39791](https://bugs.python.org/issue?@action=redirect&bpo=39791): Added `files()` function to importlib.resources with support for subdirectories in package data, matching backport in importlib_resources 1.5.
  * [bpo-40375](https://bugs.python.org/issue?@action=redirect&bpo=40375): [`imaplib.IMAP4.unselect()`](https://docs.python.org/3/library/imaplib.html#imaplib.IMAP4.unselect "imaplib.IMAP4.unselect") is added. Patch by Donghee Na.
  * [bpo-40389](https://bugs.python.org/issue?@action=redirect&bpo=40389): `repr()` now returns `typing.Optional[T]` when called for `typing.Union` of two types, one of which is `NoneType`.
  * [bpo-40291](https://bugs.python.org/issue?@action=redirect&bpo=40291): Add support for CAN_J1939 sockets (available on Linux 5.4+)
  * [bpo-40273](https://bugs.python.org/issue?@action=redirect&bpo=40273): [`types.MappingProxyType`](https://docs.python.org/3/library/types.html#types.MappingProxyType "types.MappingProxyType") is now reversible.
  * [bpo-39075](https://bugs.python.org/issue?@action=redirect&bpo=39075): The repr for [`types.SimpleNamespace`](https://docs.python.org/3/library/types.html#types.SimpleNamespace "types.SimpleNamespace") is now insertion ordered rather than alphabetical.
  * [bpo-40192](https://bugs.python.org/issue?@action=redirect&bpo=40192): On AIX, [`thread_time()`](https://docs.python.org/3/library/time.html#time.thread_time "time.thread_time") is now implemented with `thread_cputime()` which has nanosecond resolution, rather than `clock_gettime(CLOCK_THREAD_CPUTIME_ID)` which has a resolution of 10 milliseconds. Patch by Batuhan Taskaya.
  * [bpo-40025](https://bugs.python.org/issue?@action=redirect&bpo=40025): Raise TypeError when _generate_next_value_ is defined after members. Patch by Ethan Onstott.
  * [bpo-39058](https://bugs.python.org/issue?@action=redirect&bpo=39058): In the argparse module, the repr for Namespace() and other argument holders now displayed in the order attributes were added. Formerly, it displayed in alphabetical order even though argument order is preserved the user visible parts of the module.
  * [bpo-24416](https://bugs.python.org/issue?@action=redirect&bpo=24416): The `isocalendar()` methods of [`datetime.date`](https://docs.python.org/3/library/datetime.html#datetime.date "datetime.date") and [`datetime.datetime`](https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime.datetime") now return a [named tuple](https://docs.python.org/3/glossary.html#term-named-tuple) instead of a [`tuple`](https://docs.python.org/3/library/stdtypes.html#tuple "tuple").


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id370 "Link to this heading")
  * [bpo-34790](https://bugs.python.org/issue?@action=redirect&bpo=34790): Add version of removal for explicit passing of coros to `asyncio.wait()`’s documentation
  * [bpo-40561](https://bugs.python.org/issue?@action=redirect&bpo=40561): Provide docstrings for webbrowser open functions.
  * [bpo-40499](https://bugs.python.org/issue?@action=redirect&bpo=40499): Mention that [`asyncio.wait()`](https://docs.python.org/3/library/asyncio-task.html#asyncio.wait "asyncio.wait") requires a non-empty set of awaitables.
  * [bpo-39705](https://bugs.python.org/issue?@action=redirect&bpo=39705): Tutorial example for sorted() in the Loop Techniques section is given a better explanation. Also a new example is included to explain sorted()’s basic behavior.
  * [bpo-39435](https://bugs.python.org/issue?@action=redirect&bpo=39435): Fix an incorrect signature for [`pickle.loads()`](https://docs.python.org/3/library/pickle.html#pickle.loads "pickle.loads") in the docs


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id371 "Link to this heading")
  * [bpo-40055](https://bugs.python.org/issue?@action=redirect&bpo=40055): distutils.tests now saves/restores warnings filters to leave them unchanged. Importing tests imports docutils which imports pkg_resources which adds a warnings filter.
  * [bpo-40436](https://bugs.python.org/issue?@action=redirect&bpo=40436): test_gdb and test.pythoninfo now check gdb command exit code.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id372 "Link to this heading")
  * [bpo-40653](https://bugs.python.org/issue?@action=redirect&bpo=40653): Move _dirnameW out of HAVE_SYMLINK to fix a potential compiling issue.
  * [bpo-40514](https://bugs.python.org/issue?@action=redirect&bpo=40514): Add `--with-experimental-isolated-subinterpreters` build option to `configure`: better isolate subinterpreters, experimental build mode.