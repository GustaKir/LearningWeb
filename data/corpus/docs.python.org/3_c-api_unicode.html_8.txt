Title: PyUnicode_CopyCharacters Function
URL: https://docs.python.org/3/c-api/unicode.html
Summary: The `PyUnicode_CopyCharacters` function copies characters from one Unicode object to another, handling character conversion as needed. It may use `memcpy()` for efficiency. The function returns `-1` on error and the number of copied characters otherwise. This function was added in Python version 3.3.
---

[Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")PyUnicode_CopyCharacters([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*to, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")to_start, [PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*from, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")from_start, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")how_many)[¶](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_CopyCharacters "Link to this definition")
    
Copy characters from one Unicode object into another. This function performs character conversion when necessary and falls back to `memcpy()` if possible. Returns `-1` and sets an exception on error, otherwise returns the number of copied characters.
Added in version 3.3. 

[Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")PyUnicode_Fill([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*unicode, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")start, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")length, [Py_UCS4](https://docs.python.org/3/c-api/unicode.html#c.Py_UCS4 "Py_UCS4")fill_char)[¶](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_Fill "Link to this definition")
    
Fill a string with a character: write _fill_char_ into `unicode[start:start+length]`.
Fail if _fill_char_ is bigger than the string maximum character, or if the string has more than 1 reference.
Return the number of written character, or return `-1` and raise an exception on error.
Added in version 3.3. 

intPyUnicode_WriteChar([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*unicode, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")index, [Py_UCS4](https://docs.python.org/3/c-api/unicode.html#c.Py_UCS4 "Py_UCS4")character)[¶](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_WriteChar "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.7._
Write a character to a string. The string must have been created through [`PyUnicode_New()`](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_New "PyUnicode_New"). Since Unicode strings are supposed to be immutable, the string must not be shared, or have been hashed yet.
This function checks that _unicode_ is a Unicode object, that the index is not out of bounds, and that the object can be modified safely (i.e. that it its reference count is one).
Return `0` on success, `-1` on error with an exception set.
Added in version 3.3. 

[Py_UCS4](https://docs.python.org/3/c-api/unicode.html#c.Py_UCS4 "Py_UCS4")PyUnicode_ReadChar([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*unicode, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")index)[¶](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_ReadChar "Link to this definition")
    _Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.7._
Read a character from a string. This function checks that _unicode_ is a Unicode object and the index is not out of bounds, in contrast to [`PyUnicode_READ_CHAR()`](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_READ_CHAR "PyUnicode_READ_CHAR"), which performs no error checking.
Return character on success, `-1` on error with an exception set.
Added in version 3.3. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyUnicode_Substring([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*unicode, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")start, [Py_ssize_t](https://docs.python.org/3/c-api/intro.html#c.Py_ssize_t "Py_ssize_t")end)[¶](https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_Substring "Link to this definition")
    _Return value: New reference.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) since version 3.7._
Return a substring of _unicode_ , from character index _start_ (included) to character index _end_ (excluded). Negative indices are not supported. On error, set an exception and return `NULL`.
Added in version 3.3.