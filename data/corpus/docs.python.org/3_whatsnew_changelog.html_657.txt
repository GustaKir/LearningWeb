Title: Python Library Changes Summary
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: Recent updates to the Python library include restoring __reduce__() methods for datetime objects, enabling comparison for regular expression patterns, introducing a DeprecationWarning for the undocumented endtime parameter in subprocess.Popen.wait, and preventing crashes in ctypes when calling methods on abstract classes.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id645 "Link to this heading")
  * [bpo-28752](https://bugs.python.org/issue?@action=redirect&bpo=28752): Restored the __reduce__() methods of datetime objects.
  * [bpo-28727](https://bugs.python.org/issue?@action=redirect&bpo=28727): Regular expression patterns, _sre.SRE_Pattern objects created by re.compile(), become comparable (only x==y and x!=y operators). This change should fix the [bpo-18383](https://bugs.python.org/issue?@action=redirect&bpo=18383): don’t duplicate warning filters when the warnings module is reloaded (thing usually only done in unit tests).
  * [bpo-20572](https://bugs.python.org/issue?@action=redirect&bpo=20572): The subprocess.Popen.wait method’s undocumented endtime parameter now raises a DeprecationWarning.
  * [bpo-25659](https://bugs.python.org/issue?@action=redirect&bpo=25659): In ctypes, prevent a crash calling the from_buffer() and from_buffer_copy() methods on abstract classes like Array.
  * [bpo-19717](https://bugs.python.org/issue?@action=redirect&bpo=19717): Makes Path.resolve() succeed on paths that do not exist. Patch by Vajrasky Kok
  * [bpo-28563](https://bugs.python.org/issue?@action=redirect&bpo=28563): Fixed possible DoS and arbitrary code execution when handle plural form selections in the gettext module. The expression parser now supports exact syntax supported by GNU gettext.
  * [bpo-28387](https://bugs.python.org/issue?@action=redirect&bpo=28387): Fixed possible crash in _io.TextIOWrapper deallocator when the garbage collector is invoked in other thread. Based on patch by Sebastian Cufre.
  * [bpo-28600](https://bugs.python.org/issue?@action=redirect&bpo=28600): Optimize loop.call_soon.
  * [bpo-28613](https://bugs.python.org/issue?@action=redirect&bpo=28613): Fix get_event_loop() return the current loop if called from coroutines/callbacks.
  * [bpo-28634](https://bugs.python.org/issue?@action=redirect&bpo=28634): Fix asyncio.isfuture() to support unittest.Mock.
  * [bpo-26081](https://bugs.python.org/issue?@action=redirect&bpo=26081): Fix refleak in _asyncio.Future.__iter__().throw.
  * [bpo-28639](https://bugs.python.org/issue?@action=redirect&bpo=28639): Fix inspect.isawaitable to always return bool Patch by Justin Mayfield.
  * [bpo-28652](https://bugs.python.org/issue?@action=redirect&bpo=28652): Make loop methods reject socket kinds they do not support.
  * [bpo-28653](https://bugs.python.org/issue?@action=redirect&bpo=28653): Fix a refleak in functools.lru_cache.
  * [bpo-28703](https://bugs.python.org/issue?@action=redirect&bpo=28703): Fix asyncio.iscoroutinefunction to handle Mock objects.
  * [bpo-28704](https://bugs.python.org/issue?@action=redirect&bpo=28704): Fix create_unix_server to support Path-like objects (PEP 519).
  * [bpo-28720](https://bugs.python.org/issue?@action=redirect&bpo=28720): Add collections.abc.AsyncGenerator.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id646 "Link to this heading")
  * [bpo-28513](https://bugs.python.org/issue?@action=redirect&bpo=28513): Documented command-line interface of zipfile.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id647 "Link to this heading")
  * [bpo-28666](https://bugs.python.org/issue?@action=redirect&bpo=28666): Now test.support.rmtree is able to remove unwritable or unreadable directories.
  * [bpo-23839](https://bugs.python.org/issue?@action=redirect&bpo=23839): Various caches now are cleared before running every test file.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id648 "Link to this heading")
  * [bpo-10656](https://bugs.python.org/issue?@action=redirect&bpo=10656): Fix out-of-tree building on AIX. Patch by Tristan Carel and Michael Haubenwallner.
  * [bpo-26359](https://bugs.python.org/issue?@action=redirect&bpo=26359): Rename –with-optimiations to –enable-optimizations.
  * [bpo-28676](https://bugs.python.org/issue?@action=redirect&bpo=28676): Prevent missing ‘getentropy’ declaration warning on macOS. Patch by Gareth Rees.