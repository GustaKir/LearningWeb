Title: Updating Visible Headers in BabylMessage
URL: https://docs.python.org/3/library/mailbox.html
Summary: The `update_visible()` method in a `BabylMessage` instance synchronizes visible headers with original headers. It replaces, removes, or adds headers such as _Date_, _From_, and _Subject_ based on modifications made to the original headers.
---

update_visible()[¶](https://docs.python.org/3/library/mailbox.html#mailbox.BabylMessage.update_visible "Link to this definition")
    
When a `BabylMessage` instance’s original headers are modified, the visible headers are not automatically modified to correspond. This method updates the visible headers as follows: each visible header with a corresponding original header is set to the value of the original header, each visible header without a corresponding original header is removed, and any of _Date_ , _From_ , _Reply-To_ , _To_ , _CC_ , and _Subject_ that are present in the original headers but not the visible headers are added to the visible headers.
When a `BabylMessage` instance is created based upon a [`MaildirMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MaildirMessage "mailbox.MaildirMessage") instance, the following conversions take place:
Resulting state | [`MaildirMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MaildirMessage "mailbox.MaildirMessage") state  
---|---  
“unseen” label | no S flag  
“deleted” label | T flag  
“answered” label | R flag  
“forwarded” label | P flag  
When a `BabylMessage` instance is created based upon an [`mboxMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.mboxMessage "mailbox.mboxMessage") or [`MMDFMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MMDFMessage "mailbox.MMDFMessage") instance, the _Status_ and _X-Status_ headers are omitted and the following conversions take place:
Resulting state | [`mboxMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.mboxMessage "mailbox.mboxMessage") or [`MMDFMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MMDFMessage "mailbox.MMDFMessage") state  
---|---  
“unseen” label | no R flag  
“deleted” label | D flag  
“answered” label | A flag  
When a `BabylMessage` instance is created based upon an [`MHMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MHMessage "mailbox.MHMessage") instance, the following conversions take place:
Resulting state | [`MHMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.MHMessage "mailbox.MHMessage") state  
---|---  
“unseen” label | “unseen” sequence  
“answered” label | “replied” sequence  
### `MMDFMessage` objects[¶](https://docs.python.org/3/library/mailbox.html#mmdfmessage-objects "Link to this heading") 

_class_ mailbox.MMDFMessage(_message =None_)[¶](https://docs.python.org/3/library/mailbox.html#mailbox.MMDFMessage "Link to this definition")
    
A message with MMDF-specific behaviors. Parameter _message_ has the same meaning as with the [`Message`](https://docs.python.org/3/library/mailbox.html#mailbox.Message "mailbox.Message") constructor.
As with message in an mbox mailbox, MMDF messages are stored with the sender’s address and the delivery date in an initial line beginning with “From “. Likewise, flags that indicate the state of the message are typically stored in _Status_ and _X-Status_ headers.
Conventional flags for MMDF messages are identical to those of mbox message and are as follows:
Flag | Meaning | Explanation  
---|---|---  
R | Read | Read  
O | Old | Previously detected by MUA  
D | Deleted | Marked for subsequent deletion  
F | Flagged | Marked as important  
A | Answered | Replied to  
The “R” and “O” flags are stored in the _Status_ header, and the “D”, “F”, and “A” flags are stored in the _X-Status_ header. The flags and headers typically appear in the order mentioned.
`MMDFMessage` instances offer the following methods, which are identical to those offered by [`mboxMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.mboxMessage "mailbox.mboxMessage"): 

get_from()[¶](https://docs.python.org/3/library/mailbox.html#mailbox.MMDFMessage.get_from "Link to this definition")
    
Return a string representing the “From “ line that marks the start of the message in an mbox mailbox. The leading “From “ and the trailing newline are excluded. 

set_from(_from__ , _time_ =None_)[¶](https://docs.python.org/3/library/mailbox.html#mailbox.MMDFMessage.set_from "Link to this definition")
    
Set the “From “ line to _from__ , which should be specified without a leading “From “ or trailing newline. For convenience, _time__ may be specified and will be formatted appropriately and appended to _from__. If _time__ is specified, it should be a [`time.struct_time`](https://docs.python.org/3/library/time.html#time.struct_time "time.struct_time") instance, a tuple suitable for passing to [`time.strftime()`](https://docs.python.org/3/library/time.html#time.strftime "time.strftime"), or `True` (to use [`time.gmtime()`](https://docs.python.org/3/library/time.html#time.gmtime "time.gmtime")).