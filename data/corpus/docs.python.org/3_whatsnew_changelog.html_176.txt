Title: Python Updates and Improvements
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines several updates to Python, including performance enhancements for the `datetime` import, removal of attribute/method shadowing by enum members, and improvements to `importlib.metadata` reflecting changes from the `importlib_metadata` library. Key features include support for `installed-files.txt`, new methods for querying metadata, and adjustments to how packages and modules are handled.
---

Currently, the full Python implementation is defined and then deleted if the C implementation is not available, slowing down `import datetime` unnecessarily.
  * [gh-103596](https://github.com/python/cpython/issues/103596): Attributes/methods are no longer shadowed by same-named enum members, although they may be shadowed by enum.propertyâ€™s.
  * [gh-103584](https://github.com/python/cpython/issues/103584): Updated `importlib.metadata` with changes from `importlib_metadata` 5.2 through 6.5.0, including: Support `installed-files.txt` for `Distribution.files` when present. `PackageMetadata` now stipulates an additional `get` method allowing for easy querying of metadata keys that may not be present. `packages_distributions` now honors packages and modules with Python modules that not `.py` sources (e.g. `.pyc`, `.so`). Expand protocol for `PackageMetadata.get_all` to match the upstream implementation of `email.message.Message.get_all` in python/typeshed#9620. Deprecated use of `Distribution` without defining abstract methods. Deprecated expectation that `PackageMetadata.__getitem__` will return `None` for missing keys. In the future, it will raise a `KeyError`.
  * [gh-103578](https://github.com/python/cpython/issues/103578): Fixed a bug where [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") crashes when reading source file with different encoding by replacing [`io.open()`](https://docs.python.org/3/library/io.html#io.open "io.open") with [`io.open_code()`](https://docs.python.org/3/library/io.html#io.open_code "io.open_code"). The new method would also call into the hook set by [`PyFile_SetOpenCodeHook()`](https://docs.python.org/3/c-api/file.html#c.PyFile_SetOpenCodeHook "PyFile_SetOpenCodeHook").
  * [gh-103556](https://github.com/python/cpython/issues/103556): Now creating [`inspect.Signature`](https://docs.python.org/3/library/inspect.html#inspect.Signature "inspect.Signature") objects with positional-only parameter with a default followed by a positional-or-keyword parameter without one is impossible.
  * [gh-103559](https://github.com/python/cpython/issues/103559): Update the bundled copy of pip to version 23.1.1.
  * [gh-103548](https://github.com/python/cpython/issues/103548): Improve performance of [`pathlib.Path.absolute()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.absolute "pathlib.Path.absolute") and [`cwd()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.cwd "pathlib.Path.cwd") by joining paths only when necessary. Also improve performance of [`pathlib.PurePath.is_absolute()`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.is_absolute "pathlib.PurePath.is_absolute") on Posix by skipping path parsing and normalization.
  * [gh-103538](https://github.com/python/cpython/issues/103538): Remove `_tkinter` module code guarded by definition of the `TK_AQUA` macro which was only needed for Tk 8.4.7 or earlier and was never actually defined by any build system or documented for manual use.
  * [gh-103533](https://github.com/python/cpython/issues/103533): Update [`cProfile`](https://docs.python.org/3/library/profile.html#module-cProfile "cProfile") to use PEP 669 API
  * [gh-103525](https://github.com/python/cpython/issues/103525): Fix misleading exception message when mixed `str` and `bytes` arguments are supplied to [`pathlib.PurePath`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath "pathlib.PurePath") and [`Path`](https://docs.python.org/3/library/pathlib.html#pathlib.Path "pathlib.Path").
  * [gh-103489](https://github.com/python/cpython/issues/103489): Add [`getconfig()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.getconfig "sqlite3.Connection.getconfig") and [`setconfig()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.setconfig "sqlite3.Connection.setconfig") to [`Connection`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection "sqlite3.Connection") to make configuration changes to a database connection. Patch by Erlend E.