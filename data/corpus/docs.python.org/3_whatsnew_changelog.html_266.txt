Title: Python 3.10 Changelog - Notable Fixes and Enhancements
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section lists several patches and bug fixes, including addressing a memory leak in `ProcessPoolExecutor`, adding support for path-like objects in `multiprocessing.set_executable()` on Windows, introducing a new `SO_INCOMING_CPU` constant in the `socket` module, and resolving OSS audio support issues on NetBSD.
---

Patch by Adrian Garcia Badaracco.
  * [bpo-46787](https://bugs.python.org/issue?@action=redirect&bpo=46787): Fix [`concurrent.futures.ProcessPoolExecutor`](https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor "concurrent.futures.ProcessPoolExecutor") exception memory leak
  * [bpo-46720](https://bugs.python.org/issue?@action=redirect&bpo=46720): Add support for path-like objects to [`multiprocessing.set_executable()`](https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_executable "multiprocessing.set_executable") for Windows to be on a par with Unix-like systems. Patch by Géry Ogam.
  * [bpo-46696](https://bugs.python.org/issue?@action=redirect&bpo=46696): Add `SO_INCOMING_CPU` constant to [`socket`](https://docs.python.org/3/library/socket.html#module-socket "socket: Low-level networking interface.").
  * [bpo-46053](https://bugs.python.org/issue?@action=redirect&bpo=46053): Fix OSS audio support on NetBSD.
  * [bpo-45639](https://bugs.python.org/issue?@action=redirect&bpo=45639): `image/avif` and `image/webp` were added to [`mimetypes`](https://docs.python.org/3/library/mimetypes.html#module-mimetypes "mimetypes: Mapping of filename extensions to MIME types.").
  * [bpo-46285](https://bugs.python.org/issue?@action=redirect&bpo=46285): Add command-line option `-p`/`--protocol` to module [`http.server`](https://docs.python.org/3/library/http.server.html#module-http.server "http.server: HTTP server and request handlers.") which specifies the HTTP version to which the server is conformant (HTTP/1.1 conformant servers can now be run from the command-line interface of module [`http.server`](https://docs.python.org/3/library/http.server.html#module-http.server "http.server: HTTP server and request handlers.")). Patch by Géry Ogam.
  * [bpo-44791](https://bugs.python.org/issue?@action=redirect&bpo=44791): Accept ellipsis as the last argument of [`typing.Concatenate`](https://docs.python.org/3/library/typing.html#typing.Concatenate "typing.Concatenate").
  * [bpo-46547](https://bugs.python.org/issue?@action=redirect&bpo=46547): Remove variables leaking into `pydoc.Helper` class namespace.
  * [bpo-46415](https://bugs.python.org/issue?@action=redirect&bpo=46415): Fix ipaddress.ip_{address,interface,network} raising TypeError instead of ValueError if given invalid tuple as address parameter.
  * [bpo-46075](https://bugs.python.org/issue?@action=redirect&bpo=46075): `CookieJar` with `DefaultCookiePolicy` now can process cookies from localhost with domain=localhost explicitly specified in Set-Cookie header.
  * [bpo-45995](https://bugs.python.org/issue?@action=redirect&bpo=45995): Add a “z” option to the string formatting specification that coerces negative zero floating-point values to positive zero after rounding to the format precision. Contributed by John Belmonte.
  * [bpo-26175](https://bugs.python.org/issue?@action=redirect&bpo=26175): Fully implement the [`io.BufferedIOBase`](https://docs.python.org/3/library/io.html#io.BufferedIOBase "io.BufferedIOBase") or [`io.TextIOBase`](https://docs.python.org/3/library/io.html#io.TextIOBase "io.TextIOBase") interface for [`tempfile.SpooledTemporaryFile`](https://docs.python.org/3/library/tempfile.html#tempfile.SpooledTemporaryFile "tempfile.SpooledTemporaryFile") objects. This lets them work correctly with higher-level layers (like compression modules). Patch by Carey Metcalfe.
  * [bpo-45138](https://bugs.python.org/issue?@action=redirect&bpo=45138): Fix a regression in the [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") trace callback where bound parameters were not expanded in the passed statement string. The regression was introduced in Python 3.10 by [bpo-40318](https://bugs.python.org/issue?@action=redirect&bpo=40318). Patch by Erlend E. Aasland.
  * [bpo-44863](https://bugs.python.org/issue?@action=redirect&bpo=44863): Allow [`TypedDict`](https://docs.python.org/3/library/typing.html#typing.TypedDict "typing.TypedDict") subclasses to also include [`Generic`](https://docs.python.org/3/library/typing.html#typing.Generic "typing.Generic") as a base class in class based syntax. Thereby allowing the user to define a generic `TypedDict`, just like a user-defined generic but with `TypedDict` semantics.
  * [bpo-44587](https://bugs.python.org/issue?@action=redirect&bpo=44587): Fix BooleanOptionalAction to not automatically add a default string. If a default string is desired, use a formatter to add it.
  * [bpo-43827](https://bugs.python.org/issue?@action=redirect&bpo=43827): All positional-or-keyword parameters to `ABCMeta.__new__` are now positional-only to avoid conflicts with keyword arguments to be passed to `__init_subclass__()`.
  * [bpo-43218](https://bugs.python.org/issue?@action=redirect&bpo=43218): Prevent creation of a venv whose path contains the PATH separator.