Title: Python 3 Library Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details recent changes in the Python library, including restored support for non-integer arguments in random functions, clickable URL in the IDLE dialog, removal of namespace-leaking loop variables, and improved type hint evaluation in typing.get_type_hints().
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id245 "Link to this heading")
  * [bpo-46624](https://bugs.python.org/issue?@action=redirect&bpo=46624): Restore support for non-integer arguments of [`random.randrange()`](https://docs.python.org/3/library/random.html#random.randrange "random.randrange") and [`random.randint()`](https://docs.python.org/3/library/random.html#random.randint "random.randint").
  * [bpo-46591](https://bugs.python.org/issue?@action=redirect&bpo=46591): Make the IDLE doc URL on the About IDLE dialog clickable.
  * [bpo-46565](https://bugs.python.org/issue?@action=redirect&bpo=46565): Remove loop variables that are leaking into modules’ namespaces.
  * [bpo-46553](https://bugs.python.org/issue?@action=redirect&bpo=46553): In [`typing.get_type_hints()`](https://docs.python.org/3/library/typing.html#typing.get_type_hints "typing.get_type_hints"), support evaluating bare stringified `ClassVar` annotations. Patch by Gregory Beauregard.
  * [bpo-46544](https://bugs.python.org/issue?@action=redirect&bpo=46544): Don’t leak `x` & `uspace` intermediate vars in [`textwrap.TextWrapper`](https://docs.python.org/3/library/textwrap.html#textwrap.TextWrapper "textwrap.TextWrapper").
  * [bpo-46487](https://bugs.python.org/issue?@action=redirect&bpo=46487): Add the `get_write_buffer_limits` method to `asyncio.transports.WriteTransport` and to the SSL transport.
  * [bpo-45173](https://bugs.python.org/issue?@action=redirect&bpo=45173): Note the configparser deprecations will be removed in Python 3.12.
  * [bpo-45162](https://bugs.python.org/issue?@action=redirect&bpo=45162): The deprecated [`unittest`](https://docs.python.org/3/library/unittest.html#module-unittest "unittest: Unit testing framework for Python.") APIs removed in 3.11a1 have been temporarily restored to be removed in 3.12 while cleanups in external projects go in.
  * [bpo-46539](https://bugs.python.org/issue?@action=redirect&bpo=46539): In [`typing.get_type_hints()`](https://docs.python.org/3/library/typing.html#typing.get_type_hints "typing.get_type_hints"), support evaluating stringified `ClassVar` and `Final` annotations inside `Annotated`. Patch by Gregory Beauregard.
  * [bpo-46510](https://bugs.python.org/issue?@action=redirect&bpo=46510): Add missing test for [`types.TracebackType`](https://docs.python.org/3/library/types.html#types.TracebackType "types.TracebackType") and [`types.FrameType`](https://docs.python.org/3/library/types.html#types.FrameType "types.FrameType"). Calculate them directly from the caught exception without calling [`sys.exc_info()`](https://docs.python.org/3/library/sys.html#sys.exc_info "sys.exc_info").
  * [bpo-46491](https://bugs.python.org/issue?@action=redirect&bpo=46491): Allow [`typing.Annotated`](https://docs.python.org/3/library/typing.html#typing.Annotated "typing.Annotated") to wrap [`typing.Final`](https://docs.python.org/3/library/typing.html#typing.Final "typing.Final") and [`typing.ClassVar`](https://docs.python.org/3/library/typing.html#typing.ClassVar "typing.ClassVar"). Patch by Gregory Beauregard.
  * [bpo-46483](https://bugs.python.org/issue?@action=redirect&bpo=46483): Remove [`__class_getitem__()`](https://docs.python.org/3/reference/datamodel.html#object.__class_getitem__ "object.__class_getitem__") from [`pathlib.PurePath`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath "pathlib.PurePath") as this class was not supposed to be generic.
  * [bpo-46436](https://bugs.python.org/issue?@action=redirect&bpo=46436): Fix command-line option `-d`/`--directory` in module [`http.server`](https://docs.python.org/3/library/http.server.html#module-http.server "http.server: HTTP server and request handlers.") which is ignored when combined with command-line option `--cgi`. Patch by Géry Ogam.
  * [bpo-41403](https://bugs.python.org/issue?@action=redirect&bpo=41403): Make `mock.patch()` raise a [`TypeError`](https://docs.python.org/3/library/exceptions.html#TypeError "TypeError") with a relevant error message on invalid arg. Previously it allowed a cryptic [`AttributeError`](https://docs.python.org/3/library/exceptions.html#AttributeError "AttributeError") to escape.
  * [bpo-46474](https://bugs.python.org/issue?@action=redirect&bpo=46474): In `importlib.metadata.EntryPoint.pattern`, avoid potential REDoS by limiting ambiguity in consecutive whitespace.
  * [bpo-46474](https://bugs.python.org/issue?@action=redirect&bpo=46474): Removed private method from `importlib.metadata.Path`. Sync with importlib_metadata 4.10.0.
  * [bpo-46470](https://bugs.python.org/issue?@action=redirect&bpo=46470): Remove unused branch from `typing._remove_dups_flatten`
  * [bpo-46469](https://bugs.python.org/issue?@action=redirect&bpo=46469): [`asyncio`](https://docs.python.org/3/library/asyncio.html#module-asyncio "asyncio: Asynchronous I/O.") generic classes now return [`types.GenericAlias`](https://docs.python.org/3/library/types.html#types.GenericAlias "types.GenericAlias") in `__c