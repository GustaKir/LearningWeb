Title: Python 3 Performance Improvements and Bug Fixes
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This chunk highlights several enhancements in Python 3, including a significant increase in formatting speed (up to 5 times faster), new error handling for sys.setrecursionlimit(), fixes for the input() function, optimizations for bytes formatting, and restrictions on subclassing certain built-in types.
---

Formatting is now between 2.5 and 5 times faster.
  * [bpo-25274](https://bugs.python.org/issue?@action=redirect&bpo=25274): sys.setrecursionlimit() now raises a RecursionError if the new recursion limit is too low depending at the current recursion depth. Modify also the “lower-water mark” formula to make it monotonic. This mark is used to decide when the overflowed flag of the thread state is reset.
  * [bpo-24402](https://bugs.python.org/issue?@action=redirect&bpo=24402): Fix input() to prompt to the redirected stdout when sys.stdout.fileno() fails.
  * [bpo-25349](https://bugs.python.org/issue?@action=redirect&bpo=25349): Optimize bytes % args using the new private _PyBytesWriter API. Formatting is now up to 2 times faster.
  * [bpo-24806](https://bugs.python.org/issue?@action=redirect&bpo=24806): Prevent builtin types that are not allowed to be subclassed from being subclassed through multiple inheritance.
  * [bpo-25301](https://bugs.python.org/issue?@action=redirect&bpo=25301): The UTF-8 decoder is now up to 15 times as fast for error handlers: `ignore`, `replace` and `surrogateescape`.
  * [bpo-24848](https://bugs.python.org/issue?@action=redirect&bpo=24848): Fixed a number of bugs in UTF-7 decoding of misformed data.
  * [bpo-25267](https://bugs.python.org/issue?@action=redirect&bpo=25267): The UTF-8 encoder is now up to 75 times as fast for error handlers: `ignore`, `replace`, `surrogateescape`, `surrogatepass`. Patch co-written with Serhiy Storchaka.
  * [bpo-25280](https://bugs.python.org/issue?@action=redirect&bpo=25280): Import trace messages emitted in verbose (-v) mode are no longer formatted twice.
  * [bpo-25227](https://bugs.python.org/issue?@action=redirect&bpo=25227): Optimize ASCII and latin1 encoders with the `surrogateescape` error handler: the encoders are now up to 3 times as fast. Initial patch written by Serhiy Storchaka.
  * [bpo-25003](https://bugs.python.org/issue?@action=redirect&bpo=25003): On Solaris 11.3 or newer, os.urandom() now uses the getrandom() function instead of the getentropy() function. The getentropy() function is blocking to generate very good quality entropy, os.urandom() doesn’t need such high-quality entropy.
  * [bpo-9232](https://bugs.python.org/issue?@action=redirect&bpo=9232): Modify Python’s grammar to allow trailing commas in the argument list of a function declaration. For example, “def f(*, a = 3,): pass” is now legal. Patch from Mark Dickinson.
  * [bpo-24965](https://bugs.python.org/issue?@action=redirect&bpo=24965): Implement [**PEP 498**](https://peps.python.org/pep-0498/) “Literal String Interpolation”. This allows you to embed expressions inside f-strings, which are converted to normal strings at run time. Given x=3, then f’value={x}’ == ‘value=3’. Patch by Eric V. Smith.
  * [bpo-26478](https://bugs.python.org/issue?@action=redirect&bpo=26478): Fix semantic bugs when using binary operators with dictionary views and tuples.
  * [bpo-26171](https://bugs.python.org/issue?@action=redirect&bpo=26171): Fix possible integer overflow and heap corruption in zipimporter.get_data().
  * [bpo-25660](https://bugs.python.org/issue?@action=redirect&bpo=25660): Fix TAB key behaviour in REPL with readline.
  * [bpo-26288](https://bugs.python.org/issue?@action=redirect&bpo=26288): Optimize PyLong_AsDouble.
  * [bpo-26289](https://bugs.python.org/issue?@action=redirect&bpo=26289): Optimize floor and modulo division for single-digit longs. Microbenchmarks show 2-2.5x improvement. Built-in ‘divmod’ function is now also ~10% faster. (See also: [bpo-26315](https://bugs.python.org/issue?@action=redirect&bpo=26315))
  * [bpo-25887](https://bugs.python.org/issue?@action=redirect&bpo=25887): Raise a RuntimeError when a coroutine object is awaited more than once.