Title: Python Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document section outlines several updates and bug fixes in Python, including a RuntimeError for closed selectors in the BaseSelector class, enhancements to the linecache for PEP-302 modules, and a new object API for tracebacks. Additionally, a new home() classmethod has been introduced for Path objects, contributing to improved usability.
---

es.
  * [bpo-23209](https://bugs.python.org/issue?@action=redirect&bpo=23209): selectors.BaseSelector.get_key() now raises a RuntimeError if the selector is closed. And selectors.BaseSelector.close() now clears its internal reference to the selector mapping to break a reference cycle. Initial patch written by Martin Richard. (See also: [bpo-23225](https://bugs.python.org/issue?@action=redirect&bpo=23225))
  * [bpo-17911](https://bugs.python.org/issue?@action=redirect&bpo=17911): Provide a way to seed the linecache for a PEP-302 module without actually loading the code.
  * [bpo-17911](https://bugs.python.org/issue?@action=redirect&bpo=17911): Provide a new object API for traceback, including the ability to not lookup lines at all until the traceback is actually rendered, without any trace of the original objects being kept alive.
  * [bpo-19777](https://bugs.python.org/issue?@action=redirect&bpo=19777): Provide a home() classmethod on Path objects. Contributed by Victor Salgado and Mayank Tripathi.
  * [bpo-23206](https://bugs.python.org/issue?@action=redirect&bpo=23206): Make `json.dumps(..., ensure_ascii=False)` as fast as the default case of `ensure_ascii=True`. Patch by Naoki Inada.
  * [bpo-23185](https://bugs.python.org/issue?@action=redirect&bpo=23185): Add math.inf and math.nan constants.
  * [bpo-23186](https://bugs.python.org/issue?@action=redirect&bpo=23186): Add ssl.SSLObject.shared_ciphers() and ssl.SSLSocket.shared_ciphers() to fetch the client’s list ciphers sent at handshake.
  * [bpo-23143](https://bugs.python.org/issue?@action=redirect&bpo=23143): Remove compatibility with OpenSSLs older than 0.9.8.
  * [bpo-23132](https://bugs.python.org/issue?@action=redirect&bpo=23132): Improve performance and introspection support of comparison methods created by functool.total_ordering.
  * [bpo-19776](https://bugs.python.org/issue?@action=redirect&bpo=19776): Add an expanduser() method on Path objects.
  * [bpo-23112](https://bugs.python.org/issue?@action=redirect&bpo=23112): Fix SimpleHTTPServer to correctly carry the query string and fragment when it redirects to add a trailing slash.
  * [bpo-21793](https://bugs.python.org/issue?@action=redirect&bpo=21793): Added http.HTTPStatus enums (i.e. HTTPStatus.OK, HTTPStatus.NOT_FOUND). Patch by Demian Brecht.
  * [bpo-23093](https://bugs.python.org/issue?@action=redirect&bpo=23093): In the io, module allow more operations to work on detached streams.
  * [bpo-23111](https://bugs.python.org/issue?@action=redirect&bpo=23111): In the ftplib, make ssl.PROTOCOL_SSLv23 the default protocol version.
  * [bpo-22585](https://bugs.python.org/issue?@action=redirect&bpo=22585): On OpenBSD 5.6 and newer, os.urandom() now calls getentropy(), instead of reading /dev/urandom, to get pseudo-random bytes.
  * [bpo-19104](https://bugs.python.org/issue?@action=redirect&bpo=19104): pprint now produces evaluable output for wrapped strings.
  * [bpo-23071](https://bugs.python.org/issue?@action=redirect&bpo=23071): Added missing names to codecs.__all__. Patch by Martin Panter.
  * [bpo-22783](https://bugs.python.org/issue?@action=redirect&bpo=22783): Pickling now uses the NEWOBJ opcode instead of the NEWOBJ_EX opcode if possible.
  * [bpo-15513](https://bugs.python.org/issue?@action=redirect&bpo=15513): Added a __sizeof__ implementation for pickle classes.
  * [bpo-19858](https://bugs.python.org/issue?@action=redirect&bpo=19858): pickletools.optimize() now aware of the MEMOIZE opcode, can produce more compact result and no longer produces invalid output if input data contains MEMOIZE opcodes together with PUT or BINPUT opcodes.
  * [bpo-22095](https://bugs.python.org/issue?@action=redirect&bpo=22095): Fixed HTTPConnection.set_tunnel with default port. The port value in the host header was set to “None”. Patch by Demian Brecht.
  * [bpo-23016](https://bugs.python.org/issue?@action=redirect&bpo=23016): A warning no longer produces an AttributeError when the program is run with pythonw.exe.
  * [bpo-21775](https://bugs.python.org/issue?@action=redirect&bpo=21775): shutil.copytree(): fix crash when copying to VFAT. An exception handler assumed that OSError objects always have a ‘winerror’ attribute. That is not the case, so the exception handler itself raised AttributeError when run on Linux (and, presumably, any other non-Windows OS). Patch by Greg Ward.
  * [bpo-1218234](https://bugs.python.org/issue?@action=redirect&bpo=1218234): Fix inspect.getsource() to load updated source of reloaded module. Initial patch by Berker Peksag.
  * [bpo-21740](https://bugs.python.org/issue?@action=redirect&bpo=21740): Support wrapped callables in doctest.