Title: Python 3.9 Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines key changes in Python 3.9, including the deprecation of several modules (nntplib, msilib, imghdr, and crypt), improvements to regular expression performance using computed gotos, enhancements in opcode handling in disassembler output, and updates related to TextIOWrapper's locale encoding usage.
---

Aasland.
  * [gh-91217](https://github.com/python/cpython/issues/91217): Deprecate nntplib.
  * [gh-91217](https://github.com/python/cpython/issues/91217): Deprecate msilib.
  * [gh-91404](https://github.com/python/cpython/issues/91404): Improve the performance of [`re`](https://docs.python.org/3/library/re.html#module-re "re: Regular expression operations.") matching by using computed gotos (or “threaded code”) on supported platforms and removing expensive pointer indirections.
  * [gh-91217](https://github.com/python/cpython/issues/91217): Deprecate the imghdr module.
  * [gh-91217](https://github.com/python/cpython/issues/91217): Deprecate the crypt module.
  * [gh-91276](https://github.com/python/cpython/issues/91276): Make space for longer opcodes in [`dis`](https://docs.python.org/3/library/dis.html#module-dis "dis: Disassembler for Python bytecode.") output.
  * [bpo-47000](https://bugs.python.org/issue?@action=redirect&bpo=47000): Make `TextIOWrapper` uses locale encoding when `encoding="locale"` is specified even in UTF-8 mode.
  * [gh-91230](https://github.com/python/cpython/issues/91230): [`warnings.catch_warnings()`](https://docs.python.org/3/library/warnings.html#warnings.catch_warnings "warnings.catch_warnings") now accepts arguments for [`warnings.simplefilter()`](https://docs.python.org/3/library/warnings.html#warnings.simplefilter "warnings.simplefilter"), providing a more concise way to locally ignore warnings or convert them to errors.
  * [gh-91217](https://github.com/python/cpython/issues/91217): Deprecate the chunk module.
  * [gh-91498](https://github.com/python/cpython/issues/91498): Add the `TCP_CONNECTION_INFO` option (available on macOS) to [`socket`](https://docs.python.org/3/library/socket.html#module-socket "socket: Low-level networking interface.").
  * [bpo-47260](https://bugs.python.org/issue?@action=redirect&bpo=47260): Fix `os.closerange()` potentially being a no-op in a Linux seccomp sandbox.
  * [bpo-47087](https://bugs.python.org/issue?@action=redirect&bpo=47087): Implement `typing.Required` and `typing.NotRequired` ([**PEP 655**](https://peps.python.org/pep-0655/)). Patch by David Foster and Jelle Zijlstra.
  * [bpo-47061](https://bugs.python.org/issue?@action=redirect&bpo=47061): Deprecate cgi and cgitb.
  * [bpo-47061](https://bugs.python.org/issue?@action=redirect&bpo=47061): Deprecate audioop.
  * [bpo-47000](https://bugs.python.org/issue?@action=redirect&bpo=47000): Add [`locale.getencoding()`](https://docs.python.org/3/library/locale.html#locale.getencoding "locale.getencoding") to get the current locale encoding. It is similar to `locale.getpreferredencoding(False)` but ignores the [Python UTF-8 Mode](https://docs.python.org/3/library/os.html#utf8-mode).
  * [bpo-42012](https://bugs.python.org/issue?@action=redirect&bpo=42012): Add [`wsgiref.types`](https://docs.python.org/3/library/wsgiref.html#module-wsgiref.types "wsgiref.types: WSGI types for static type checking"), containing WSGI-specific types for static type checking.
  * [bpo-47227](https://bugs.python.org/issue?@action=redirect&bpo=47227): Suppress expression chaining for more [`re`](https://docs.python.org/3/library/re.html#module-re "re: Regular expression operations.") parsing errors.
  * [bpo-47211](https://bugs.python.org/issue?@action=redirect&bpo=47211): Remove undocumented and never working function `re.template()` and flag `re.TEMPLATE`. This was later reverted in 3.11.0b2 and deprecated instead.
  * [bpo-47135](https://bugs.python.org/issue?@action=redirect&bpo=47135): [`decimal.localcontext()`](https://docs.python.org/3/library/decimal.html#decimal.localcontext "decimal.localcontext") now accepts context attributes via keyword arguments
  * [bpo-43323](https://bugs.python.org/issue?@action=redirect&bpo=43323): Fix errors in the [`email`](https://docs.python.org/3/library/email.html#module-email "email: Package supporting the parsing, manipulating, and generating email messages.") module if the charset itself contains undecodable/unencodable characters.
  * [bpo-46841](https://bugs.python.org/issue?@action=redirect&bpo=46841): Disassembly of quickened code.
  * [bpo-46681](https://bugs.python.org/issue?@action=redirect&bpo=46681): Forward gzip.compress() compresslevel to zlib.
  * [bpo-45100](https://bugs.python.org/issue?@action=redirect&bpo=45100): Add [`typing.get_overloads()`](https://docs.python.org/3/library/typing.html#typing.get_overloads "typing.get_overloads") and [`typing.clear_overloads()`](https://docs.python.org/3/library/typing.html#typing.clear_overloads "typing.clear_overloads"). Patch by Jelle Zijlstra.
  * [bpo-44807](https://bugs.python.org/issue?@action=redirect&bpo=44807): [`typing.Protocol`](https://docs.python.org/3/library/typing.html#typing.Protocol "typing.Protocol") no longer silently replaces `__init__()` methods defined on subclasses.