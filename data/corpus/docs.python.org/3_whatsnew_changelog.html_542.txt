Title: Python 3.7 Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines various bug fixes and enhancements introduced in Python 3.7, including changes to pydoc for `sys.path`, the addition of the `SameSite` cookie flag in `http.cookies`, modifications to `sys.path_importer_cache`, and the consistent raising of `IndexError` by `random.Random.choice()` for empty sequences.
---

(The regression was introduced in 3.7.0b3 by the resolution of [bpo-33053](https://bugs.python.org/issue?@action=redirect&bpo=33053))
This fix also changed pydoc to add `os.getcwd()` to [`sys.path`](https://docs.python.org/3/library/sys.html#sys.path "sys.path") when necessary, rather than adding `"."`.
  * [bpo-29613](https://bugs.python.org/issue?@action=redirect&bpo=29613): Added support for the `SameSite` cookie flag to the `http.cookies` module.
  * [bpo-33169](https://bugs.python.org/issue?@action=redirect&bpo=33169): Delete entries of `None` in [`sys.path_importer_cache`](https://docs.python.org/3/library/sys.html#sys.path_importer_cache "sys.path_importer_cache") when `importlib.machinery.invalidate_caches()` is called.
  * [bpo-33203](https://bugs.python.org/issue?@action=redirect&bpo=33203): `random.Random.choice()` now raises `IndexError` for empty sequences consistently even when called from subclasses without a `getrandbits()` implementation.
  * [bpo-33224](https://bugs.python.org/issue?@action=redirect&bpo=33224): Update difflib.mdiff() for [**PEP 479**](https://peps.python.org/pep-0479/). Convert an uncaught StopIteration in a generator into a return-statement.
  * [bpo-33209](https://bugs.python.org/issue?@action=redirect&bpo=33209): End framing at the end of C implementation of [`pickle.Pickler.dump()`](https://docs.python.org/3/library/pickle.html#pickle.Pickler.dump "pickle.Pickler.dump").
  * [bpo-32861](https://bugs.python.org/issue?@action=redirect&bpo=32861): The urllib.robotparser’s `__str__` representation now includes wildcard entries and the “Crawl-delay” and “Request-rate” fields. Also removes extra newlines that were being appended to the end of the string. Patch by Michael Lazar.
  * [bpo-23403](https://bugs.python.org/issue?@action=redirect&bpo=23403): `DEFAULT_PROTOCOL` in [`pickle`](https://docs.python.org/3/library/pickle.html#module-pickle "pickle: Convert Python objects to streams of bytes and back.") was bumped to 4. Protocol 4 is described in [**PEP 3154**](https://peps.python.org/pep-3154/) and available since Python 3.4. It offers better performance and smaller size compared to protocol 3 introduced in Python 3.0.
  * [bpo-20104](https://bugs.python.org/issue?@action=redirect&bpo=20104): Improved error handling and fixed a reference leak in [`os.posix_spawn()`](https://docs.python.org/3/library/os.html#os.posix_spawn "os.posix_spawn").
  * [bpo-33106](https://bugs.python.org/issue?@action=redirect&bpo=33106): Deleting a key from a read-only dbm database raises module specific error instead of KeyError.
  * [bpo-33175](https://bugs.python.org/issue?@action=redirect&bpo=33175): In dataclasses, Field.__set_name__ now looks up the __set_name__ special method on the class, not the instance, of the default value.
  * [bpo-32380](https://bugs.python.org/issue?@action=redirect&bpo=32380): Create functools.singledispatchmethod to support generic single dispatch on descriptors and methods.
  * [bpo-33141](https://bugs.python.org/issue?@action=redirect&bpo=33141): Have Field objects pass through __set_name__ to their default values, if they have their own __set_name__.
  * [bpo-33096](https://bugs.python.org/issue?@action=redirect&bpo=33096): Allow ttk.Treeview.insert to insert iid that has a false boolean value. Note iid=0 and iid=False would be same. Patch by Garvit Khatri.
  * [bpo-32873](https://bugs.python.org/issue?@action=redirect&bpo=32873): Treat type variables and special typing forms as immutable by copy and pickle. This fixes several minor issues and inconsistencies, and improves backwards compatibility with Python 3.6.
  * [bpo-33134](https://bugs.python.org/issue?@action=redirect&bpo=33134): When computing dataclass’s __hash__, use the lookup table to contain the function which returns the __hash__ value.