Title: Mailbox.Babyl Class in Python's mailbox Module
URL: https://docs.python.org/3/library/mailbox.html
Summary: The `mailbox.Babyl` class is a subclass of `Mailbox` designed for handling Babyl format mailboxes. It allows the specification of a custom message representation through a factory function, defaults to `BabylMessage`, and can create the mailbox if it does not exist. The Babyl format is characterized by specific control characters marking the beginning and end of messages.
---

_class_ mailbox.Babyl(_path_ , _factory =None_, _create =True_)[¶](https://docs.python.org/3/library/mailbox.html#mailbox.Babyl "Link to this definition")
    
A subclass of [`Mailbox`](https://docs.python.org/3/library/mailbox.html#mailbox.Mailbox "mailbox.Mailbox") for mailboxes in Babyl format. Parameter _factory_ is a callable object that accepts a file-like message representation (which behaves as if opened in binary mode) and returns a custom representation. If _factory_ is `None`, [`BabylMessage`](https://docs.python.org/3/library/mailbox.html#mailbox.BabylMessage "mailbox.BabylMessage") is used as the default message representation. If _create_ is `True`, the mailbox is created if it does not exist.
Babyl is a single-file mailbox format used by the Rmail mail user agent included with Emacs. The beginning of a message is indicated by a line containing the two characters Control-Underscore (`'\037'`) and Control-L (`'\014'`). The end of a message is indicated by the start of the next message or, in the case of the last message, a line containing a Control-Underscore (`'\037'`) character.
Messages in a Babyl mailbox have two sets of headers, original headers and so-called visible headers. Visible headers are typically a subset of the original headers that have been reformatted or abridged to be more attractive. Each message in a Babyl mailbox also has an accompanying list of _labels_ , or short strings that record extra information about the message, and a list of all user-defined labels found in the mailbox is kept in the Babyl options section.
`Babyl` instances have all of the methods of [`Mailbox`](https://docs.python.org/3/library/mailbox.html#mailbox.Mailbox "mailbox.Mailbox") in addition to the following: 

get_labels()[¶](https://docs.python.org/3/library/mailbox.html#mailbox.Babyl.get_labels "Link to this definition")
    
Return a list of the names of all user-defined labels used in the mailbox.
Note
The actual messages are inspected to determine which labels exist in the mailbox rather than consulting the list of labels in the Babyl options section, but the Babyl section is updated whenever the mailbox is modified.
Some [`Mailbox`](https://docs.python.org/3/library/mailbox.html#mailbox.Mailbox "mailbox.Mailbox") methods implemented by `Babyl` deserve special remarks: 

get_file(_key_)[¶](https://docs.python.org/3/library/mailbox.html#mailbox.Babyl.get_file "Link to this definition")
    
In Babyl mailboxes, the headers of a message are not stored contiguously with the body of the message. To generate a file-like representation, the headers and body are copied together into an [`io.BytesIO`](https://docs.python.org/3/library/io.html#io.BytesIO "io.BytesIO") instance, which has an API identical to that of a file. As a result, the file-like object is truly independent of the underlying mailbox but does not save memory compared to a string representation. 

lock()[¶](https://docs.python.org/3/library/mailbox.html#mailbox.Babyl.lock "Link to this definition")


unlock()[¶](https://docs.python.org/3/library/mailbox.html#mailbox.Babyl.unlock "Link to this definition")
    
Three locking mechanisms are used—dot locking and, if available, the `flock()` and `lockf()` system calls.
See also 

[Format of Version 5 Babyl Files](https://quimby.gnus.org/notes/BABYL)
    
A specification of the Babyl format. 

[Reading Mail with Rmail](https://www.gnu.org/software/emacs/manual/html_node/emacs/Rmail.html)
    
The Rmail manual, with some information on Babyl semantics.
### `MMDF` objects[¶](https://docs.python.org/3/library/mailbox.html#mmdf-objects "Link to this heading")