Title: Python Library Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section summarizes recent updates to the Python standard library, including enhancements to functools.lru_cache(), improvements in the tempfile module, expanded functionality in collections.UserString, error handling improvements in strftime, and the introduction of the typing module.
---

### Library[Â¶](https://docs.python.org/3/whatsnew/changelog.html#id770 "Link to this heading")
  * [bpo-14373](https://bugs.python.org/issue?@action=redirect&bpo=14373): Added C implementation of functools.lru_cache(). Based on patches by Matt Joiner and Alexey Kachayev.
  * [bpo-24230](https://bugs.python.org/issue?@action=redirect&bpo=24230): The tempfile module now accepts bytes for prefix, suffix and dir parameters and returns bytes in such situations (matching the os module APIs).
  * [bpo-22189](https://bugs.python.org/issue?@action=redirect&bpo=22189): collections.UserString now supports __getnewargs__(), __rmod__(), casefold(), format_map(), isprintable(), and maketrans(). Patch by Joe Jevnik.
  * [bpo-24244](https://bugs.python.org/issue?@action=redirect&bpo=24244): Prevents termination when an invalid format string is encountered on Windows in strftime.
  * [bpo-23973](https://bugs.python.org/issue?@action=redirect&bpo=23973): PEP 484: Add the typing module.
  * [bpo-23086](https://bugs.python.org/issue?@action=redirect&bpo=23086): The collections.abc.Sequence() abstract base class added _start_ and _stop_ parameters to the index() mixin. Patch by Devin Jeanpierre.
  * [bpo-20035](https://bugs.python.org/issue?@action=redirect&bpo=20035): Replaced the `tkinter._fix` module used for setting up the Tcl/Tk environment on Windows with a private function in the `_tkinter` module that makes no permanent changes to the environment.
  * [bpo-24257](https://bugs.python.org/issue?@action=redirect&bpo=24257): Fixed segmentation fault in sqlite3.Row constructor with faked cursor type.
  * [bpo-15836](https://bugs.python.org/issue?@action=redirect&bpo=15836): assertRaises(), assertRaisesRegex(), assertWarns() and assertWarnsRegex() assertments now check the type of the first argument to prevent possible user error. Based on patch by Daniel Wagner-Hall.
  * [bpo-9858](https://bugs.python.org/issue?@action=redirect&bpo=9858): Add missing method stubs to _io.RawIOBase. Patch by Laura Rupprecht.
  * [bpo-22955](https://bugs.python.org/issue?@action=redirect&bpo=22955): attrgetter, itemgetter and methodcaller objects in the operator module now support pickling. Added readable and evaluable repr for these objects. Based on patch by Josh Rosenberg.
  * [bpo-22107](https://bugs.python.org/issue?@action=redirect&bpo=22107): tempfile.gettempdir() and tempfile.mkdtemp() now try again when a directory with the chosen name already exists on Windows as well as on Unix. tempfile.mkstemp() now fails early if parent directory is not valid (not exists or is a file) on Windows.
  * [bpo-23780](https://bugs.python.org/issue?@action=redirect&bpo=23780): Improved error message in os.path.join() with single argument.
  * [bpo-6598](https://bugs.python.org/issue?@action=redirect&bpo=6598): Increased time precision and random number range in email.utils.make_msgid() to strengthen the uniqueness of the message ID.
  * [bpo-24091](https://bugs.python.org/issue?@action=redirect&bpo=24091): Fixed various crashes in corner cases in C implementation of ElementTree.
  * [bpo-21931](https://bugs.python.org/issue?@action=redirect&bpo=21931): msilib.FCICreate() now raises TypeError in the case of a bad argument instead of a ValueError with a bogus FCI error number. Patch by Jeffrey Armstrong.
  * [bpo-13866](https://bugs.python.org/issue?@action=redirect&bpo=13866): _quote_via_ argument added to urllib.parse.urlencode.
  * [bpo-20098](https://bugs.python.org/issue?@action=redirect&bpo=20098): New mangle_from policy option for email, default True for compat32, but False for all other policies.
  * [bpo-24211](https://bugs.python.org/issue?@action=redirect&bpo=24211): The email library now supports RFC 6532: it can generate headers using utf-8 instead of encoded words.
  * [bpo-16314](https://bugs.python.org/issue?@action=redirect&bpo=16314): Added support for the LZMA compression in distutils.
  * [bpo-21804](https://bugs.python.org/issue?@action=redirect&bpo=21804): poplib now supports RFC 6856 (UTF8).
  * [bpo-18682](https://bugs.python.org/issue?@action=redirect&bpo=18682): Optimized pprint functions for builtin scalar types.
  * [bpo-22027](https://bugs.python.org/issue?@action=redirect&bpo=22027): smtplib now supports RFC 6531 (SMTPUTF8).
  * [bpo-23488](https://bugs.python.org/issue?@action=redirect&bpo=23488): Random generator objects now consume 2x less memory on 64-bit.
  * [bpo-1322](https://bugs.python.org/issue?@action=redirect&bpo=1322): platform.dist() and platform.linux_distribution() functions are now deprecated. Initial patch by Vajrasky Kok.
  * [bpo-22486](https://bugs.python.org/issue?@action=redirect&bpo=22486): Added the math.gcd() function. The fractions.gcd() function now is deprecated. Based on patch by Mark Dickinson.
  * [bpo-24064](https://bugs.python.org/issue?@action=redirect&bpo=24064): Property() docstrings are now writeable. (Patch by Berker Peksag.)
  * [bpo-22681](https://bugs.python.org/issue?@action=redirec