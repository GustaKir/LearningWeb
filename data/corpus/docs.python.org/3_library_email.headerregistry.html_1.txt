Title: Custom Header Objects in Email Library
URL: https://docs.python.org/3/library/email.headerregistry.html
Summary: This section details the representation of email headers using customized subclasses of str, determined by the header_factory of the current email policy. It discusses the implementation of header_factory and how it influences the creation of headers.
---

# `email.headerregistry`: Custom Header Objects[¶](https://docs.python.org/3/library/email.headerregistry.html#module-email.headerregistry "Link to this heading")
**Source code:** [Lib/email/headerregistry.py](https://github.com/python/cpython/tree/3.13/Lib/email/headerregistry.py)
Added in version 3.6: [[1]](https://docs.python.org/3/library/email.headerregistry.html#id2)
Headers are represented by customized subclasses of [`str`](https://docs.python.org/3/library/stdtypes.html#str "str"). The particular class used to represent a given header is determined by the [`header_factory`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy.header_factory "email.policy.EmailPolicy.header_factory") of the [`policy`](https://docs.python.org/3/library/email.policy.html#module-email.policy "email.policy: Controlling the parsing and generating of messages") in effect when the headers are created. This section documents the particular `header_factory` implemented by the email package for handling [**RFC 5322**](https://datatracker.ietf.org/doc/html/rfc5322.html) compliant email messages, which not only provides customized header objects for various header types, but also provides an extension mechanism for applications to add their own custom header types.
When using any of the policy objects derived from [`EmailPolicy`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy "email.policy.EmailPolicy"), all headers are produced by [`HeaderRegistry`](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.HeaderRegistry "email.headerregistry.HeaderRegistry") and have [`BaseHeader`](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.BaseHeader "email.headerregistry.BaseHeader") as their last base class. Each header class has an additional base class that is determined by the type of the header. For example, many headers have the class [`UnstructuredHeader`](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.UnstructuredHeader "email.headerregistry.UnstructuredHeader") as their other base class. The specialized second class for a header is determined by the name of the header, using a lookup table stored in the [`HeaderRegistry`](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.HeaderRegistry "email.headerregistry.HeaderRegistry"). All of this is managed transparently for the typical application program, but interfaces are provided for modifying the default behavior for use by more complex applications.
The sections below first document the header base classes and their attributes, followed by the API for modifying the behavior of [`HeaderRegistry`](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.HeaderRegistry "email.headerregistry.HeaderRegistry"), and finally the support classes used to represent the data parsed from structured headers. 

_class_ email.headerregistry.BaseHeader(_name_ , _value_)[¶](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.BaseHeader "Link to this definition")
    
_name_ and _value_ are passed to `BaseHeader` from the [`header_factory`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy.header_factory "email.policy.EmailPolicy.header_factory") call. The string value of any header object is the _value_ fully decoded to unicode.
This base class defines the following read-only properties: 

name[¶](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.BaseHeader.name "Link to this definition")
    
The name of the header (the portion of the field before the ‘:’). This is exactly the value passed in the [`header_factory`](https://docs.python.org/3/library/email.policy.html#email.policy.EmailPolicy.header_factory "email.policy.EmailPolicy.header_factory") call for _name_ ; that is, case is preserved. 

defects[¶](https://docs.python.org/3/library/email.headerregistry.html#email.headerregistry.BaseHeader.defects "Link to this definition")
    
A tuple of [`HeaderDefect`](https://docs.python.org/3/library/email.errors.html#email.errors.HeaderDefect "email.errors.HeaderDefect") instances reporting any RFC compliance problems found during parsing. The email package tries to be complete about detecting compliance issues. See the [`errors`](https://docs.python.org/3/library/email.errors.html#module-email.errors "email.errors: The exception classes used by the email package.") module for a discussion of the types of defects that may be reported.