Title: Python 3 Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section outlines key changes in Python 3, including enhancements for `fractions.Fraction`, improvements in `http.server` for serving index pages, performance optimizations in `asyncio.get_running_loop()`, and a fix for crashing instances of `_ctypes.CField`.
---

action "fractions.Fraction") is an integer. This improves duck type compatibility with [`float`](https://docs.python.org/3/library/functions.html#float "float") and [`int`](https://docs.python.org/3/library/functions.html#int "int").
  * [gh-100474](https://github.com/python/cpython/issues/100474): [`http.server`](https://docs.python.org/3/library/http.server.html#module-http.server "http.server: HTTP server and request handlers.") now checks that an index page is actually a regular file before trying to serve it. This avoids issues with directories named `index.html`.
  * [gh-100363](https://github.com/python/cpython/issues/100363): Speed up [`asyncio.get_running_loop()`](https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_running_loop "asyncio.get_running_loop") by removing redundant `getpid` checks. Patch by Kumar Aditya.
  * [gh-78878](https://github.com/python/cpython/issues/78878): Fix crash when creating an instance of `_ctypes.CField`.
  * [gh-100348](https://github.com/python/cpython/issues/100348): Fix ref cycle in `asyncio._SelectorSocketTransport` by removing `_read_ready_cb` in `close`.
  * [gh-100344](https://github.com/python/cpython/issues/100344): Provide C implementation for [`asyncio.current_task()`](https://docs.python.org/3/library/asyncio-task.html#asyncio.current_task "asyncio.current_task") for a 4x-6x speedup.
  * [gh-100272](https://github.com/python/cpython/issues/100272): Fix JSON serialization of OrderedDict. It now preserves the order of keys.
  * [gh-83076](https://github.com/python/cpython/issues/83076): Instantiation of `Mock()` and `AsyncMock()` is now 3.8x faster.
  * [gh-100234](https://github.com/python/cpython/issues/100234): Set a default value of 1.0 for the `lambd` parameter in random.expovariate().
  * [gh-100228](https://github.com/python/cpython/issues/100228): A [`DeprecationWarning`](https://docs.python.org/3/library/exceptions.html#DeprecationWarning "DeprecationWarning") may be raised when [`os.fork()`](https://docs.python.org/3/library/os.html#os.fork "os.fork") or [`os.forkpty()`](https://docs.python.org/3/library/os.html#os.forkpty "os.forkpty") is called from multi-threaded processes. Forking with threads is unsafe and can cause deadlocks, crashes and subtle problems. Lack of a warning does not indicate that the fork call was actually safe, as Python may not be aware of all threads.
  * [gh-100039](https://github.com/python/cpython/issues/100039): Improve signatures for enums and flags.
  * [gh-100133](https://github.com/python/cpython/issues/100133): Fix regression in [`asyncio`](https://docs.python.org/3/library/asyncio.html#module-asyncio "asyncio: Asynchronous I/O.") where a subprocess would sometimes lose data received from pipe.
  * [bpo-44592](https://bugs.python.org/issue?@action=redirect&bpo=44592): Fixes inconsistent handling of case sensitivity of _extrasaction_ arg in [`csv.DictWriter`](https://docs.python.org/3/library/csv.html#csv.DictWriter "csv.DictWriter").
  * [gh-100098](https://github.com/python/cpython/issues/100098): Fix `tuple` subclasses being cast to `tuple` when used as enum values.
  * [gh-85432](https://github.com/python/cpython/issues/85432): Rename the _fmt_ parameter of the pure-Python implementation of [`datetime.time.strftime()`](https://docs.python.org/3/library/datetime.html#datetime.time.strftime "datetime.time.strftime") to _format_. Rename the _t_ parameter of [`datetime.datetime.fromtimestamp()`](https://docs.python.org/3/library/datetime.html#datetime.datetime.fromtimestamp "datetime.datetime.fromtimestamp") to _timestamp_. These changes mean the parameter names in the pure-Python implementation now match the parameter names in the C implementation. Patch by Alex Waygood.
  * [gh-98778](https://github.com/python/cpython/issues/98778): Update [`HTTPError`](https://docs.python.org/3/library/urllib.error.html#urllib.error.HTTPError "urllib.error.HTTPError") to be initialized properly, even if the `fp` is `None`. Patch by Donghee Na.
  * [gh-99925](https://github.com/python/cpython/issues/99925): Unify error messages in JSON serialization between `json.dumps(float('nan'), allow_nan=False)` and `json.dumps(float('nan'), allow_nan=False, indent=<SOMETHING>)`.