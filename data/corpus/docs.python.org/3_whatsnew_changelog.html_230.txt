Title: Python Library Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section highlights recent updates to the Python standard library, including a fix for `subprocess.wait_closed()` in `asyncio` on Windows, changes to `tkinter.Text.count()` for handling option arguments, and modifications to the `os` module that no longer accept bytes-like paths.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id207 "Link to this heading")
  * [gh-89237](https://github.com/python/cpython/issues/89237): Fix hang on Windows in `subprocess.wait_closed()` in [`asyncio`](https://docs.python.org/3/library/asyncio.html#module-asyncio "asyncio: Asynchronous I/O.") with [`ProactorEventLoop`](https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop "asyncio.ProactorEventLoop"). Patch by Kumar Aditya.
  * [gh-97928](https://github.com/python/cpython/issues/97928): `tkinter.Text.count()` raises now an exception for options starting with “-” instead of silently ignoring them.
  * [gh-98393](https://github.com/python/cpython/issues/98393): The [`os`](https://docs.python.org/3/library/os.html#module-os "os: Miscellaneous operating system interfaces.") module no longer accepts bytes-like paths, like [`bytearray`](https://docs.python.org/3/library/stdtypes.html#bytearray "bytearray") and [`memoryview`](https://docs.python.org/3/library/stdtypes.html#memoryview "memoryview") types: only the exact [`bytes`](https://docs.python.org/3/library/stdtypes.html#bytes "bytes") type is accepted for bytes strings. Patch by Victor Stinner.
  * [gh-98363](https://github.com/python/cpython/issues/98363): Added itertools.batched() to batch data into lists of a given length with the last list possibly being shorter than the others.
  * [gh-98331](https://github.com/python/cpython/issues/98331): Update the bundled copies of pip and setuptools to versions 22.3 and 65.5.0 respectively.
  * [gh-98307](https://github.com/python/cpython/issues/98307): A [`createSocket()`](https://docs.python.org/3/library/logging.handlers.html#logging.handlers.SysLogHandler.createSocket "logging.handlers.SysLogHandler.createSocket") method was added to [`SysLogHandler`](https://docs.python.org/3/library/logging.handlers.html#logging.handlers.SysLogHandler "logging.handlers.SysLogHandler").
  * [gh-96035](https://github.com/python/cpython/issues/96035): Fix bug in [`urllib.parse.urlparse()`](https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse "urllib.parse.urlparse") that causes certain port numbers containing whitespace, underscores, plus and minus signs, or non-ASCII digits to be incorrectly accepted.
  * [gh-98257](https://github.com/python/cpython/issues/98257): Make [`sys.setprofile()`](https://docs.python.org/3/library/sys.html#sys.setprofile "sys.setprofile") and [`sys.settrace()`](https://docs.python.org/3/library/sys.html#sys.settrace "sys.settrace") functions reentrant. They can no long fail with: `RuntimeError("Cannot install a trace function while another trace function is being installed")`. Patch by Victor Stinner.
  * [gh-98251](https://github.com/python/cpython/issues/98251): Allow [`venv`](https://docs.python.org/3/library/venv.html#module-venv "venv: Creation of virtual environments.") to pass along `PYTHON*` variables to `ensurepip` and `pip` when they do not impact path resolution
  * [gh-94597](https://github.com/python/cpython/issues/94597): Deprecated [`asyncio.AbstractEventLoopPolicy.get_child_watcher()`](https://docs.python.org/3/library/asyncio-policy.html#asyncio.AbstractEventLoopPolicy.get_child_watcher "asyncio.AbstractEventLoopPolicy.get_child_watcher") and [`asyncio.AbstractEventLoopPolicy.set_child_watcher()`](https://docs.python.org/3/library/asyncio-policy.html#asyncio.AbstractEventLoopPolicy.set_child_watcher "asyncio.AbstractEventLoopPolicy.set_child_watcher") methods to be removed in Python 3.14. Patch by Kumar Aditya.
  * [gh-98178](https://github.com/python/cpython/issues/98178): On macOS, fix a crash in [`syslog.syslog()`](https://docs.python.org/3/library/syslog.html#syslog.syslog "syslog.syslog") in multi-threaded applications. On macOS, the libc `syslog()` function is not thread-safe, so [`syslog.syslog()`](https://docs.python.org/3/library/syslog.html#syslog.syslog "syslog.syslog") no longer releases the GIL to call it. Patch by Victor Stinner.
  * [gh-44098](https://github.com/python/cpython/issues/44098): Release the GIL when creating [`mmap.mmap`](https://docs.python.org/3/library/mmap.html#mmap.mmap "mmap.mmap") objects on Unix.
  * [gh-87730](https://github.com/python/cpython/issues/87730): Wrap network errors consistently in urllib FTP support, so the test suite doesn’t fail when a network is available but the public internet is not reachable.
  * [gh-94597](https://github.com/python/cpython/issues/94597): The child watcher classes [`MultiLoopChildWatcher`](https://docs.python.org/3/library/asyncio-policy.html#asyncio.MultiLoopChildWatcher "asyncio.MultiLoopChildWatcher"), [`FastChildWatcher`](https://docs.python.org/3/library/asyncio-policy.html#asyncio.FastChildWatcher "asyncio.FastChildWatcher") and [`SafeChildWatcher`](https://docs.python.org/3/library/asyncio-policy.html#asyncio.SafeChildWatcher "asyncio.SafeChildWatcher") are deprecated and will be removed in Python 3.14. Patch by Kumar Aditya.
  * [gh