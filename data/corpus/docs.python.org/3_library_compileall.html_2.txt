Title: Options for Managing Duplicate .pyc Files in compileall
URL: https://docs.python.org/3/library/compileall.html
Summary: The `--hardlink-dupes` option in the `compileall` module allows for the use of hard links to consolidate duplicate `.pyc` files with different optimization levels but identical content. Several options have been added over various Python versions to enhance functionality, including options for invalidation mode and recursion limits.
---

--hardlink-dupes[¶](https://docs.python.org/3/library/compileall.html#cmdoption-compileall-hardlink-dupes "Link to this definition")
    
If two `.pyc` files with different optimization level have the same content, use hard links to consolidate duplicate files.
Changed in version 3.2: Added the `-i`, `-b` and `-h` options.
Changed in version 3.5: Added the `-j`, `-r`, and `-qq` options. `-q` option was changed to a multilevel value. `-b` will always produce a byte-code file ending in `.pyc`, never `.pyo`.
Changed in version 3.7: Added the `--invalidation-mode` option.
Changed in version 3.9: Added the `-s`, `-p`, `-e` and `--hardlink-dupes` options. Raised the default recursion limit from 10 to [`sys.getrecursionlimit()`](https://docs.python.org/3/library/sys.html#sys.getrecursionlimit "sys.getrecursionlimit"). Added the possibility to specify the `-o` option multiple times.
There is no command-line option to control the optimization level used by the [`compile()`](https://docs.python.org/3/library/functions.html#compile "compile") function, because the Python interpreter itself already provides the option: **python -O -m compileall**.
Similarly, the [`compile()`](https://docs.python.org/3/library/functions.html#compile "compile") function respects the [`sys.pycache_prefix`](https://docs.python.org/3/library/sys.html#sys.pycache_prefix "sys.pycache_prefix") setting. The generated bytecode cache will only be useful if [`compile()`](https://docs.python.org/3/library/functions.html#compile "compile") is run with the same [`sys.pycache_prefix`](https://docs.python.org/3/library/sys.html#sys.pycache_prefix "sys.pycache_prefix") (if any) that will be used at runtime.
## Public functions[¶](https://docs.python.org/3/library/compileall.html#public-functions "Link to this heading")