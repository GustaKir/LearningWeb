Title: Python Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section includes notable bug fixes and improvements such as adjustments to source locations for 'with' statement cleanups, the subclassing of 'FrameLocalsProxy' from 'collections.abc.Mapping', and a fix for 'PyEval_GetLocals()' to prevent SystemError.
---

* to [`__static_attributes__`](https://docs.python.org/3/reference/datamodel.html#type.__static_attributes__ "type.__static_attributes__").
  * [gh-98442](https://github.com/python/cpython/issues/98442): Fix too wide source locations of the cleanup instructions of a with statement.
  * [gh-93691](https://github.com/python/cpython/issues/93691): Fix source locations of instructions generated for with statements.
  * [gh-120097](https://github.com/python/cpython/issues/120097): `FrameLocalsProxy` now subclasses `collections.abc.Mapping` and can be matched as a mapping in `match` statements


### C API[¶](https://docs.python.org/3/whatsnew/changelog.html#id46 "Link to this heading")
  * [gh-122728](https://github.com/python/cpython/issues/122728): Fix [`PyEval_GetLocals()`](https://docs.python.org/3/c-api/reflection.html#c.PyEval_GetLocals "PyEval_GetLocals") to avoid [`SystemError`](https://docs.python.org/3/library/exceptions.html#SystemError "SystemError") (“bad argument to internal function”). Patch by Victor Stinner.


### Build[¶](https://docs.python.org/3/whatsnew/changelog.html#id47 "Link to this heading")
  * [gh-123418](https://github.com/python/cpython/issues/123418): Updated Android build to use OpenSSL 3.0.15.
  * [gh-123297](https://github.com/python/cpython/issues/123297): Propagate the value of `LDFLAGS` to `LDCXXSHARED` in [`sysconfig`](https://docs.python.org/3/library/sysconfig.html#module-sysconfig "sysconfig: Python's configuration information"). Patch by Pablo Galindo
  * [gh-116622](https://github.com/python/cpython/issues/116622): Rename build variable `MODULE_LDFLAGS` back to `LIBPYTHON`, as it’s used by package build systems (e.g. Meson).
  * [gh-118943](https://github.com/python/cpython/issues/118943): Fix an issue where the experimental JIT could be built several times by the `make regen-all` target, leading to possible race conditions on heavily parallelized builds.
  * [gh-118943](https://github.com/python/cpython/issues/118943): Fix a possible race condition affecting parallel builds configured with `--enable-experimental-jit`, in which [`FileNotFoundError`](https://docs.python.org/3/library/exceptions.html#FileNotFoundError "FileNotFoundError") could be caused by another process already moving `jit_stencils.h.new` to `jit_stencils.h`.


## Python 3.13.0 release candidate 1[¶](https://docs.python.org/3/whatsnew/changelog.html#python-3-13-0-release-candidate-1 "Link to this heading")
_Release date: 2024-07-31_
### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id48 "Link to this heading")
  * [gh-59022](https://github.com/python/cpython/issues/59022): Add tests for [`pkgutil.extend_path()`](https://docs.python.org/3/library/pkgutil.html#pkgutil.extend_path "pkgutil.extend_path"). Patch by Andreas Stocker.
  * [gh-99242](https://github.com/python/cpython/issues/99242): [`os.getloadavg()`](https://docs.python.org/3/library/os.html#os.getloadavg "os.getloadavg") may throw [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError") when running regression tests under certain conditions (e.g. chroot). This error is now caught and ignored, since reporting load average is optional.


### Security[¶](https://docs.python.org/3/whatsnew/changelog.html#id49 "Link to this heading")
  * [gh-122133](https://github.com/python/cpython/issues/122133): Authenticate the socket connection for the `socket.socketpair()` fallback on platforms where `AF_UNIX` is not available like Windows.
Patch by Gregory P. Smith <greg@krypto.org> and Seth Larson <seth@python.org>. Reported by Ellie <el@horse64.org>
  * [gh-121957](https://github.com/python/cpython/issues/121957): Fixed missing audit events around interactive use of Python, now also properly firing for `python -i`, as well as for `python -m asyncio`. The events in question are `cpython.run_stdin` and `cpython.run_startup`.