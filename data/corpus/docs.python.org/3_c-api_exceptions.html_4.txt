Title: Python C API: Error Handling Functions
URL: https://docs.python.org/3/c-api/exceptions.html
Summary: This documentation chunk describes the function `PyErr_SetFromErrnoWithFilename`, which sets an error from a given errno and filename as a C string, returning NULL. It mentions that the filename is decoded from the filesystem encoding and discusses its relation to the Stable ABI.
---

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyErr_SetFromErrnoWithFilename([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*type, constchar*filename)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromErrnoWithFilename "Link to this definition")
    _Return value: Always NULL.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable)._
Similar to [`PyErr_SetFromErrnoWithFilenameObject()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromErrnoWithFilenameObject "PyErr_SetFromErrnoWithFilenameObject"), but the filename is given as a C string. _filename_ is decoded from the [filesystem encoding and error handler](https://docs.python.org/3/glossary.html#term-filesystem-encoding-and-error-handler). 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyErr_SetFromWindowsErr(intierr)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromWindowsErr "Link to this definition")
    _Return value: Always NULL.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) on Windows since version 3.7._
This is a convenience function to raise [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError"). If called with _ierr_ of `0`, the error code returned by a call to `GetLastError()` is used instead. It calls the Win32 function `FormatMessage()` to retrieve the Windows description of error code given by _ierr_ or `GetLastError()`, then it constructs a [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError") object with the [`winerror`](https://docs.python.org/3/library/exceptions.html#OSError.winerror "OSError.winerror") attribute set to the error code, the [`strerror`](https://docs.python.org/3/library/exceptions.html#OSError.strerror "OSError.strerror") attribute set to the corresponding error message (gotten from `FormatMessage()`), and then calls `PyErr_SetObject(PyExc_OSError, object)`. This function always returns `NULL`.
[Availability](https://docs.python.org/3/library/intro.html#availability): Windows. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyErr_SetExcFromWindowsErr([PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*type, intierr)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetExcFromWindowsErr "Link to this definition")
    _Return value: Always NULL.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) on Windows since version 3.7._
Similar to [`PyErr_SetFromWindowsErr()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromWindowsErr "PyErr_SetFromWindowsErr"), with an additional parameter specifying the exception type to be raised.
[Availability](https://docs.python.org/3/library/intro.html#availability): Windows. 

[PyObject](https://docs.python.org/3/c-api/structures.html#c.PyObject "PyObject")*PyErr_SetFromWindowsErrWithFilename(intierr, constchar*filename)[¶](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromWindowsErrWithFilename "Link to this definition")
    _Return value: Always NULL.__Part of the[ Stable ABI](https://docs.python.org/3/c-api/stable.html#stable) on Windows since version 3.7._
Similar to [`PyErr_SetFromWindowsErr()`](https://docs.python.org/3/c-api/exceptions.html#c.PyErr_SetFromWindowsErr "PyErr_SetFromWindowsErr"), with the additional behavior that if _filename_ is not `NULL`, it is decoded from the filesystem encoding ([`os.fsdecode()`](https://docs.python.org/3/library/os.html#os.fsdecode "os.fsdecode")) and passed to the constructor of [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError") as a third parameter to be used to define the `filename` attribute of the exception instance.
[Availability](https://docs.python.org/3/library/intro.html#availability): Windows.