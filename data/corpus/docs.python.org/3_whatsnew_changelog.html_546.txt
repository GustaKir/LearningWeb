Title: Python 3.4 Bug Fixes and Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details bug fixes introduced in Python 3.4, including changes to the ctypes module, updates to the dbm.dumb database management system, the implementation of `asyncio.TimerHandle.when()` method, and modifications to module running in pdb.
---

This bug appears to have been introduced in 3.4.
  * [bpo-32647](https://bugs.python.org/issue?@action=redirect&bpo=32647): The ctypes module used to depend on indirect linking for dlopen. The shared extension is now explicitly linked against libdl on platforms with dl.
  * [bpo-32749](https://bugs.python.org/issue?@action=redirect&bpo=32749): A [`dbm.dumb`](https://docs.python.org/3/library/dbm.html#module-dbm.dumb "dbm.dumb: Portable implementation of the simple DBM interface.") database opened with flags ‘r’ is now read-only. [`dbm.dumb.open()`](https://docs.python.org/3/library/dbm.html#dbm.dumb.open "dbm.dumb.open") with flags ‘r’ and ‘w’ no longer creates a database if it does not exist.
  * [bpo-32741](https://bugs.python.org/issue?@action=redirect&bpo=32741): Implement `asyncio.TimerHandle.when()` method.
  * [bpo-32691](https://bugs.python.org/issue?@action=redirect&bpo=32691): Use mod_spec.parent when running modules with pdb
  * [bpo-32734](https://bugs.python.org/issue?@action=redirect&bpo=32734): Fixed `asyncio.Lock()` safety issue which allowed acquiring and locking the same lock multiple times, without it being free. Patch by Bar Harel.
  * [bpo-32727](https://bugs.python.org/issue?@action=redirect&bpo=32727): Do not include name field in SMTP envelope from address. Patch by Stéphane Wirtel
  * [bpo-31453](https://bugs.python.org/issue?@action=redirect&bpo=31453): Add TLSVersion constants and SSLContext.maximum_version / minimum_version attributes. The new API wraps OpenSSL 1.1 <https://web.archive.org/web/20180309043602/https://www.openssl.org/docs/man1.1.0/ssl/SSL_CTX_set_min_proto_version.html> feature.
  * [bpo-24334](https://bugs.python.org/issue?@action=redirect&bpo=24334): Internal implementation details of ssl module were cleaned up. The SSLSocket has one less layer of indirection. Owner and session information are now handled by the SSLSocket and SSLObject constructor. Channel binding implementation has been simplified.
  * [bpo-31848](https://bugs.python.org/issue?@action=redirect&bpo=31848): Fix the error handling in Aifc_read.initfp() when the SSND chunk is not found. Patch by Zackery Spytz.
  * [bpo-32585](https://bugs.python.org/issue?@action=redirect&bpo=32585): Add Ttk spinbox widget to [`tkinter.ttk`](https://docs.python.org/3/library/tkinter.ttk.html#module-tkinter.ttk "tkinter.ttk: Tk themed widget set"). Patch by Alan D Moore.
  * [bpo-32512](https://bugs.python.org/issue?@action=redirect&bpo=32512): [`profile`](https://docs.python.org/3/library/profile.html#module-profile "profile: Python source profiler.") CLI accepts `-m module_name` as an alternative to script path.
  * [bpo-8525](https://bugs.python.org/issue?@action=redirect&bpo=8525): help() on a type now displays builtin subclasses. This is intended primarily to help with notification of more specific exception subclasses.
Patch by Sanyam Khurana.
  * [bpo-31639](https://bugs.python.org/issue?@action=redirect&bpo=31639): http.server now exposes a ThreadingHTTPServer class and uses it when the module is run with `-m` to cope with web browsers pre-opening sockets.
  * [bpo-29877](https://bugs.python.org/issue?@action=redirect&bpo=29877): compileall: import ProcessPoolExecutor only when needed, preventing hangs on low resource platforms
  * [bpo-32221](https://bugs.python.org/issue?@action=redirect&bpo=32221): Various functions returning tuple containing IPv6 addresses now omit `%scope` part since the same information is already encoded in _scopeid_ tuple item. Especially this speeds up `socket.recvfrom()` when it receives multicast packet since useless resolving of network interface name is omitted.
  * [bpo-32147](https://bugs.python.org/issue?@action=redirect&bpo=32147): [`binascii.unhexlify()`](https://docs.python.org/3/library/binascii.html#binascii.unhexlify "binascii.unhexlify") is now up to 2 times faster. Patch by Sergey Fedoseev.
  * [bpo-30693](https://bugs.python.org/issue?@action=redirect&bpo=30693): The TarFile class now recurses directories in a reproducible way.
  * [bpo-30693](https://bugs.python.org/issue?@action=redirect&bpo=30693): The ZipFile class now recurses directories in a reproducible way.
  * [bpo-31680](https://bugs.python.org/issue?@action=redirect&bpo=31680): Added [`curses.ncurses_version`](https://docs.python.org/3/library/curses.html#curses.ncurses_version "curses.ncurses_version").
  * [bpo-31908](https://bugs.python.org/issue?@action=redirect&bpo=31908): Fix output of cover files for `trace` module command-line tool. Previously emitted cover files only when `--missing` option was used. Patch by Michael Selik.
  * [bpo-31608](https://bugs.python.org/issue?@action=redirect&bpo=31608): Raise a `TypeError` instead of crashing if a `collections.deque` subclass returns a non-deque from `__new__`. Patch by Oren Milman.
  * [bpo-31425](https://bugs.python.org/issue?@action=redirect&bpo=31425): Add support for sockets of the AF_QIPCRTR address family, supported by the Linux kernel.