Title: Python 3 Changelog Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: Recent changes include fixing a race condition in `sysconfig.get_config_var()` for multi-threaded programs, resolving an error with mocked methods in `unittest.mock`, and improvements to the `shutil.copytree()` function.
---

Aasland.
  * [gh-92452](https://github.com/python/cpython/issues/92452): Fixed a race condition that could cause [`sysconfig.get_config_var()`](https://docs.python.org/3/library/sysconfig.html#sysconfig.get_config_var "sysconfig.get_config_var") to incorrectly return [`None`](https://docs.python.org/3/library/constants.html#None "None") in multi-threaded programs.
  * [gh-91803](https://github.com/python/cpython/issues/91803): Fix an error when using a method of objects mocked with [`unittest.mock.create_autospec()`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.create_autospec "unittest.mock.create_autospec") after it was sealed with [`unittest.mock.seal()`](https://docs.python.org/3/library/unittest.mock.html#unittest.mock.seal "unittest.mock.seal") function.
  * [bpo-38523](https://bugs.python.org/issue?@action=redirect&bpo=38523): [`shutil.copytree()`](https://docs.python.org/3/library/shutil.html#shutil.copytree "shutil.copytree") now applies the _ignore_dangling_symlinks_ argument recursively.
  * [bpo-40358](https://bugs.python.org/issue?@action=redirect&bpo=40358): Add walk_up argument in [`pathlib.PurePath.relative_to()`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.relative_to "pathlib.PurePath.relative_to").
  * [bpo-36267](https://bugs.python.org/issue?@action=redirect&bpo=36267): Fix IndexError in [`argparse.ArgumentParser`](https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser "argparse.ArgumentParser") when a `store_true` action is given an explicit argument.


### Documentation[¶](https://docs.python.org/3/whatsnew/changelog.html#id199 "Link to this heading")
  * [gh-98832](https://github.com/python/cpython/issues/98832): Changes wording of docstring for [`pathlib.Path.iterdir()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.iterdir "pathlib.Path.iterdir").
  * [gh-97966](https://github.com/python/cpython/issues/97966): Update uname docs to clarify the special nature of the platform attribute and to indicate when it became late-bound.


### Tests[¶](https://docs.python.org/3/whatsnew/changelog.html#id200 "Link to this heading")
  * [gh-98903](https://github.com/python/cpython/issues/98903): The Python test suite now fails with exit code 4 if no tests ran. It should help detecting typos in test names and test methods.
  * [gh-98713](https://github.com/python/cpython/issues/98713): Fix a bug in the [`typing`](https://docs.python.org/3/library/typing.html#module-typing "typing: Support for type hints \(see :pep:`484`\).") tests where a test relying on CPython-specific implementation details was not decorated with `@cpython_only` and was not skipped on other implementations.
  * [gh-87390](https://github.com/python/cpython/issues/87390): Add tests for star-unpacking with PEP 646, and some other miscellaneous PEP 646 tests.
  * [gh-96853](https://github.com/python/cpython/issues/96853): Added explicit coverage of `Py_Initialize` (and hence `Py_InitializeEx`) back to the embedding tests (all other embedding tests migrated to `Py_InitializeFromConfig` in Python 3.11)
  * [bpo-34272](https://bugs.python.org/issue?@action=redirect&bpo=34272): Some C API tests were moved into the new Lib/test/test_capi/ directory.