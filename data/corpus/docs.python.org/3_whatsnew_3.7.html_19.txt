Title: Python 3.7 Updates: New OS Functions and Changes
URL: https://docs.python.org/3/whatsnew/3.7.html
Summary: Python 3.7 introduces the `os.preadv()` and `os.pwritev()` functions, which merge the functionalities of existing read and write functions. Additionally, the `os.makedirs()` function has been modified so that its mode argument no longer impacts the permissions of newly created intermediate directories.
---

(Contributed by Antoine Pitrou in [bpo-16500](https://bugs.python.org/issue?@action=redirect&bpo=16500).)
Added [`os.preadv()`](https://docs.python.org/3/library/os.html#os.preadv "os.preadv") (combine the functionality of [`os.readv()`](https://docs.python.org/3/library/os.html#os.readv "os.readv") and [`os.pread()`](https://docs.python.org/3/library/os.html#os.pread "os.pread")) and [`os.pwritev()`](https://docs.python.org/3/library/os.html#os.pwritev "os.pwritev") functions (combine the functionality of [`os.writev()`](https://docs.python.org/3/library/os.html#os.writev "os.writev") and [`os.pwrite()`](https://docs.python.org/3/library/os.html#os.pwrite "os.pwrite")). (Contributed by Pablo Galindo in [bpo-31368](https://bugs.python.org/issue?@action=redirect&bpo=31368).)
The mode argument of [`os.makedirs()`](https://docs.python.org/3/library/os.html#os.makedirs "os.makedirs") no longer affects the file permission bits of newly created intermediate-level directories. (Contributed by Serhiy Storchaka in [bpo-19930](https://bugs.python.org/issue?@action=redirect&bpo=19930).)
[`os.dup2()`](https://docs.python.org/3/library/os.html#os.dup2 "os.dup2") now returns the new file descriptor. Previously, `None` was always returned. (Contributed by Benjamin Peterson in [bpo-32441](https://bugs.python.org/issue?@action=redirect&bpo=32441).)
The structure returned by [`os.stat()`](https://docs.python.org/3/library/os.html#os.stat "os.stat") now contains the [`st_fstype`](https://docs.python.org/3/library/os.html#os.stat_result.st_fstype "os.stat_result.st_fstype") attribute on Solaris and its derivatives. (Contributed by Jesús Cea Avión in [bpo-32659](https://bugs.python.org/issue?@action=redirect&bpo=32659).)
### pathlib[¶](https://docs.python.org/3/whatsnew/3.7.html#pathlib "Link to this heading")
The new [`Path.is_mount()`](https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_mount "pathlib.Path.is_mount") method is now available on POSIX systems and can be used to determine whether a path is a mount point. (Contributed by Cooper Ry Lees in [bpo-30897](https://bugs.python.org/issue?@action=redirect&bpo=30897).)
### pdb[¶](https://docs.python.org/3/whatsnew/3.7.html#pdb "Link to this heading")
[`pdb.set_trace()`](https://docs.python.org/3/library/pdb.html#pdb.set_trace "pdb.set_trace") now takes an optional _header_ keyword-only argument. If given, it is printed to the console just before debugging begins. (Contributed by Barry Warsaw in [bpo-31389](https://bugs.python.org/issue?@action=redirect&bpo=31389).)
[`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") command line now accepts `-m module_name` as an alternative to script file. (Contributed by Mario Corchero in [bpo-32206](https://bugs.python.org/issue?@action=redirect&bpo=32206).)
### py_compile[¶](https://docs.python.org/3/whatsnew/3.7.html#py-compile "Link to this heading")
[`py_compile.compile()`](https://docs.python.org/3/library/py_compile.html#py_compile.compile "py_compile.compile") – and by extension, [`compileall`](https://docs.python.org/3/library/compileall.html#module-compileall "compileall: Tools for byte-compiling all Python source files in a directory tree.") – now respects the `SOURCE_DATE_EPOCH` environment variable by unconditionally creating `.pyc` files for hash-based validation. This allows for guaranteeing [reproducible builds](https://reproducible-builds.org/) of `.pyc` files when they are created eagerly. (Contributed by Bernhard M. Wiedemann in [bpo-29708](https://bugs.python.org/issue?@action=redirect&bpo=29708).)
### pydoc[¶](https://docs.python.org/3/whatsnew/3.7.html#pydoc "Link to this heading")
The pydoc server can now bind to an arbitrary hostname specified by the new `-n` command-line argument. (Contributed by Feanil Patel in [bpo-31128](https://bugs.python.org/issue?@action=redirect&bpo=31128).)
### queue[¶](https://docs.python.org/3/whatsnew/3.7.html#queue "Link to this heading")
The new [`SimpleQueue`](https://docs.python.org/3/library/queue.html#queue.SimpleQueue "queue.SimpleQueue") class is an unbounded FIFO queue. (Contributed by Antoine Pitrou in [bpo-14976](https://bugs.python.org/issue?@action=redirect&bpo=14976).)
### re[¶](https://docs.python.org/3/whatsnew/3.7.html#re "Link to this heading")
The flags [`re.ASCII`](https://docs.python.org/3/library/re.html#re.ASCII "re.ASCII"), [`re.LOCALE`](https://docs.python.org/3/library/re.html#re.LOCALE "re.LOCALE") and [`re.UNICODE`](https://docs.python.org/3/library/re.html#re.UNICODE "re.UNICODE") can be set within the scope of a group. (Contributed by Serhiy Storchaka in [bpo-31690](https://bugs.python.org/issue?@action=redirect&bpo=31690).)
[`re.split()`](https://docs.python.org/3/library/re.html#re.split "re.split") now supports splitting on a pattern like `r'\b'`, `'^$'` or `(?=-)` that matches an empty string.