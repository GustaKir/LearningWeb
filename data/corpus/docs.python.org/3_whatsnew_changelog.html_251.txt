Title: Python Build System Enhancements
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: The Python `configure` script now detects `readline` and `curses` modules using `pkg-config`, focusing on `ncurses`/`ncursesw`. The removal of workarounds for missing `termcap` or `tinfo` libraries and improvements made to building the `_ctypes` extension and detecting `_dbm` dependencies are highlighted. Additionally, `makesetup` addresses issues related to sed on macOS and optimizes CFLAGS usage for shared extensions.
---

/readline.html#module-readline "readline: GNU readline support for Python. \(Unix\)") and [`curses`](https://docs.python.org/3/library/curses.html#module-curses "curses: An interface to the curses library, providing portable terminal handling. \(Unix\)") module are now detected in `configure` script with `pkg-config`. Only `ncurses` / `ncursesw` are detected automatically. The old `curses` library is not configured automatically. Workaround for missing `termcap` or `tinfo` library has been removed.
  * [gh-90005](https://github.com/python/cpython/issues/90005): Fix building `_ctypes` extension without `pkg-config`.
  * [gh-90005](https://github.com/python/cpython/issues/90005): `_dbm` module dependencies are now detected by configure.
  * [gh-94404](https://github.com/python/cpython/issues/94404): `makesetup` now works around an issue with sed on macOS and uses correct CFLAGS for object files that end up in a shared extension. Module CFLAGS are used before PY_STDMODULE_CFLAGS to avoid clashes with system headers.
  * [gh-93939](https://github.com/python/cpython/issues/93939): C extension modules are now built by `configure` and `make` instead of `distutils` and `setup.py`.
  * [gh-93939](https://github.com/python/cpython/issues/93939): The `2to3`, `idle`, and `pydoc` scripts are now generated and installed by `Makefile` instead of `setup.py`.
  * [gh-94280](https://github.com/python/cpython/issues/94280): Updated pegen regeneration script on Windows to find and use Python 3.9 or higher. Prior to this, pegen regeneration already required 3.9 or higher, but the script may have used lower versions of Python.
  * [gh-93584](https://github.com/python/cpython/issues/93584): Address race condition in `Makefile` when installing a PGO build. All `test` and `install` targets now depend on `all` target.
  * [gh-93491](https://github.com/python/cpython/issues/93491): `configure` now detects and reports [**PEP 11**](https://peps.python.org/pep-0011/) support tiers.
  * [gh-69093](https://github.com/python/cpython/issues/69093): Fix `Modules/Setup.stdlib.in` rule for `_sqlite3` extension.
  * [gh-93207](https://github.com/python/cpython/issues/93207): `va_start()` with two parameters, like `va_start(args, format),` is now required to build Python. `va_start()` is no longer called with a single parameter. Patch by Kumar Aditya.
  * [gh-93202](https://github.com/python/cpython/issues/93202): Python now always use the `%zu` and `%zd` printf formats to format a `size_t` or `Py_ssize_t` number. Building Python 3.12 requires a C11 compiler, so these printf formats are now always supported. Patch by Victor Stinner.
  * [gh-90473](https://github.com/python/cpython/issues/90473): Disable pymalloc and increase stack size on `wasm32-wasi`.
  * [bpo-34449](https://bugs.python.org/issue?@action=redirect&bpo=34449): Drop invalid compiler switch `-fPIC` for HP aCC on HP-UX. Patch by Michael Osipov.