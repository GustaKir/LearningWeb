Title: Python Changelog Highlights
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This document outlines several notable changes in Python, including the implementation of PEP 451 methods in zipimport, the modification of mock objects to raise errors for certain prefixes, the deprecation of `sqlite3.OptimizedUnicode`, and additional enhancements in the threading module.
---

Patch by Mario Corchero.
  * [bpo-42131](https://bugs.python.org/issue?@action=redirect&bpo=42131): Implement PEP 451/spec methods on zipimport.zipimporter: find_spec(), create_module(), and exec_module().
This also allows for the documented deprecation of find_loader(), find_module(), and load_module().
  * [bpo-41877](https://bugs.python.org/issue?@action=redirect&bpo=41877): Mock objects which are not unsafe will now raise an AttributeError if an attribute with the prefix asert, aseert, or assrt is accessed, in addition to this already happening for the prefixes assert or assret.
  * [bpo-42264](https://bugs.python.org/issue?@action=redirect&bpo=42264): `sqlite3.OptimizedUnicode` has been undocumented and obsolete since Python 3.3, when it was made an alias to [`str`](https://docs.python.org/3/library/stdtypes.html#str "str"). It is now deprecated, scheduled for removal in Python 3.12.
  * [bpo-42251](https://bugs.python.org/issue?@action=redirect&bpo=42251): Added [`threading.gettrace()`](https://docs.python.org/3/library/threading.html#threading.gettrace "threading.gettrace") and [`threading.getprofile()`](https://docs.python.org/3/library/threading.html#threading.getprofile "threading.getprofile") to retrieve the functions set by [`threading.settrace()`](https://docs.python.org/3/library/threading.html#threading.settrace "threading.settrace") and [`threading.setprofile()`](https://docs.python.org/3/library/threading.html#threading.setprofile "threading.setprofile") respectively. Patch by Mario Corchero.
  * [bpo-42249](https://bugs.python.org/issue?@action=redirect&bpo=42249): Fixed writing binary Plist files larger than 4 GiB.
  * [bpo-42236](https://bugs.python.org/issue?@action=redirect&bpo=42236): On Unix, the [`os.device_encoding()`](https://docs.python.org/3/library/os.html#os.device_encoding "os.device_encoding") function now returns `'UTF-8'` rather than the device encoding if the [Python UTF-8 Mode](https://docs.python.org/3/library/os.html#utf8-mode) is enabled.
  * [bpo-41754](https://bugs.python.org/issue?@action=redirect&bpo=41754): webbrowser: Ignore _NotADirectoryError_ when calling `xdg-settings`.
  * [bpo-42183](https://bugs.python.org/issue?@action=redirect&bpo=42183): Fix a stack overflow error for asyncio Task or Future repr().
The overflow occurs under some circumstances when a Task or Future recursively returns itself.
  * [bpo-42140](https://bugs.python.org/issue?@action=redirect&bpo=42140): Improve asyncio.wait function to create the futures set just one time.
  * [bpo-42133](https://bugs.python.org/issue?@action=redirect&bpo=42133): Update various modules in the stdlib to fall back on `__spec__.loader` when `__loader__` isnâ€™t defined on a module.
  * [bpo-26131](https://bugs.python.org/issue?@action=redirect&bpo=26131): The `load_module()` methods found in `importlib` now trigger a `DeprecationWarning`.
  * [bpo-39825](https://bugs.python.org/issue?@action=redirect&bpo=39825): Windows: Change `sysconfig.get_config_var('EXT_SUFFIX')` to the expected full `platform_tag.extension` format. Previously it was hard-coded to `.pyd`, now it is compatible with `distutils.sysconfig` and will result in something like `.cp38-win_amd64.pyd`. This brings windows into conformance with the other platforms.
  * [bpo-26389](https://bugs.python.org/issue?@action=redirect&bpo=26389): The [`traceback.format_exception()`](https://docs.python.org/3/library/traceback.html#traceback.format_exception "traceback.format_exception"), [`traceback.format_exception_only()`](https://docs.python.org/3/library/traceback.html#traceback.format_exception_only "traceback.format_exception_only"), and [`traceback.print_exception()`](https://docs.python.org/3/library/traceback.html#traceback.print_exception "traceback.print_exception") functions can now take an exception object as a positional-only argument.
  * [bpo-41889](https://bugs.python.org/issue?@action=redirect&bpo=41889): Enum: fix regression involving inheriting a multiply inherited enum
  * [bpo-41861](https://bugs.python.org/issue?@action=redirect&bpo=41861): Convert [`sqlite3`](https://docs.python.org/3/library/sqlite3.html#module-sqlite3 "sqlite3: A DB-API 2.0 implementation using SQLite 3.x.") to use heap types (PEP 384). Patch by Erlend E. Aasland.
  * [bpo-40624](https://bugs.python.org/issue?@action=redirect&bpo=40624): Added support for the XPath `!=` operator in xml.etree
  * [bpo-28850](https://bugs.python.org/issue?@action=redirect&bpo=28850): Fix [`pprint.PrettyPrinter.format()`](https://docs.python.org/3/library/pprint.html#pprint.PrettyPrinter.format "pprint.PrettyPrinter.format") overrides being ignored for contents of small containers.