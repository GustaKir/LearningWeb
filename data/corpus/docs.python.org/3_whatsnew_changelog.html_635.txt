Title: Library Updates in Python
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section highlights key updates and fixes in the Python library, including improvements to the `typing` module for generic classes, a rewritten header folding algorithm for email policies, and enhancements to the `io.FileIO` methods which release the GIL during file size operations.
---

### Library[¶](https://docs.python.org/3/whatsnew/changelog.html#id594 "Link to this heading")
  * [bpo-28556](https://bugs.python.org/issue?@action=redirect&bpo=28556): Two minor fixes for `typing` module: allow shallow copying instances of generic classes, improve interaction of `__init_subclass__` with generics. Original PRs by Ivan Levkivskyi.
  * [bpo-27240](https://bugs.python.org/issue?@action=redirect&bpo=27240): The header folding algorithm for the new email policies has been rewritten, which also fixes [bpo-30788](https://bugs.python.org/issue?@action=redirect&bpo=30788), [bpo-31831](https://bugs.python.org/issue?@action=redirect&bpo=31831), and [bpo-32182](https://bugs.python.org/issue?@action=redirect&bpo=32182). In particular, RFC2231 folding is now done correctly.
  * [bpo-32186](https://bugs.python.org/issue?@action=redirect&bpo=32186): io.FileIO.readall() and io.FileIO.read() now release the GIL when getting the file size. Fixed hang of all threads with inaccessible NFS server. Patch by Nir Soffer.
  * [bpo-12239](https://bugs.python.org/issue?@action=redirect&bpo=12239): Make `msilib.SummaryInformation.GetProperty()` return `None` when the value of property is `VT_EMPTY`. Initial patch by Mark Mc Mahon.
  * [bpo-31325](https://bugs.python.org/issue?@action=redirect&bpo=31325): Fix wrong usage of [`collections.namedtuple()`](https://docs.python.org/3/library/collections.html#collections.namedtuple "collections.namedtuple") in the [`RobotFileParser.parse()`](https://docs.python.org/3/library/urllib.robotparser.html#urllib.robotparser.RobotFileParser.parse "urllib.robotparser.RobotFileParser.parse") method. Initial patch by Robin Wellner.
  * [bpo-12382](https://bugs.python.org/issue?@action=redirect&bpo=12382): `msilib.OpenDatabase()` now raises a better exception message when it couldn’t open or create an MSI file. Initial patch by William Tisäter.
  * [bpo-32110](https://bugs.python.org/issue?@action=redirect&bpo=32110): `codecs.StreamReader.read(n)` now returns not more than _n_ characters/bytes for non-negative _n_. This makes it compatible with `read()` methods of other file-like objects.
  * [bpo-32072](https://bugs.python.org/issue?@action=redirect&bpo=32072): Fixed issues with binary plists: Fixed saving bytearrays. Identical objects will be saved only once. Equal references will be load as identical objects. Added support for saving and loading recursive data structures.
  * [bpo-32034](https://bugs.python.org/issue?@action=redirect&bpo=32034): Make asyncio.IncompleteReadError and LimitOverrunError pickleable.
  * [bpo-32015](https://bugs.python.org/issue?@action=redirect&bpo=32015): Fixed the looping of asyncio in the case of reconnection the socket during waiting async read/write from/to the socket.
  * [bpo-32011](https://bugs.python.org/issue?@action=redirect&bpo=32011): Restored support of loading marshal files with the TYPE_INT64 code. These files can be produced in Python 2.7.
  * [bpo-31970](https://bugs.python.org/issue?@action=redirect&bpo=31970): Reduce performance overhead of asyncio debug mode.
  * [bpo-9678](https://bugs.python.org/issue?@action=redirect&bpo=9678): Fixed determining the MAC address in the uuid module: Using ifconfig on NetBSD and OpenBSD. Using arp on Linux, FreeBSD, NetBSD and OpenBSD. Based on patch by Takayuki Shimizukawa.
  * [bpo-30057](https://bugs.python.org/issue?@action=redirect&bpo=30057): Fix potential missed signal in signal.signal().
  * [bpo-31933](https://bugs.python.org/issue?@action=redirect&bpo=31933): Fix Blake2 params leaf_size and node_offset on big endian platforms. Patch by Jack O’Connor.
  * [bpo-31927](https://bugs.python.org/issue?@action=redirect&bpo=31927): Fixed compilation of the socket module on NetBSD 8. Fixed assertion failure or reading arbitrary data when parse a AF_BLUETOOTH address on NetBSD and DragonFly BSD.
  * [bpo-27666](https://bugs.python.org/issue?@action=redirect&bpo=27666): Fixed stack corruption in curses.box() and curses.ungetmouse() when the size of types chtype or mmask_t is less than the size of C long. curses.box() now accepts characters as arguments. Based on patch by Steve Fink.
  * [bpo-31897](https://bugs.python.org/issue?@action=redirect&bpo=31897): plistlib now catches more errors when read binary plists and raises InvalidFileException instead of unexpected exceptions.
  * [bpo-25720](https://bugs.python.org/issue?@action=redirect&bpo=25720): Fix the method for checking pad state of curses WINDOW. Patch by Masayuki Yamamoto.
  * [bpo-31893](https://bugs.python.org/issue?@action=redirect&bpo=31893): Fixed the layout of the kqueue_event structure on OpenBSD and NetBSD. Fixed the comparison of the kqueue_event objects.
  * [bpo-31891](https://bugs.python.org/issue?@action=redirect&bpo=31891): Fixed building the curses module on NetBSD.
  * [bpo-28416](https://bugs.python.org/issue?@action=redirect&bpo=28416): Instances of pickle.Pickler subclass with the persistent_id() method and pickle.Unpickle