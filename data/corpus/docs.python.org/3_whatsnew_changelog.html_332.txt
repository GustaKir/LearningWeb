Title: Python Changelog: Recent Bug Fixes and Updates
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section notes various bug fixes and improvements in recent Python updates, including adjustments to `_atexit_` logging behavior, `weakref.proxy` type handling, `collections.abc.Set._hash()` consistency with `frozenset.__hash__()`, corrections in `compileall.compile_file()` when `sys.stdout` is redirected, and updates to SQLite collation methods.
---

Note this will cause the message in _atexit_ not being logged if the log stream is already closed due to shutdown of logging.
  * [bpo-44720](https://bugs.python.org/issue?@action=redirect&bpo=44720): `weakref.proxy` objects referencing non-iterators now raise `TypeError` rather than dereferencing the null `tp_iternext` slot and crashing.
  * [bpo-44704](https://bugs.python.org/issue?@action=redirect&bpo=44704): The implementation of `collections.abc.Set._hash()` now matches that of `frozenset.__hash__()`.
  * [bpo-44666](https://bugs.python.org/issue?@action=redirect&bpo=44666): Fixed issue in [`compileall.compile_file()`](https://docs.python.org/3/library/compileall.html#compileall.compile_file "compileall.compile_file") when `sys.stdout` is redirected. Patch by Stefan Hölzl.
  * [bpo-44688](https://bugs.python.org/issue?@action=redirect&bpo=44688): [`sqlite3.Connection.create_collation()`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.create_collation "sqlite3.Connection.create_collation") now accepts non-ASCII collation names. Patch by Erlend E. Aasland.
  * [bpo-44690](https://bugs.python.org/issue?@action=redirect&bpo=44690): Adopt _binacii.a2b_base64_ ’s strict mode in _base64.b64decode_.
  * [bpo-42854](https://bugs.python.org/issue?@action=redirect&bpo=42854): Fixed a bug in the `_ssl` module that was throwing [`OverflowError`](https://docs.python.org/3/library/exceptions.html#OverflowError "OverflowError") when using `_ssl._SSLSocket.write()` and `_ssl._SSLSocket.read()` for a big value of the `len` parameter. Patch by Pablo Galindo.
  * [bpo-44686](https://bugs.python.org/issue?@action=redirect&bpo=44686): Replace `unittest.mock._importer` with `pkgutil.resolve_name`.
  * [bpo-44353](https://bugs.python.org/issue?@action=redirect&bpo=44353): Make `NewType.__call__` faster by implementing it in C. Patch provided by Yurii Karabas.
  * [bpo-44682](https://bugs.python.org/issue?@action=redirect&bpo=44682): Change the [`pdb`](https://docs.python.org/3/library/pdb.html#module-pdb "pdb: The Python debugger for interactive interpreters.") _commands_ directive to disallow setting commands for an invalid breakpoint and to display an appropriate error.
  * [bpo-44353](https://bugs.python.org/issue?@action=redirect&bpo=44353): Refactor `typing.NewType` from function into callable class. Patch provided by Yurii Karabas.
  * [bpo-44678](https://bugs.python.org/issue?@action=redirect&bpo=44678): Added a separate error message for discontinuous padding in _binascii.a2b_base64_ strict mode.
  * [bpo-44524](https://bugs.python.org/issue?@action=redirect&bpo=44524): Add missing `__name__` and `__qualname__` attributes to `typing` module classes. Patch provided by Yurii Karabas.
  * [bpo-40897](https://bugs.python.org/issue?@action=redirect&bpo=40897): Give priority to using the current class constructor in [`inspect.signature()`](https://docs.python.org/3/library/inspect.html#inspect.signature "inspect.signature"). Patch by Weipeng Hong.
  * [bpo-44638](https://bugs.python.org/issue?@action=redirect&bpo=44638): Add a reference to the zipp project and hint as to how to use it.
  * [bpo-44648](https://bugs.python.org/issue?@action=redirect&bpo=44648): Fixed wrong error being thrown by [`inspect.getsource()`](https://docs.python.org/3/library/inspect.html#inspect.getsource "inspect.getsource") when examining a class in the interactive session. Instead of [`TypeError`](https://docs.python.org/3/library/exceptions.html#TypeError "TypeError"), it should be [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "OSError") with appropriate error message.
  * [bpo-44608](https://bugs.python.org/issue?@action=redirect&bpo=44608): Fix memory leak in `_tkinter._flatten()` if it is called with a sequence or set, but not list or tuple.
  * [bpo-44594](https://bugs.python.org/issue?@action=redirect&bpo=44594): Fix an edge case of `ExitStack` and `AsyncExitStack` exception chaining.