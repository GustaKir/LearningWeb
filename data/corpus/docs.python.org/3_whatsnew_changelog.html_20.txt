Title: Python 3 Updates: Fixes and Regressions
URL: https://docs.python.org/3/whatsnew/changelog.html
Summary: This section details several bug fixes and regressions in Python 3, including improvements to `random.sample()`, fixes for `traceback.print_last()`, a crash in `pow()` with `Decimal`, and a reversion of previous changes in the `subprocess` module.
---

ssues/130285): Fix corner case for [`random.sample()`](https://docs.python.org/3/library/random.html#random.sample "random.sample") allowing the _counts_ parameter to specify an empty population. So now, `sample([], 0, counts=[])` and `sample('abc', k=0, counts=[0, 0, 0])` both give the same result as `sample([], 0)`.
  * [gh-130250](https://github.com/python/cpython/issues/130250): Fix regression in `traceback.print_last()`.
  * [gh-130230](https://github.com/python/cpython/issues/130230): Fix crash in [`pow()`](https://docs.python.org/3/library/functions.html#pow "pow") with only [`Decimal`](https://docs.python.org/3/library/decimal.html#decimal.Decimal "decimal.Decimal") third argument.
  * [gh-118761](https://github.com/python/cpython/issues/118761): Reverts a change in the previous release attempting to make some stdlib imports used within the [`subprocess`](https://docs.python.org/3/library/subprocess.html#module-subprocess "subprocess: Subprocess management.") module lazy as this was causing errors during `__del__` finalizers calling methods such as `terminate`, or `kill`, or `send_signal`.
  * [gh-130164](https://github.com/python/cpython/issues/130164): Fixed failure to raise [`TypeError`](https://docs.python.org/3/library/exceptions.html#TypeError "TypeError") in [`inspect.Signature.bind()`](https://docs.python.org/3/library/inspect.html#inspect.Signature.bind "inspect.Signature.bind") for positional-only arguments provided by keyword when a variadic keyword argument (e.g. `**kwargs`) is present.
  * [gh-130151](https://github.com/python/cpython/issues/130151): Fix reference leaks in `_hashlib.hmac_new()` and `_hashlib.hmac_digest()`. Patch by Bénédikt Tran.
  * [gh-130145](https://github.com/python/cpython/issues/130145): Fix `asyncio.AbstractEventloop.run_forever()` when another loop is already running.
  * [gh-129726](https://github.com/python/cpython/issues/129726): Fix [`gzip.GzipFile`](https://docs.python.org/3/library/gzip.html#gzip.GzipFile "gzip.GzipFile") raising an unraisable exception during garbage collection when referring to a temporary object by breaking the reference loop with [`weakref`](https://docs.python.org/3/library/weakref.html#module-weakref "weakref: Support for weak references and weak dictionaries.").
  * [gh-127750](https://github.com/python/cpython/issues/127750): Remove broken [`functools.singledispatchmethod()`](https://docs.python.org/3/library/functools.html#functools.singledispatchmethod "functools.singledispatchmethod") caching introduced in [gh-85160](https://github.com/python/cpython/issues/85160).
  * [gh-129583](https://github.com/python/cpython/issues/129583): Update bundled pip to 25.0.1
  * [gh-97850](https://github.com/python/cpython/issues/97850): Update the deprecation warning of [`importlib.abc.Loader.load_module()`](https://docs.python.org/3/library/importlib.html#importlib.abc.Loader.load_module "importlib.abc.Loader.load_module").
  * [gh-129646](https://github.com/python/cpython/issues/129646): Update the locale alias mapping in the [`locale`](https://docs.python.org/3/library/locale.html#module-locale "locale: Internationalization services.") module to match the latest X Org locale alias mapping and support new locales in Glibc 2.41.
  * [gh-129603](https://github.com/python/cpython/issues/129603): Fix bugs where [`sqlite3.Row`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Row "sqlite3.Row") objects could segfault if their inherited [`description`](https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.description "sqlite3.Cursor.description") was set to `None`. Patch by Erlend Aasland.
  * [gh-128231](https://github.com/python/cpython/issues/128231): Execution of multiple statements in the new REPL now stops immediately upon the first exception encountered. Patch by Bartosz Sławecki.
  * [gh-117779](https://github.com/python/cpython/issues/117779): Fix reading duplicated entries in [`zipfile`](https://docs.python.org/3/library/zipfile.html#module-zipfile "zipfile: Read and write ZIP-format archive files.") by name.