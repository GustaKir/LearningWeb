Title: Streamlit Download Button: Example for Downloading Text Files
URL: https://docs.streamlit.io/develop/api-reference/widgets/st.download_button
Summary: This section describes how to use the Streamlit `download_button` to allow users to download a string as a text file utilizing the 'text/plain' MIME type. It emphasizes the importance of using a separate preparation button for cases where widgets affect the downloaded content, to prevent the download button from triggering an app rerun that may result in outdated data being downloaded.
---

```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-download-button-csv.streamlit.app//?utm_medium=oembed&)
**Example 2: Download a string as a text file**
If you pass a string to the `data` argument, Streamlit will automatically use the "text/plain" MIME type.
When you have a widget (like a text area) affecting the value of your download, it's recommended to use another button to prepare the download. In this case, use `on_click="ignore"` in your download button to prevent the download button from rerunning your app. This turns the download button into a frontend-only element that can be nested in another button.
Without a preparation button, a user can type something into the text area and immediately click the download button. Because a download is initiated concurrently with the app rerun, this can create a race-like condition where the user doesn't see the updated data in their download.
Important
Even when you prevent your download button from triggering a rerun, another widget with a pending change can still trigger a rerun. For example, if a text area has a pending change when a user clicks a download button, the text area will trigger a rerun.
```
import streamlit as st
message = st.text_area("Message", value="Lorem ipsum.\nStreamlit is cool.")
if st.button("Prepare download"):
  st.download_button(
    label="Download text",
    data=message,
    file_name="message.txt",
    on_click="ignore",
    type="primary",
    icon=":material/download:",
  )
```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-download-button-text.streamlit.app//?utm_medium=oembed&)
**Example 3: Download a file**
Use a context manager to open and read a local file on your Streamlit server. Pass the `io.BufferedReader` object directly to `data`. Remember to specify the MIME type if you don't want the default type of `"application/octet-stream"` for generic binary data. In the example below, the MIME type is set to `"image/png"` for a PNG file.
```
import streamlit as st
with open("flower.png", "rb") as file:
  st.download_button(
    label="Download image",
    data=file,
    file_name="flower.png",
    mime="image/png",
  )
```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-download-button-file.streamlit.app//?utm_medium=oembed&)
[ Previous: st.button](https://docs.streamlit.io/develop/api-reference/widgets/st.button)[Next: st.form_submit_button](https://docs.streamlit.io/develop/api-reference/execution-flow/st.form_submit_button) _forum_
### Still have questions?
Our [forums](https://discuss.streamlit.io) are full of helpful information and Streamlit experts.
[Home](https://docs.streamlit.io/)Contact Us[Community](https://discuss.streamlit.io)[](https://github.com/streamlit "GitHub")[](https://www.youtube.com/channel/UC3LD42rjj-Owtxsa6PwGU5Q "YouTube")[](https://twitter.com/streamlit "Twitter")[](https://www.linkedin.com/company/streamlit "LinkedIn")[](https://info.snowflake.com/streamlit-newsletter-sign-up.html "Newsletter")
Â© 2025 Snowflake Inc.Cookie policy
 _forum_ Ask AI