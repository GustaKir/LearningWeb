Title: st.pyplot - Streamlit API Reference
URL: https://docs.streamlit.io/develop/api-reference/charts/st.pyplot
Summary: The `st.pyplot` function in Streamlit is used to display figures created with Matplotlib's `pyplot`. Users must have Matplotlib installed to utilize this feature, which allows for the integration of visual data representations into Streamlit applications.
---

* [Home](https://docs.streamlit.io/)/
  * [Develop](https://docs.streamlit.io/develop)/
  * [API reference](https://docs.streamlit.io/develop/api-reference)/
  * [Chart elements](https://docs.streamlit.io/develop/api-reference/charts)/
  * [st.pyplot](https://docs.streamlit.io/develop/api-reference/charts/st.pyplot)


## [](https://docs.streamlit.io/develop/api-reference/charts/st.pyplot#stpyplot)st.pyplot
Streamlit VersionVersion 1.44.0Version 1.43.0Version 1.42.0Version 1.41.0Version 1.40.0Version 1.39.0Version 1.38.0Version 1.37.0Version 1.36.0Version 1.35.0Version 1.34.0Version 1.33.0Version 1.32.0Version 1.31.0Version 1.30.0Version 1.29.0Version 1.28.0Version 1.27.0Version 1.26.0Version 1.25.0Version 1.24.0Version 1.23.0Version 1.22.0Version 1.21.0Version 1.20.0
Display a matplotlib.pyplot figure.
Important
You must install `matplotlib` to use this command.
Function signature[[source]](https://github.com/streamlit/streamlit/blob/1.44.0/lib/streamlit/elements/pyplot.py#L34 "View st.pyplot source code on GitHub")  
---  
st.pyplot(fig=None, clear_figure=None, use_container_width=True, **kwargs)  
Parameters  
fig (Matplotlib Figure) |  The Matplotlib `Figure` object to render. See <https://matplotlib.org/stable/gallery/index.html> for examples. Note When this argument isn't specified, this function will render the global Matplotlib figure object. However, this feature is deprecated and will be removed in a later version.  
clear_figure (bool) |  If True, the figure will be cleared after being rendered. If False, the figure will not be cleared after being rendered. If left unspecified, we pick a default based on the value of `fig`.
  * If `fig` is set, defaults to `False`.
  * If `fig` is not set, defaults to `True`. This simulates Jupyter's approach to matplotlib rendering.

  
use_container_width (bool) |  Whether to override the figure's native width with the width of the parent container. If `use_container_width` is `True` (default), Streamlit sets the width of the figure to match the width of the parent container. If `use_container_width` is `False`, Streamlit sets the width of the chart to fit its contents according to the plotting library, up to the width of the parent container.  
**kwargs (any) |  Arguments to pass to Matplotlib's savefig function.  
#### Example
```
import streamlit as st
import matplotlib.pyplot as plt
import numpy as np
arr = np.random.normal(1, 1, size=100)
fig, ax = plt.subplots()
ax.hist(arr, bins=20)
st.pyplot(fig)
```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-pyplot.streamlit.app//?utm_medium=oembed&)
Matplotlib supports several types of "backends". If you're getting an error using Matplotlib with Streamlit, try setting your backend to "TkAgg":
```
echo "backend: TkAgg" >> ~/.matplotlib/matplotlibrc
```

Copy
For more information, see <https://matplotlib.org/faq/usage_faq.html>.
_priority_high_
#### Warning
Matplotlib [doesn't work well with threads](https://matplotlib.org/3.3.2/faq/howto_faq.html#working-with-threads). So if you're using Matplotlib you should wrap your code with locks. This Matplotlib bug is more prominent when you deploy and share your apps because you're more likely to get concurrent users then. The following example uses [`Rlock`](https://docs.python.org/3/library/threading.html#rlock-objects) from the `threading` module.
`import streamlit as st import matplotlib.pyplot as plt import numpy as np from threading import RLock _lock = RLock() x = np.random.normal(1, 1, 100) y = np.random.normal(1, 1, 100) with _lock:   fig, ax = plt.subplots()   ax.scatter(x, y)   st.pyplot(fig) `
[Previous: st.pydeck_chart](https://docs.streamlit.io/develop/api-reference/charts/st.pydeck_chart)[Next: st.vega_lite_chart](https://docs.streamlit.io/develop/api-reference/charts/st.vega_lite_chart) _forum_
### Still have questions?
Our [forums](https://discuss.streamlit.io) are full of helpful information and Streamlit experts.
[Home](https://docs.streamlit.io/)Contact Us[Community](https://discuss.streamlit.io)[](https://github.com/streamlit "GitHub")[](https://www.youtube.com/channel/UC3LD42rjj-Owtxsa6PwGU5Q "YouTube")[](https://twitter.com/streamlit "Twitter")[](https://www.linkedin.com/company/streamlit "LinkedIn")[](https://info.snowflake.com/streamlit-newsletter-sign-up.html "Newsletter")
Â© 2025 Snowflake Inc.Cookie policy
 _forum_ Ask AI