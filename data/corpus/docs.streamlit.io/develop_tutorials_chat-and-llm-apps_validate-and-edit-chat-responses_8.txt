Title: Handling Button States in Streamlit
URL: https://docs.streamlit.io/develop/tutorials/chat-and-llm-apps/validate-and-edit-chat-responses
Summary: This section discusses how to manage the state of buttons in Streamlit when another widget's value is updated. It highlights an issue where the 'Update' button remains active despite an empty text area and provides a solution by introducing an additional check for empty input before allowing the button to trigger further actions.
---

When you click a button with an unsubmitted value in another widget, Streamlit will update that widget's value and the button's value in succession before triggering the rerun. Because there isn't a rerun between updating the text area and updating the button, the "**Update** " button doesn't get disabled as expected. To correct this, you can add an extra check for an empty text area within the `"rewrite"` stage:
`-    if st.button( -      "Update", type="primary", disabled=new is None or new.strip(". ") == "" -    ): +    is_empty = new is None or new.strip(". ") == "" +    if st.button("Update", type="primary", disabled=is_empty) and not is_empty:       st.session_state.history.append({"role": "assistant", "content": new})       st.session_state.pending = None       st.session_state.validation = {}       st.session_state.stage = "user"       st.rerun() `
Now, if you repeat the listed steps, when the app reruns, the conditional block won't be executed even though the button triggered the rerun. The button will be disabled and the user can proceed as if they had just clicked or tabbed out of the text area.
[Previous: Get chat response feedback](https://docs.streamlit.io/develop/tutorials/chat-and-llm-apps/chat-response-feedback)[Next: Quick reference](https://docs.streamlit.io/develop/quick-reference) _forum_
### Still have questions?
Our [forums](https://discuss.streamlit.io) are full of helpful information and Streamlit experts.
[Home](https://docs.streamlit.io/)Contact Us[Community](https://discuss.streamlit.io)[](https://github.com/streamlit "GitHub")[](https://www.youtube.com/channel/UC3LD42rjj-Owtxsa6PwGU5Q "YouTube")[](https://twitter.com/streamlit "Twitter")[](https://www.linkedin.com/company/streamlit "LinkedIn")[](https://info.snowflake.com/streamlit-newsletter-sign-up.html "Newsletter")
Â© 2025 Snowflake Inc.Cookie policy
 _forum_ Ask AI