Title: Using Fragments in Streamlit for Click Counting
URL: https://docs.streamlit.io/develop/api-reference/execution-flow/st.fragment
Summary: This section demonstrates how to create a simple click counter in Streamlit using a fragment. The code initializes a session state for clicks and increments it when a button is pressed. An app rerun can be triggered when the click count reaches multiples of five. Additionally, users can check the total click count with another button.
---

```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-fragment.streamlit.app//?utm_medium=oembed&)
You can also trigger an app rerun from inside a fragment by calling `st.rerun`.
```
import streamlit as st
if "clicks" not in st.session_state:
  st.session_state.clicks = 0
@st.fragment
def count_to_five():
  if st.button("Plus one!"):
    st.session_state.clicks += 1
    if st.session_state.clicks % 5 == 0:
      st.rerun()
  return
count_to_five()
st.header(f"Multiples of five clicks: {st.session_state.clicks // 5}")
if st.button("Check click count"):
  st.toast(f"## Total clicks: {st.session_state.clicks}")
```

Copy
[Built with Streamlit ðŸŽˆ](https://streamlit.io)
[Fullscreen _open_in_new_](https://doc-fragment-rerun.streamlit.app//?utm_medium=oembed&)
[ Previous: st.form_submit_button](https://docs.streamlit.io/develop/api-reference/execution-flow/st.form_submit_button)[Next: st.rerun](https://docs.streamlit.io/develop/api-reference/execution-flow/st.rerun) _forum_
### Still have questions?
Our [forums](https://discuss.streamlit.io) are full of helpful information and Streamlit experts.
[Home](https://docs.streamlit.io/)Contact Us[Community](https://discuss.streamlit.io)[](https://github.com/streamlit "GitHub")[](https://www.youtube.com/channel/UC3LD42rjj-Owtxsa6PwGU5Q "YouTube")[](https://twitter.com/streamlit "Twitter")[](https://www.linkedin.com/company/streamlit "LinkedIn")[](https://info.snowflake.com/streamlit-newsletter-sign-up.html "Newsletter")
Â© 2025 Snowflake Inc.Cookie policy
 _forum_ Ask AI