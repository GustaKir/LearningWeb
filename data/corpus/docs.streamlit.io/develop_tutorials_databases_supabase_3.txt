Title: Connecting to Supabase and Querying Data in Streamlit
URL: https://docs.streamlit.io/develop/tutorials/databases/supabase
Summary: This section outlines how to connect to a Supabase database using Streamlit, including the use of `@st.cache_resource` to initialize the connection and `@st.cache_data` to optimize query performance by caching results. It emphasizes the importance of setting an appropriate TTL for caching to ensure data freshness, especially if the database updates frequently.
---

@st.cache_resource def init_connection():   url = st.secrets["SUPABASE_URL"]   key = st.secrets["SUPABASE_KEY"] return create_client(url, key) supabase = init_connection() # Perform query. # Uses st.cache_data to only rerun when the query changes or after 10 min. @st.cache_data(ttl=600) def run_query(): return supabase.table("mytable").select("*").execute() rows = run_query() # Print results. for row in rows.data:   st.write(f"{row['name']} has a :{row['pet']}:") `
See `st.cache_data` above? Without it, Streamlit would run the query every time the app reruns (e.g. on a widget interaction). With `st.cache_data`, it only runs when the query changes or after 10 minutes (that's what `ttl` is for). Watch out: If your database updates more frequently, you should adapt `ttl` or remove caching so viewers always see the latest data. Learn more in [Caching](https://docs.streamlit.io/develop/concepts/architecture/caching).

[Previous: Snowflake](https://docs.streamlit.io/develop/tutorials/databases/snowflake)[Next: Tableau](https://docs.streamlit.io/develop/tutorials/databases/tableau) _forum_
### Still have questions?
Our [forums](https://discuss.streamlit.io) are full of helpful information and Streamlit experts.
[Home](https://docs.streamlit.io/)Contact Us[Community](https://discuss.streamlit.io)[](https://github.com/streamlit "GitHub")[](https://www.youtube.com/channel/UC3LD42rjj-Owtxsa6PwGU5Q "YouTube")[](https://twitter.com/streamlit "Twitter")[](https://www.linkedin.com/company/streamlit "LinkedIn")[](https://info.snowflake.com/streamlit-newsletter-sign-up.html "Newsletter")
Â© 2025 Snowflake Inc.Cookie policy
 _forum_ Ask AI